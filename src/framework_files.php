<?php
namespace tomk79\renconBuilder;

class framework_files {
   public function get( $className ) {
       $files = array(
           "rencon" => 'PD9waHAKLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIDwhLS0gYXBwX25hbWUgLS0+IHY8IS0tIHZlcnNpb24gLS0+CgotLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KCm5hbWVzcGFjZSByZW5jb25GcmFtZXdvcms7CgovLyA9LT0tPS09LT0tPS09LT0tPS09LT0tPSBDb25maWd1cmF0aW9uIFNUQVJUID0tPS09LT0tPS09LT0tPS09LT0tPS09CgovKi0tIGNvbmZpZyAtLSovCgovLyA9LT0tPS09LT0tPS09LT0tPS09LT0tPSAvIENvbmZpZ3VyYXRpb24gRU5EID0tPS09LT0tPS09LT0tPS09LT0tPS09CgoKaWYoICFpc3NldCgkY29uZikgKXsKCSRjb25mID0gbmV3IFxzdGRDbGFzcygpOwp9CiRjb25mID0gKG9iamVjdCkgJGNvbmY7CiRyZW5jb24gPSBuZXcgcmVuY29uKCAkY29uZiApOwokcmVuY29uLT5ydW4oKTsKZXhpdCgpOwoKY2xhc3MgcmVuY29uIHsKCglwcml2YXRlICRjb25mOwoJcHJpdmF0ZSAkZnM7Cglwcml2YXRlICRyZXE7Cglwcml2YXRlICR1c2VyOwoJcHJpdmF0ZSAkYXV0aDsKCXByaXZhdGUgJHRoZW1lOwoJcHJpdmF0ZSAkcmVzb3VyY2VzOwoKCS8qKgoJICog5YuV55qE44Gr6L+95Yqg44GV44KM44Gf44OX44Ot44OR44OG44KjCgkgKgoJICogQGFjY2VzcyBwcml2YXRlCgkgKi8KCXByaXZhdGUgJGN1c3RvbV9keW5hbWljX3Byb3BlcnR5ID0gYXJyYXkoKTsKCglwcml2YXRlICRhcHBfaWQgPSAnPCEtLSBhcHBfaWQgLS0+JzsKCXByaXZhdGUgJGFwcF9uYW1lID0gJzwhLS0gYXBwX25hbWUgLS0+JzsKCglwcml2YXRlICRyb3V0ZTsKCXByaXZhdGUgJGFwaV9yb3V0ZTsKCXByaXZhdGUgJHJvdXRlX3BhcmFtczsKCglwcml2YXRlICRyb3V0aW5nX21ldGhvZCA9ICd3ZWInOwoKCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCggJGNvbmYgKXsKCQkkdGhpcy0+ZnMgPSBuZXcgZmlsZXN5c3RlbSgpOwoJCSR0aGlzLT5yZXEgPSBuZXcgcmVxdWVzdCgpOwoJCSR0aGlzLT5jb25mID0gbmV3IGNvbmYoJHRoaXMsICRjb25mKTsKCQkkdGhpcy0+dXNlciA9IG5ldyB1c2VyKCR0aGlzKTsKCQkkdGhpcy0+cmVzb3VyY2VzID0gbmV3IHJlc291cmNlcygkdGhpcyk7Cgl9CgoJLyoqCgkgKiDli5XnmoTjgarjg5fjg63jg5Hjg4bjgqPjgpLnmbvpjLLjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIF9fc2V0KCAkbmFtZSwgJHByb3BlcnR5ICl7CgkJaWYoIGlzc2V0KCR0aGlzLT5jdXN0b21fZHluYW1pY19wcm9wZXJ0eVskbmFtZV0pICl7CgkJCXRyaWdnZXJfZXJyb3IoJyRyZW5jb24tPicuJG5hbWUuJyBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuJyk7CgkJCXJldHVybjsKCQl9CgkJJHRoaXMtPmN1c3RvbV9keW5hbWljX3Byb3BlcnR5WyRuYW1lXSA9ICRwcm9wZXJ0eTsKCQlyZXR1cm47Cgl9CgoJLyoqCgkgKiDli5XnmoTjgavov73liqDjgZXjgozjgZ/jg5fjg63jg5Hjg4bjgqPjgpLlj5bjgorlh7rjgZkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIF9fZ2V0KCAkbmFtZSApewoJCXJldHVybiAkdGhpcy0+Y3VzdG9tX2R5bmFtaWNfcHJvcGVydHlbJG5hbWVdID8/IG51bGw7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGNvbmYoKXsgcmV0dXJuICR0aGlzLT5jb25mOyB9CglwdWJsaWMgZnVuY3Rpb24gZnMoKXsgcmV0dXJuICR0aGlzLT5mczsgfQoJcHVibGljIGZ1bmN0aW9uIHJlcSgpeyByZXR1cm4gJHRoaXMtPnJlcTsgfQoJcHVibGljIGZ1bmN0aW9uIGF1dGgoKXsgcmV0dXJuICR0aGlzLT5hdXRoOyB9CglwdWJsaWMgZnVuY3Rpb24gdXNlcigpeyByZXR1cm4gJHRoaXMtPnVzZXI7IH0KCXB1YmxpYyBmdW5jdGlvbiB0aGVtZSgpeyByZXR1cm4gJHRoaXMtPnRoZW1lOyB9CglwdWJsaWMgZnVuY3Rpb24gcmVzb3VyY2VzKCl7IHJldHVybiAkdGhpcy0+cmVzb3VyY2VzOyB9CgoJcHVibGljIGZ1bmN0aW9uIGFwcF9pZCgpeyByZXR1cm4gJHRoaXMtPmFwcF9pZDsgfQoJcHVibGljIGZ1bmN0aW9uIGFwcF9uYW1lKCl7IHJldHVybiAkdGhpcy0+YXBwX25hbWU7IH0KCglwdWJsaWMgZnVuY3Rpb24gcnVuKCl7CgkJaGVhZGVyKCdDb250ZW50LXR5cGU6IHRleHQvaHRtbCcpOyAvLyBkZWZhdWx0CgoJCS8vIOS+i+WkluODj+ODs+ODieODqeOCkuioreWumuOBmeOCiwoJCXNldF9leGNlcHRpb25faGFuZGxlcihmdW5jdGlvbihcVGhyb3dhYmxlICRleGNlcHRpb24pIHsKCQkJJGRhdGVzdHIgPSBkYXRlKCdZLW0tZCBIOmk6cycpOwoJCQkkcmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpciA9ICR0aGlzLT5jb25mKCktPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIgPz8gbnVsbDsKCQkJZWNobyAiVW5jYXVnaHQgZXhjZXB0aW9uOiAiLCAkZXhjZXB0aW9uLT5nZXRNZXNzYWdlKCksICJcbiI7CgkJCWlmKCAkcmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpciAmJiBpc19kaXIoJHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIpICl7CgkJCQlpZiggIWZpbGVfZXhpc3RzKCRyZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyLicvbG9ncy8nKSApewoJCQkJCW1rZGlyKCRyZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyLicvbG9ncy8nKTsKCQkJCX0KCQkJCWVycm9yX2xvZygKCQkJCQkkZGF0ZXN0ci4iIC0gVW5jYXVnaHQgZXhjZXB0aW9uOiAiLiRleGNlcHRpb24tPmdldE1lc3NhZ2UoKS4nIG9uICcuJGV4Y2VwdGlvbi0+Z2V0RmlsZSgpLicgbGluZTonLiRleGNlcHRpb24tPmdldExpbmUoKS4iXG4iLAoJCQkJCTMsCgkJCQkJJHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIuJy9sb2dzL2Vycm9yX3JlcG9ydC5sb2cnCgkJCQkpOwoJCQl9CgkJfSk7CgoJCS8vIOOCqOODqeODvOODj+ODs+ODieODqeOCkuioreWumuOBmeOCiwoJCXNldF9lcnJvcl9oYW5kbGVyKGZ1bmN0aW9uKCRlcnJubywgJGVycnN0ciwgJGVycmZpbGUsICRlcnJsaW5lKSB7CgkJCSRkYXRlc3RyID0gZGF0ZSgnWS1tLWQgSDppOnMnKTsKCQkJJHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIgPSAkdGhpcy0+Y29uZigpLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyID8/IG51bGw7CgkJCWlmKCAkcmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpciAmJiBpc19kaXIoJHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIpICl7CgkJCQlpZiggIWZpbGVfZXhpc3RzKCRyZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyLicvbG9ncy8nKSApewoJCQkJCW1rZGlyKCRyZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyLicvbG9ncy8nKTsKCQkJCX0KCQkJCWVycm9yX2xvZygKCQkJCQkkZGF0ZXN0ci4nIC0gRXJyb3JbJy4kZXJybm8uJ106ICcuJGVycnN0ci4nIG9uICcuJGVycmZpbGUuJyBsaW5lOicuJGVycmxpbmUuIlxuIiwKCQkJCQkzLAoJCQkJCSRyZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyLicvbG9ncy9lcnJvcl9yZXBvcnQubG9nJwoJCQkJKTsKCQkJfQoKCQkJcmV0dXJuIGZhbHNlOwoJCX0pOwoKCQkvLyByb3V0aW5nCgkJJHRoaXMtPnJvdXRlID0gYXJyYXkoCi8qIHJvdXRlcjpyb3V0ZSAqLwoJCSk7CgoJCSR0aGlzLT5hcGlfcm91dGUgPSBhcnJheSgKLyogcm91dGVyOmFwaSAqLwoJCSk7CgoJCSRtaWRkbGV3YXJlID0gYXJyYXkoLyogbWlkZGxld2FyZSAqLyk7CgoJCSRhY3Rpb24gPSAkdGhpcy0+cmVxLT5nZXRfcGFyYW0oJ2EnKSA/PyAnJzsKCQkkYXBpX2FjdGlvbiA9ICR0aGlzLT5yZXEtPmdldF9wYXJhbSgnYXBpJykgPz8gJyc7CgkJJHJlc291cmNlID0gJHRoaXMtPnJlcS0+Z2V0X3BhcmFtKCdyZXMnKSA/PyBudWxsOwoJCSRjb250cm9sbGVyID0gbnVsbDsKCQkkYXBwX2luZm8gPSBhcnJheSgKCQkJJ2lkJyA9PiAkdGhpcy0+YXBwX2lkLAoJCQknbmFtZScgPT4gJHRoaXMtPmFwcF9uYW1lLAoJCQkncGFnZXMnID0+ICR0aGlzLT5yb3V0ZSwKCQkpOwoJCSRwYWdlX2luZm8gPSBhcnJheSgKCQkJJ2lkJyA9PiAkYWN0aW9uLAoJCQkndGl0bGUnID0+ICdIb21lJywKCQkpOwoJCSR0aGlzLT50aGVtZSA9IG5ldyB0aGVtZSggJHRoaXMsICRhcHBfaW5mbywgJHBhZ2VfaW5mbyApOwoJCSR0aGlzLT5hdXRoID0gbmV3IGF1dGgoICR0aGlzLCAkYXBwX2luZm8gKTsKCgoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJLy8g44Or44O844OG44Kj44Oz44Kw44Gu5pa55rOV44KS5rG644KB44KLCgkJJHRoaXMtPnJvdXRpbmdfbWV0aG9kID0gJ3dlYic7CgkJaWYoIHN0cmxlbigkcmVzb3VyY2UgPz8gJycpICl7CgkJCSR0aGlzLT5yb3V0aW5nX21ldGhvZCA9ICdyZXNvdXJjZSc7CgkJfWVsc2VpZiggIXN0cmxlbigkYWN0aW9uID8/ICcnKSAmJiBzdHJsZW4oJGFwaV9hY3Rpb24gPz8gJycpICl7CgkJCSR0aGlzLT5yb3V0aW5nX21ldGhvZCA9ICdhcGknOwoJCX0KCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkvLyDjg6rjgr3jg7zjgrnjgbjjga7jg6rjgq/jgqjjgrnjg4jjgpLlh6bnkIYKCQlpZiggJHRoaXMtPnJvdXRpbmdfbWV0aG9kID09ICdyZXNvdXJjZScgKXsKCQkJJHRoaXMtPnJlc291cmNlcy0+ZWNob19yZXNvdXJjZSggJHJlc291cmNlICk7CgkJCWV4aXQoKTsKCgkJfQoKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCS8vIOWIneacn+WMluWHpueQhgoJCSRpbml0aWFsaXplciA9IG5ldyBpbml0aWFsaXplciggJHRoaXMgKTsKCQkkaW5pdGlhbGl6ZXItPmluaXRpYWxpemUoKTsKCgoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJLy8g6KqN6Ki85Yem55CGCgkJaWYoICR0aGlzLT5yb3V0aW5nX21ldGhvZCA9PSAnd2ViJyApewoJCQlpZiggJGFjdGlvbiA9PSAnbG9nb3V0JyApewoJCQkJJHRoaXMtPmF1dGgoKS0+bG9nb3V0KCk7CgkJCQlleGl0OwoJCQl9CgoJCQkkdGhpcy0+YXV0aCgpLT5hdXRoKCk7CgoJCQlpZiggJGFjdGlvbiA9PSAnbG9nb3V0JyB8fCAkYWN0aW9uID09ICdsb2dpbicgKXsKCQkJCSR0aGlzLT5yZXEoKS0+c2V0X3BhcmFtKCdhJywgJycpOwoJCQl9CgkJfQoKCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkvLyBtaWRkbGV3YXJlCgkJZm9yZWFjaCggJG1pZGRsZXdhcmUgYXMgJG1ldGhvZCApewoJCQlsaXN0KCAkY2xhc3NOYW1lLCAkZnVuY05hbWUgKSA9IGV4cGxvZGUoJzo6JywgJG1ldGhvZCk7CgkJCSR0bXBfb2JqID0gbmV3ICRjbGFzc05hbWUoKTsKCQkJY2FsbF91c2VyX2Z1bmMoIGFycmF5KCR0bXBfb2JqLCAkZnVuY05hbWUpLCAkdGhpcyApOwoJCX0KCgoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJLy8g44Kz44Oz44OG44Oz44OE44KS5Yem55CGCgkJJGNvbnRyb2xsZXIgPSAkdGhpcy0+cm91dGluZyggJGFjdGlvbiwgJHRoaXMtPnJvdXRlICk7CgkJaWYoICR0aGlzLT5yb3V0aW5nX21ldGhvZCA9PSAnYXBpJyApewoJCQloZWFkZXIoIkNvbnRlbnQtdHlwZTogdGV4dC9qc29uIik7CgkJCSRjb250cm9sbGVyID0gJHRoaXMtPnJvdXRpbmcoICRhcGlfYWN0aW9uLCAkdGhpcy0+YXBpX3JvdXRlICk7CgkJfQoJCWlmKCAkY29udHJvbGxlciApewoKCQkJLy8gbWV0aG9kIOOCkuaknOafu+OBmeOCiwoJCQkkYWxsb3dfbWV0aG9kcyA9IGFycmF5KCJnZXQiKTsKCQkJaWYoaXNfc3RyaW5nKCRjb250cm9sbGVyLT5hbGxvd19tZXRob2RzID8/IG51bGwpKXsKCQkJCSRhbGxvd19tZXRob2RzID0gYXJyYXkoc3RydG9sb3dlcigkY29udHJvbGxlci0+YWxsb3dfbWV0aG9kcykpOwoJCQl9ZWxzZWlmKGlzX2FycmF5KCRjb250cm9sbGVyLT5hbGxvd19tZXRob2RzID8/IG51bGwpKXsKCQkJCSRhbGxvd19tZXRob2RzID0gYXJyYXkoKTsKCQkJCWZvcmVhY2goJGNvbnRyb2xsZXItPmFsbG93X21ldGhvZHMgYXMgJG1ldGhvZCl7CgkJCQkJYXJyYXlfcHVzaCgkYWxsb3dfbWV0aG9kcywgc3RydG9sb3dlcigkbWV0aG9kKSk7CgkJCQl9CgkJCX0KCgkJCWlmKCBhcnJheV9zZWFyY2goICR0aGlzLT5yZXEtPmdldF9tZXRob2QoKSwgJGFsbG93X21ldGhvZHMgKSA9PT0gZmFsc2UgKXsKCQkJCSR0aGlzLT5tZXRob2Rfbm90X2FsbG93ZWQoKTsKCQkJCWV4aXQoKTsKCQkJfQoKCQkJJHRoaXMtPnJvdXRlX3BhcmFtcyA9ICRjb250cm9sbGVyLT5wYXJhbXMgPz8gbnVsbDsKCQkJaWYoICR0aGlzLT5yb3V0aW5nX21ldGhvZCA9PSAnd2ViJyApewoJCQkJJHBhZ2VfaW5mb1sndGl0bGUnXSA9ICRjb250cm9sbGVyLT50aXRsZSA/PyBudWxsOwoJCQkJJHRoaXMtPnRoZW1lKCktPnNldF9jdXJyZW50X3BhZ2VfaW5mbyggJHBhZ2VfaW5mbyApOwoKCQkJCW9iX3N0YXJ0KCk7CgkJCQljYWxsX3VzZXJfZnVuYyggJGNvbnRyb2xsZXItPnBhZ2UsICR0aGlzICk7CgkJCQkkY29udGVudCA9IG9iX2dldF9jbGVhbigpOwoKCQkJCSRodG1sID0gJHRoaXMtPnRoZW1lKCktPmJpbmQoICRjb250ZW50ICk7CgkJCQllY2hvICRodG1sOwoKCQkJfWVsc2VpZiggJHRoaXMtPnJvdXRpbmdfbWV0aG9kID09ICdhcGknICl7CgkJCQlvYl9zdGFydCgpOwoJCQkJJGNvbnRlbnQgPSBjYWxsX3VzZXJfZnVuYyggJGNvbnRyb2xsZXItPnBhZ2UsICR0aGlzICk7CgkJCQkkc3Rkb3V0ID0gb2JfZ2V0X2NsZWFuKCk7CgoJCQkJZWNobyBqc29uX2VuY29kZSgkY29udGVudCk7CgkJCX0KCgkJfWVsc2V7CgkJCSR0aGlzLT5ub3Rmb3VuZCgpOwoJCX0KCQlleGl0KCk7Cgl9CgoJLyoqCgkgKiDjg6vjg7zjg4bjgqPjg7PjgrDlh6bnkIYKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiByb3V0aW5nKCAkYWN0aW9uLCAkcm91dGUgKXsKCQkkYWN0aW9uID0gKHN0cmluZykgJGFjdGlvbjsKCgkJLy8g6Z2Z55qE5Zu65a6a44Or44O844OICgkJaWYoICFwcmVnX21hdGNoKCcvXHsoW2EtekEtWl1bYS16QS1aMC05XSopXD9cfS8nLCAkYWN0aW9uKSAmJiBhcnJheV9rZXlfZXhpc3RzKCAkYWN0aW9uLCAkcm91dGUgKSApewoJCQkkY29udHJvbGxlciA9ICRyb3V0ZVskYWN0aW9uXTsKCQkJcmV0dXJuICRjb250cm9sbGVyOwoJCX0KCgkJLy8g5YuV55qE44Or44O844OICgkJZm9yZWFjaCggJHJvdXRlIGFzICRhY3Rpb25fa2V5ID0+ICRjb250cm9sbGVyICl7CgkJCSRkeW5hbWljS2V5cyA9IGFycmF5KCk7CgkJCSRhY3Rpb25fa2V5ID0gcHJlZ19yZXBsYWNlKCcvXC4vJywgJ1xcXFwuJywgJGFjdGlvbl9rZXkpOwoJCQkkYWN0aW9uX3B0biA9ICcnOwoJCQl3aGlsZSgxKXsKCQkJCWlmKCAhcHJlZ19tYXRjaCgnL14oLio/KVx7KFthLXpBLVpdW2EtekEtWjAtOV0qKVw/XH0oLiopJC8nLCAkYWN0aW9uX2tleSwgJG1hdGNoZWQpICl7CgkJCQkJJGFjdGlvbl9wdG4gLj0gJGFjdGlvbl9rZXk7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCQkkYWN0aW9uX3B0biAuPSAkbWF0Y2hlZFsxXTsKCQkJCWFycmF5X3B1c2goJGR5bmFtaWNLZXlzLCAkbWF0Y2hlZFsyXSk7CgkJCQkkYWN0aW9uX3B0biAuPSAnKFteXC5dKiknOwoJCQkJJGFjdGlvbl9rZXkgPSAkbWF0Y2hlZFszXTsKCQkJfQoJCQlpZiggcHJlZ19tYXRjaCgnL14nLiRhY3Rpb25fcHRuLickLycsICRhY3Rpb24sICRtYXRjaGVkKSApewoJCQkJJHJvdXRlUGFyYW1zID0gYXJyYXkoKTsKCQkJCWZvcmVhY2goICRkeW5hbWljS2V5cyBhcyAkaW5kZXggPT4gJGtleSApewoJCQkJCSRyb3V0ZVBhcmFtc1ska2V5XSA9ICRtYXRjaGVkWyRpbmRleCArIDFdOwoJCQkJfQoJCQkJJGNvbnRyb2xsZXItPnBhcmFtcyA9IChvYmplY3QpICRyb3V0ZVBhcmFtczsKCQkJCXJldHVybiAkY29udHJvbGxlcjsKCQkJfQoJCX0KCgkJcmV0dXJuIG51bGw7Cgl9CgoKCS8qKgoJICog44Or44O844OG44Kj44Oz44Kw44OR44Op44Oh44O844K/44KS44GZ44G544Gm5Y+W5b6X44GZ44KLCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfcm91dGVfcGFyYW1zKCl7CgkJcmV0dXJuICR0aGlzLT5yb3V0ZV9wYXJhbXM7Cgl9CgoJLyoqCgkgKiDjg6vjg7zjg4bjgqPjg7PjgrDjg5Hjg6njg6Hjg7zjgr/jgpLlj5blvpfjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9yb3V0ZV9wYXJhbSggJGtleSApewoJCXJldHVybiAkdGhpcy0+cm91dGVfcGFyYW1zLT57JGtleX0gPz8gbnVsbDsKCX0KCgoJLyoqCgkgKiDjg5fjg6njgrDjgqTjg7PlsILmnInjga7pnZ7lhazplovjg4fjg7zjgr/jg4fjgqPjg6zjgq/jg4jjg6rjga7lhoXpg6jjg5HjgrnjgpLlj5blvpfjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIoICRsb2NhbHBhdGggPSBudWxsICl7CgkJJHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIgPSBudWxsOwoJCWlmKCBpc19zdHJpbmcoICR0aGlzLT5jb25mLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyID8/IG51bGwgKSApewoJCQkkcmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpciA9ICR0aGlzLT5mcygpLT5nZXRfcmVhbHBhdGgoJHRoaXMtPmNvbmYtPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIuJGxvY2FscGF0aCk7CgkJfQoJCXJldHVybiAkcmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpcjsKCX0KCgoJLyoqCgkgKiBOb3QgRm91bmQg44Oa44O844K444KS6KGo56S644GX44Gm57WC5LqG44GZ44KLCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBub3Rmb3VuZCgpewoJCWhlYWRlcigiSFRUUC8xLjAgNDA0IE5vdCBGb3VuZCIpOwoJCWlmKCAkdGhpcy0+cm91dGluZ19tZXRob2QgPT0gJ3dlYicgKXsKCQkJJHBhZ2VfaW5mb1sndGl0bGUnXSA9ICdOb3QgRm91bmQnOwoJCQkkdGhpcy0+dGhlbWUoKS0+c2V0X2N1cnJlbnRfcGFnZV9pbmZvKCAkcGFnZV9pbmZvICk7CgoJCQkkY29udGVudCA9ICc8cD40MDQ6IE5vdCBGb3VuZDwvcD4nOwoJCQkkaHRtbCA9ICR0aGlzLT50aGVtZSgpLT5iaW5kKCAkY29udGVudCApOwoJCQllY2hvICRodG1sOwoJCX1lbHNlaWYoICR0aGlzLT5yb3V0aW5nX21ldGhvZCA9PSAnYXBpJyApewoJCQloZWFkZXIoIkNvbnRlbnQtdHlwZTogdGV4dC9qc29uIik7CgkJCWVjaG8ganNvbl9lbmNvZGUoYXJyYXkoCgkJCQkicmVzdWx0IiA9PiBmYWxzZSwKCQkJCSJtZXNzYWdlIiA9PiAnTm90IEZvdW5kJywKCQkJKSk7CgkJfQoJCWV4aXQ7Cgl9CgoJLyoqCgkgKiBNZXRob2QgTm90IEFsbG93ZWQg44Oa44O844K444KS6KGo56S644GX44Gm57WC5LqG44GZ44KLCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBtZXRob2Rfbm90X2FsbG93ZWQoKXsKCQloZWFkZXIoIkhUVFAvMS4wIDQwNSBNZXRob2QgTm90IEFsbG93ZWQiKTsKCQlpZiggJHRoaXMtPnJvdXRpbmdfbWV0aG9kID09ICd3ZWInICl7CgkJCSRwYWdlX2luZm9bJ3RpdGxlJ10gPSAnTWV0aG9kIE5vdCBBbGxvd2VkJzsKCQkJJHRoaXMtPnRoZW1lKCktPnNldF9jdXJyZW50X3BhZ2VfaW5mbyggJHBhZ2VfaW5mbyApOwoKCQkJJGNvbnRlbnQgPSAnPHA+NDA1OiBNZXRob2QgTm90IEFsbG93ZWQ8L3A+JzsKCQkJJGh0bWwgPSAkdGhpcy0+dGhlbWUoKS0+YmluZCggJGNvbnRlbnQgKTsKCQkJZWNobyAkaHRtbDsKCQl9ZWxzZWlmKCAkdGhpcy0+cm91dGluZ19tZXRob2QgPT0gJ2FwaScgKXsKCQkJaGVhZGVyKCJDb250ZW50LXR5cGU6IHRleHQvanNvbiIpOwoJCQllY2hvIGpzb25fZW5jb2RlKGFycmF5KAoJCQkJInJlc3VsdCIgPT4gZmFsc2UsCgkJCQkibWVzc2FnZSIgPT4gJ01ldGhvZCBOb3QgQWxsb3dlZCcsCgkJCSkpOwoJCX0KCQlleGl0OwoJfQoKCS8qKgoJICogRm9yYmlkZGVuIOODmuODvOOCuOOCkuihqOekuuOBl+OBpue1guS6huOBmeOCiwoJICovCglwdWJsaWMgZnVuY3Rpb24gZm9yYmlkZGVuKCl7CgkJaGVhZGVyKCJIVFRQLzEuMCA0MDMgRm9yYmlkZGVuIik7CgkJaWYoICR0aGlzLT5yb3V0aW5nX21ldGhvZCA9PSAnd2ViJyApewoJCQkkcGFnZV9pbmZvWyd0aXRsZSddID0gJ0ZvcmJpZGRlbic7CgkJCSR0aGlzLT50aGVtZSgpLT5zZXRfY3VycmVudF9wYWdlX2luZm8oICRwYWdlX2luZm8gKTsKCgkJCSRjb250ZW50ID0gJzxwPjQwMzogRm9yYmlkZGVuPC9wPic7CgkJCSRodG1sID0gJHRoaXMtPnRoZW1lKCktPmJpbmQoICRjb250ZW50ICk7CgkJCWVjaG8gJGh0bWw7CgkJfWVsc2VpZiggJHRoaXMtPnJvdXRpbmdfbWV0aG9kID09ICdhcGknICl7CgkJCWhlYWRlcigiQ29udGVudC10eXBlOiB0ZXh0L2pzb24iKTsKCQkJZWNobyBqc29uX2VuY29kZShhcnJheSgKCQkJCSJyZXN1bHQiID0+IGZhbHNlLAoJCQkJIm1lc3NhZ2UiID0+ICdGb3JiaWRkZW4nLAoJCQkpKTsKCQl9CgkJZXhpdDsKCX0KCn0KPz4=',
           "conf" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiByZW5jb24gY29uZiBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIGNvbmYgewoJcHJpdmF0ZSAkcmVuY29uOwoJcHJpdmF0ZSAkY29uZjsKCXByaXZhdGUgJGN1c3RvbV9keW5hbWljX3Byb3BlcnR5ID0gYXJyYXkoKTsKCXB1YmxpYyAkdXNlcnM7CglwdWJsaWMgJHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXI7CglwdWJsaWMgJGRhdGFiYXNlczsKCgkvKioKCSAqIENvbnN0cnVjdG9yCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCggJHJlbmNvbiwgJGNvbmYgKXsKCQkkdGhpcy0+cmVuY29uID0gJHJlbmNvbjsKCQkkdGhpcy0+Y29uZiA9IChvYmplY3QpICRjb25mOwoJCWZvcmVhY2goICR0aGlzLT5jb25mIGFzICRrZXk9PiR2YWwgKXsKCQkJJHRoaXMtPnska2V5fSA9ICR2YWw7CgkJfQoKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCS8vICRjb25mLT51c2VycwoJCSR0aGlzLT51c2VycyA9IG51bGw7CgkJaWYoICFpc19udWxsKCAkY29uZi0+dXNlcnMgPz8gbnVsbCApICl7CgkJCSR0aGlzLT51c2VycyA9IChhcnJheSkgJGNvbmYtPnVzZXJzOwoJCX0KCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkvLyAkY29uZi0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpcgoJCSR0aGlzLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyID0gbnVsbDsKCQlpZiggaXNfc3RyaW5nKCAkY29uZi0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpciA/PyBudWxsICkgKXsKCQkJJHRoaXMtPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIgPSAkdGhpcy0+cmVuY29uLT5mcygpLT5nZXRfcmVhbHBhdGgoJGNvbmYtPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIpOwoJCX0KCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkvLyAkY29uZi0+ZGF0YWJhc2VzCgkJJHRoaXMtPmRhdGFiYXNlcyA9IG51bGw7CgkJaWYoICFpc19udWxsKCAkY29uZi0+ZGF0YWJhc2VzID8/IG51bGwgKSApewoJCQkkdGhpcy0+ZGF0YWJhc2VzID0gKGFycmF5KSAkY29uZi0+ZGF0YWJhc2VzOwoJCX0KCX0KCgkvKioKCSAqIOWLleeahOOBquODl+ODreODkeODhuOCo+OCkueZu+mMsuOBmeOCiwoJICovCglwdWJsaWMgZnVuY3Rpb24gX19zZXQoICRuYW1lLCAkcHJvcGVydHkgKXsKCQlpZiggaXNzZXQoJHRoaXMtPmN1c3RvbV9keW5hbWljX3Byb3BlcnR5WyRuYW1lXSkgKXsKCQkJJHRoaXMtPmVycm9yKCckY29uZi0+Jy4kbmFtZS4nIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4nKTsKCQkJcmV0dXJuOwoJCX0KCQkkdGhpcy0+Y3VzdG9tX2R5bmFtaWNfcHJvcGVydHlbJG5hbWVdID0gJHByb3BlcnR5OwoJCXJldHVybjsKCX0KCgkvKioKCSAqIOWLleeahOOBq+i/veWKoOOBleOCjOOBn+ODl+ODreODkeODhuOCo+OCkuWPluOCiuWHuuOBmQoJICovCglwdWJsaWMgZnVuY3Rpb24gX19nZXQoICRuYW1lICl7CgkJcmV0dXJuICR0aGlzLT5jdXN0b21fZHluYW1pY19wcm9wZXJ0eVskbmFtZV0gPz8gbnVsbDsKCX0KCgkvKioKCSAqIOOCs+ODs+ODleOCo+OCsOWApOOCkuWPluW+l+OBmeOCiwoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0KCAka2V5ID0gbnVsbCApewoJCWlmKCBpc19udWxsKCAka2V5ICkgKXsKCQkJcmV0dXJuICR0aGlzLT5jb25mOwoJCX0KCQlpZiggcHJvcGVydHlfZXhpc3RzKCAkdGhpcy0+Y29uZiwgJGtleSApICl7CgkJCXJldHVybiAkdGhpcy0+Y29uZi0+eyRrZXl9OwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9Cn0KPz4=',
           "dataDotPhp" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiBkYXRhLlBIUCBIZWxwZXIKICovCmNsYXNzIGRhdGFEb3RQaHB7CgoJcHJpdmF0ZSBzdGF0aWMgJHNyY19oZWFkZXIgPSAnPCcuJz9waHAgaGVhZGVyKFwnSFRUUC8xLjEgNDA0IE5vdCBGb3VuZFwnKTsgZWNobyhcJzQwNCBOb3QgRm91bmRcJyk7ZXhpdCgpOyA/Jy4nPicuIlxuIjsKCgkvKioKCSAqIEpTT04uUEhQIOOCkuiqreOBv+i+vOOCgAoJICovCglzdGF0aWMgcHVibGljIGZ1bmN0aW9uIHJlYWRfanNvbiggJHJlYWxwYXRoICl7CgkJaWYoICFpc19maWxlKCRyZWFscGF0aCkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkanNvbkRvdFBocCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRyZWFscGF0aCk7CgkJJGpzb25Eb3RQaHAgPSBwcmVnX3JlcGxhY2UoJy9eLio/ZXhpdFwoXClcO1xzKlw/XD5ccyovaXMnLCAnJywgJGpzb25Eb3RQaHApOwoJCSRqc29uID0ganNvbl9kZWNvZGUoJGpzb25Eb3RQaHApOwoJCXJldHVybiAkanNvbjsKCX0KCgkvKioKCSAqIEpTT04uUEhQIOOCkuS/neWtmOOBmeOCiwoJICovCglzdGF0aWMgcHVibGljIGZ1bmN0aW9uIHdyaXRlX2pzb24oICRyZWFscGF0aCwgJGNvbnRlbnQgKXsKCQkkanNvblN0cmluZyA9IGpzb25fZW5jb2RlKCRjb250ZW50LCBKU09OX1BSRVRUWV9QUklOVHxKU09OX1VORVNDQVBFRF9TTEFTSEVTfEpTT05fVU5FU0NBUEVEX1VOSUNPREUpOwoJCSRqc29uRG90UGhwID0gc2VsZjo6JHNyY19oZWFkZXIuJGpzb25TdHJpbmc7CgkJJHJlc3VsdCA9IGZpbGVfcHV0X2NvbnRlbnRzKCAkcmVhbHBhdGgsICRqc29uRG90UGhwICk7CgkJcmV0dXJuICRyZXN1bHQ7Cgl9CgoJLyoqCgkgKiBkYXRhLlBIUCDjgavjg4fjg7zjgr/jgpLkv53lrZjjgZnjgosKCSAqLwoJc3RhdGljIHB1YmxpYyBmdW5jdGlvbiB3cml0ZSggJHJlYWxwYXRoLCAkdGV4dCApewoJCSRyZXN1bHQgPSBmaWxlX3B1dF9jb250ZW50cyggJHJlYWxwYXRoLCBzZWxmOjokc3JjX2hlYWRlci4kdGV4dCApOwoJCXJldHVybiAkcmVzdWx0OwoJfQoKCS8qKgoJICogZGF0YS5QSFAg44Gr44OH44O844K/44KS6L+96KiY44GZ44KLCgkgKi8KCXN0YXRpYyBwdWJsaWMgZnVuY3Rpb24gd3JpdGVfYSggJHJlYWxwYXRoLCAkdGV4dCApewoJCWlmKCAhaXNfZmlsZSgkcmVhbHBhdGgpICl7CgkJCWVycm9yX2xvZyggc2VsZjo6JHNyY19oZWFkZXIsIDMsICRyZWFscGF0aCApOwoJCX0KCQllcnJvcl9sb2coICR0ZXh0LCAzLCAkcmVhbHBhdGggKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KfQo/Pg==',
           "filesystem" => 'PD9waHAKLyoqCiAqIHRvbWs3OS9maWxlc3lzdGVtCiAqCiAqIEBhdXRob3IgVG9tb3lhIEtveWFuYWdpIDx0b21rNzlAZ21haWwuY29tPgogKi8KCm5hbWVzcGFjZSByZW5jb25GcmFtZXdvcms7CgovKioKICogdG9tazc5L2ZpbGVzeXN0ZW0gY29yZSBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIGZpbGVzeXN0ZW17CgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgYrjgojjgbPjg4fjgqPjg6zjgq/jg4jjg6rmk43kvZzmmYLjga7jg4fjg5Xjgqnjg6vjg4jjg5Hjg7zjg5/jg4Pjgrfjg6fjg7MKCSAqLwoJcHJpdmF0ZSAkZGVmYXVsdF9wZXJtaXNzaW9uID0gYXJyYXkoJ2Rpcic9PjA3NzUsJ2ZpbGUnPT4wNzc1KTsKCS8qKgoJICog44OV44Kh44Kk44Or44K344K544OG44Og44Gu5paH5a2X44K744OD44OICgkgKi8KCXByaXZhdGUgJGZpbGVzeXN0ZW1fZW5jb2RpbmcgPSBudWxsOwoKCS8qKgoJICog44Kz44Oz44K544OI44Op44Kv44K/CgkgKgoJICogQHBhcmFtIG9iamVjdCAkY29uZiDoqK3lrprjgqrjg5bjgrjjgqfjgq/jg4gKCSAqLwoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRjb25mPW51bGwpewoJCSRjb25mID0ganNvbl9kZWNvZGUoIGpzb25fZW5jb2RlKCRjb25mKSwgdHJ1ZSApOwoJCWlmKCFpc19hcnJheSgkY29uZikpewoJCQkkY29uZiA9IGFycmF5KCk7CgkJfQoJCWlmKCBhcnJheV9rZXlfZXhpc3RzKCdmaWxlX2RlZmF1bHRfcGVybWlzc2lvbicsICRjb25mKSAmJiBzdHJsZW4oICRjb25mWydmaWxlX2RlZmF1bHRfcGVybWlzc2lvbiddID8/ICcnICkgKXsKCQkJJHRoaXMtPmRlZmF1bHRfcGVybWlzc2lvblsnZmlsZSddID0gb2N0ZGVjKCAkY29uZlsnZmlsZV9kZWZhdWx0X3Blcm1pc3Npb24nXSApOwoJCX0KCQlpZiggYXJyYXlfa2V5X2V4aXN0cygnZGlyX2RlZmF1bHRfcGVybWlzc2lvbicsICRjb25mKSAmJiBzdHJsZW4oICRjb25mWydkaXJfZGVmYXVsdF9wZXJtaXNzaW9uJ10gPz8gJycgKSApewoJCQkkdGhpcy0+ZGVmYXVsdF9wZXJtaXNzaW9uWydkaXInXSA9IG9jdGRlYyggJGNvbmZbJ2Rpcl9kZWZhdWx0X3Blcm1pc3Npb24nXSApOwoJCX0KCX0KCgkvKioKCSAqIOabuOOBjei+vOOBvy/kuIrmm7jjgY3jgZfjgabjgojjgYTjgqLjgqTjg4bjg6DjgYvmpJzoqLzjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOabuOOBjei+vOOBv+WPr+iDveOBquWgtOWQiCBgdHJ1ZWDjgIHkuI3lj6/og73jgarloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX3dyaXRhYmxlKCAkcGF0aCApewoJCSRwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGgpOwoJCWlmKCAhJHRoaXMtPmlzX2ZpbGUoJHBhdGgpICl7CgkJCXJldHVybiBpc193cml0YWJsZSggZGlybmFtZSgkcGF0aCkgKTsKCQl9CgkJcmV0dXJuIGlzX3dyaXRhYmxlKCAkcGF0aCApOwoJfQoKCS8qKgoJICog6Kqt44G/6L6844KT44Gn44KI44GE44Ki44Kk44OG44Og44GL5qSc6Ki844GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDmpJzoqLzlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gYm9vbCDoqq3jgb/ovrzjgb/lj6/og73jgarloLTlkIggYHRydWVg44CB5LiN5Y+v6IO944Gq5aC05ZCI44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc19yZWFkYWJsZSggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCQlyZXR1cm4gaXNfcmVhZGFibGUoICRwYXRoICk7Cgl9CgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOODleOCoeOCpOODq+OBjOWtmOWcqOOBmeOCi+WgtOWQiCBgdHJ1ZWDjgIHlrZjlnKjjgZfjgarjgYTloLTlkIjjgIHjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rjgYzlrZjlnKjjgZnjgovloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2ZpbGUoICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgkJcmV0dXJuIGlzX2ZpbGUoICRwYXRoICk7Cgl9CgoJLyoqCgkgKiDjgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jgYvjganjgYbjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOODleOCoeOCpOODq+OBjOOCt+ODs+ODnOODquODg+OCr+ODquODs+OCr+OBruWgtOWQiCBgdHJ1ZWDjgIHlrZjlnKjjgZfjgarjgYTloLTlkIjjgIHjgZ3jgozku6XlpJbjga7loLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2xpbmsoICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgkJcmV0dXJuIGlzX2xpbmsoICRwYXRoICk7Cgl9CgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOODh+OCo+ODrOOCr+ODiOODquOBjOWtmOWcqOOBmeOCi+WgtOWQiCBgdHJ1ZWDjgIHlrZjlnKjjgZfjgarjgYTloLTlkIjjgIHjgb7jgZ/jga/jg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZnjgovloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2RpciggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCQlyZXR1cm4gaXNfZGlyKCAkcGF0aCApOwoJfQoKCS8qKgoJICog44OV44Kh44Kk44Or44G+44Gf44Gv44OH44Kj44Os44Kv44OI44Oq44GM5a2Y5Zyo44GZ44KL44GL44Gp44GG44GL6Kq/44G544KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDmpJzoqLzlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gYm9vbCDjg5XjgqHjgqTjg6vjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rjgYzlrZjlnKjjgZnjgovloLTlkIggYHRydWVg44CB5a2Y5Zyo44GX44Gq44GE5aC05ZCI44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBmaWxlX2V4aXN0cyggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCQlyZXR1cm4gZmlsZV9leGlzdHMoICRwYXRoICk7Cgl9CgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgpLkvZzmiJDjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRkaXJwYXRoIOS9nOaIkOOBmeOCi+ODh+OCo+ODrOOCr+ODiOODquOBruODkeOCuQoJICogQHBhcmFtIGludCAkcGVybSDkvZzmiJDjgZnjgovjg4fjgqPjg6zjgq/jg4jjg6rjgavkuI7jgYjjgovjg5Hjg7zjg5/jg4Pjgrfjg6fjg7MKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBta2RpciggJGRpcnBhdGggLCAkcGVybSA9IG51bGwgKXsKCQkkZGlycGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRkaXJwYXRoKTsKCgkJaWYoICR0aGlzLT5pc19kaXIoICRkaXJwYXRoICkgKXsKCQkJLy8g5pei44Gr44OH44Kj44Os44Kv44OI44Oq44GM44GC44Gj44Gf44KJ44CB5L2c5oiQ44KS6Kmm44G/44Gq44GE44CCCgkJCSR0aGlzLT5jaG1vZCggJGRpcnBhdGggLCAkcGVybSApOwoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJaWYoICEkdGhpcy0+aXNfZGlyKCBkaXJuYW1lKCRkaXJwYXRoKSApICl7CgkJCS8vIOimquODh+OCo+ODrOOCr+ODiOODquOBjOWtmOWcqOOBl+OBquOBhOWgtOWQiOOBr+OAgeS9nOaIkOOBp+OBjeOBquOBhAoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAhJHRoaXMtPmlzX3dyaXRhYmxlKCBkaXJuYW1lKCRkaXJwYXRoKSApICl7CgkJCS8vIOimquODh+OCo+ODrOOCr+ODiOODquOBq+abuOOBjei+vOOBv+OBp+OBjeOBquOBhOWgtOWQiOOBr+OAgeS9nOaIkOOBp+OBjeOBquOBhAoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCSRyZXN1bHQgPSBta2RpciggJGRpcnBhdGggKTsKCQkkdGhpcy0+Y2htb2QoICRkaXJwYXRoICwgJHBlcm0gKTsKCQljbGVhcnN0YXRjYWNoZSgpOwoJCXJldHVybgkkcmVzdWx0OwoJfQoKCS8qKgoJICog44OH44Kj44Os44Kv44OI44Oq44KS5L2c5oiQ44GZ44KLKOS4iuWxpOODh+OCo+ODrOOCr+ODiOODquOCguWFqOOBpuS9nOaIkCkKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRkaXJwYXRoIOS9nOaIkOOBmeOCi+ODh+OCo+ODrOOCr+ODiOODquOBruODkeOCuQoJICogQHBhcmFtIGludCAkcGVybSDkvZzmiJDjgZnjgovjg4fjgqPjg6zjgq/jg4jjg6rjgavkuI7jgYjjgovjg5Hjg7zjg5/jg4Pjgrfjg6fjg7MKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBta2Rpcl9yKCAkZGlycGF0aCAsICRwZXJtID0gbnVsbCApewoJCSRkaXJwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJGRpcnBhdGgpOwoJCWlmKCAkdGhpcy0+aXNfZGlyKCAkZGlycGF0aCApICl7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlpZiggJHRoaXMtPmlzX2ZpbGUoICRkaXJwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkcGF0aGFycmF5ID0gZXhwbG9kZSggRElSRUNUT1JZX1NFUEFSQVRPUiAsICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCAkdGhpcy0+Z2V0X3JlYWxwYXRoKCRkaXJwYXRoKSApICk7CgkJJHRhcmdldHBhdGggPSAnJzsKCQlmb3JlYWNoKCAkcGF0aGFycmF5IGFzICRpZHg9PiRMaW5lICl7CgkJCWlmKCAhc3RybGVuKCAkTGluZSA/PyAnJyApIHx8ICRMaW5lID09ICcuJyB8fCAkTGluZSA9PSAnLi4nICl7IGNvbnRpbnVlOyB9CgkJCWlmKCEoJGlkeD09PTAgJiYgRElSRUNUT1JZX1NFUEFSQVRPUiA9PSAnXFwnICYmIHByZWdfbWF0Y2goJy9eW2EtekEtWl1cOiQvcycsICRMaW5lID8/ICcnKSkpewoJCQkJJHRhcmdldHBhdGggLj0gRElSRUNUT1JZX1NFUEFSQVRPUjsKCQkJfQoJCQkkdGFyZ2V0cGF0aCAuPSAkTGluZTsKCgkJCS8vIGNsZWFyc3RhdGNhY2hlKCk7CgkJCWlmKCAhJHRoaXMtPmlzX2RpciggJHRhcmdldHBhdGggKSApewoJCQkJJHRhcmdldHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCggJHRhcmdldHBhdGggKTsKCQkJCWlmKCAhJHRoaXMtPm1rZGlyKCAkdGFyZ2V0cGF0aCAsICRwZXJtICkgKXsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0KCQl9CgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgoTjg4fjgqPjg6zjgq/jg4jjg6rjgpLkuK3ouqvjgZTjgajlrozlhajjgavliYrpmaTjgZnjgovjgIIKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jgIHjg5XjgqHjgqTjg6vjgoTjgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jgoLliYrpmaTjgZfjgb7jgZnjgIIKCSAqIOODh+OCo+ODrOOCr+ODiOODquOCkuWJiumZpOOBmeOCi+WgtOWQiOOBr+OAgeS4rei6q+OBlOOBqOWujOWFqOOBq+WJiumZpOOBl+OBvuOBmeOAggoJICog44K344Oz44Oc44Oq44OD44Kv44Oq44Oz44Kv44Gv44CB44Gd44Gu5YWI44KS6L+944KP44Ga44CB44K344Oz44Oc44Oq44OD44Kv44Oq44Oz44Kv5pys5L2T44Gu44G/44KS5YmK6Zmk44GX44G+44GZ44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBybSggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCQljbGVhcnN0YXRjYWNoZSgpOwoKCQlpZiggISR0aGlzLT5pc193cml0YWJsZSggJHBhdGggKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJHBhdGggKSB8fCAkdGhpcy0+aXNfbGluayggJHBhdGggKSApewoJCQkvLyDjg5XjgqHjgqTjg6vjgb7jgZ/jga/jgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jga7loLTlkIjjga7lh6bnkIYKCQkJJHJlc3VsdCA9IEB1bmxpbmsoICRwYXRoICk7CgkJCXJldHVybgkkcmVzdWx0OwoKCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZGlyKCAkcGF0aCApICl7CgkJCS8vIOODh+OCo+ODrOOCr+ODiOODquOBruWHpueQhgoJCQkkZmxpc3QgPSAkdGhpcy0+bHMoICRwYXRoICk7CgkJCWlmKCBpc19hcnJheSgkZmxpc3QpICl7CgkJCQlmb3JlYWNoICggJGZsaXN0IGFzICRMaW5lICl7CgkJCQkJaWYoICRMaW5lID09ICcuJyB8fCAkTGluZSA9PSAnLi4nICl7IGNvbnRpbnVlOyB9CgkJCQkJJHRoaXMtPnJtKCAkcGF0aC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICk7CgkJCQl9CgkJCX0KCQkJJHJlc3VsdCA9IHJtZGlyKCAkcGF0aCApOwoJCQlyZXR1cm4JJHJlc3VsdDsKCgkJfQoKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgpLliYrpmaTjgZnjgovjgIIKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jg4fjgqPjg6zjgq/jg4jjg6rjgpLliYrpmaTjgZfjgb7jgZnjgIIKCSAqIOS4rei6q+OBruOBquOBhOOAgeepuuOBruODh+OCo+ODrOOCr+ODiOODquS7peWkluOBr+WJiumZpOOBp+OBjeOBvuOBm+OCk+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44OH44Kj44Os44Kv44OI44Oq44Gu44OR44K5CgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gcm1kaXIoICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgoJCWlmKCAhJHRoaXMtPmlzX3dyaXRhYmxlKCAkcGF0aCApICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJJHBhdGggPSBAcmVhbHBhdGgoICRwYXRoICk7CgkJaWYoICRwYXRoID09PSBmYWxzZSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJHBhdGggKSB8fCAkdGhpcy0+aXNfbGluayggJHBhdGggKSApewoJCQkvLyDjg5XjgqHjgqTjg6vjgb7jgZ/jga/jgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jga7loLTlkIjjga7lh6bnkIYKCQkJLy8g44OH44Kj44Os44Kv44OI44Oq5Lul5aSW44Gv5YmK6Zmk44Gn44GN44G+44Gb44KT44CCCgkJCXJldHVybiBmYWxzZTsKCgkJfWVsc2VpZiggJHRoaXMtPmlzX2RpciggJHBhdGggKSApewoJCQkvLyDjg4fjgqPjg6zjgq/jg4jjg6rjga7lh6bnkIYKCQkJLy8gcm1kaXIoKSDjga/lho3luLDnmoTliYrpmaTjgpLooYzjgYTjgb7jgZvjgpPjgIIKCQkJLy8g5YaN5biw55qE44Gr5YmK6Zmk44GX44Gf44GE5aC05ZCI44Gv44CB5Luj44KP44KK44GrIGBybSgpYCDjgb7jgZ/jga8gYHJtZGlyX3IoKWAg44KS5L2/55So44GX44G+44GZ44CCCgkJCXJldHVybiBAcm1kaXIoICRwYXRoICk7CgkJfQoKCQlyZXR1cm4gZmFsc2U7Cgl9Ly9ybWRpcigpCgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgpLlho3luLDnmoTjgavliYrpmaTjgZnjgovjgIIKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jg4fjgqPjg6zjgq/jg4jjg6rjgpLlho3luLDnmoTjgavliYrpmaTjgZfjgb7jgZnjgIIKCSAqIOS4rei6q+OBruOBquOBhOOAgeepuuOBruODh+OCo+ODrOOCr+ODiOODquS7peWkluOBr+WJiumZpOOBp+OBjeOBvuOBm+OCk+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44OH44Kj44Os44Kv44OI44Oq44Gu44OR44K5CgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gcm1kaXJfciggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCgkJaWYoICEkdGhpcy0+aXNfd3JpdGFibGUoICRwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkcGF0aCA9IEByZWFscGF0aCggJHBhdGggKTsKCQlpZiggJHBhdGggPT09IGZhbHNlICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJaWYoICR0aGlzLT5pc19maWxlKCAkcGF0aCApIHx8ICR0aGlzLT5pc19saW5rKCAkcGF0aCApICl7CgkJCS8vIOODleOCoeOCpOODq+OBvuOBn+OBr+OCt+ODs+ODnOODquODg+OCr+ODquODs+OCr+OBruWgtOWQiOOBruWHpueQhgoJCQkvLyDjg4fjgqPjg6zjgq/jg4jjg6rku6XlpJbjga/liYrpmaTjgafjgY3jgb7jgZvjgpPjgIIKCQkJcmV0dXJuIGZhbHNlOwoKCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZGlyKCAkcGF0aCApICl7CgkJCS8vIOODh+OCo+ODrOOCr+ODiOODquOBruWHpueQhgoJCQkkZmlsZWxpc3QgPSAkdGhpcy0+bHMoJHBhdGgpOwoJCQlpZiggaXNfYXJyYXkoJGZpbGVsaXN0KSApewoJCQkJZm9yZWFjaCggJGZpbGVsaXN0IGFzICRiYXNlbmFtZSApewoJCQkJCWlmKCAkdGhpcy0+aXNfZmlsZSggJHBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kYmFzZW5hbWUgKSApewoJCQkJCQkkdGhpcy0+cm0oICRwYXRoLkRJUkVDVE9SWV9TRVBBUkFUT1IuJGJhc2VuYW1lICk7CgkJCQkJfWVsc2UgaWYoICEkdGhpcy0+cm1kaXJfciggJHBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kYmFzZW5hbWUgKSApewoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJfQoJCQl9CgkJCXJldHVybiAkdGhpcy0+cm1kaXIoICRwYXRoICk7CgkJfQoKCQlyZXR1cm4gZmFsc2U7Cgl9Ly9ybWRpcl9yKCkKCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgpLkuIrmm7jjgY3kv53lrZjjgZnjgovjgIIKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jgIFgJGZpbGVwYXRoYCDjgavjg4fjg7zjgr/jgpLkv53lrZjjgZfjgb7jgZnjgIIKCSAqIOOCguOBqOOCguOBqOS/neWtmOOBleOCjOOBpuOBhOOBn+WGheWuueOBr+egtOajhOOBleOCjOOAgeaWsOOBl+OBhOODh+ODvOOCv+OBp+S4iuabuOOBjeOBl+OBvuOBmeOAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGZpbGVwYXRoIOS/neWtmOWFiOODleOCoeOCpOODq+OBruODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkY29udGVudCDkv53lrZjjgZnjgovlhoXlrrkKCSAqIEBwYXJhbSBpbnQgJHBlcm0g5L+d5a2Y44GZ44KL44OV44Kh44Kk44Or44Gr5LiO44GI44KL44OR44O844Of44OD44K344On44OzCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gc2F2ZV9maWxlKCAkZmlsZXBhdGggLCAkY29udGVudCAsICRwZXJtID0gbnVsbCApewoJCSRmaWxlcGF0aCA9ICR0aGlzLT5nZXRfcmVhbHBhdGgoJGZpbGVwYXRoKTsKCQkkZmlsZXBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkZmlsZXBhdGgpOwoKCQlpZiggJHRoaXMtPmlzX2RpciggJGZpbGVwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZiggISR0aGlzLT5pc193cml0YWJsZSggJGZpbGVwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJaWYoICFzdHJsZW4oICRjb250ZW50ID8/ICcnICkgKXsKCQkJLy8g56m655m944Gu44OV44Kh44Kk44Or44Gn5LiK5pu444GN44GX44Gf44GE5aC05ZCICgkJCWlmKCAkdGhpcy0+aXNfZmlsZSggJGZpbGVwYXRoICkgKXsKCQkJCUB1bmxpbmsoICRmaWxlcGF0aCApOwoJCQl9CgkJCUB0b3VjaCggJGZpbGVwYXRoICk7CgkJCSR0aGlzLT5jaG1vZCggJGZpbGVwYXRoICwgJHBlcm0gKTsKCQkJY2xlYXJzdGF0Y2FjaGUoKTsKCQkJcmV0dXJuICR0aGlzLT5pc19maWxlKCAkZmlsZXBhdGggKTsKCQl9CgoJCWNsZWFyc3RhdGNhY2hlKCk7CgkJJGZwID0gZm9wZW4oICRmaWxlcGF0aCwgJ3cnICk7CgkJaWYoICFpc19yZXNvdXJjZSggJGZwICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJZm9yICgkd3JpdHRlbiA9IDA7ICR3cml0dGVuIDwgc3RybGVuKCRjb250ZW50KTsgJHdyaXR0ZW4gKz0gJGZ3cml0ZSkgewoJCQkkZndyaXRlID0gZndyaXRlKCRmcCwgc3Vic3RyKCRjb250ZW50LCAkd3JpdHRlbikpOwoJCQlpZiAoJGZ3cml0ZSA9PT0gZmFsc2UpIHsKCQkJCWJyZWFrOwoJCQl9CgkJfQoKCQlmY2xvc2UoJGZwKTsKCgkJJHRoaXMtPmNobW9kKCAkZmlsZXBhdGggLCAkcGVybSApOwoJCWNsZWFyc3RhdGNhY2hlKCk7CgkJcmV0dXJuICFlbXB0eSggJHdyaXR0ZW4gKTsKCX0vL3NhdmVfZmlsZSgpCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjga7kuK3ouqvjgpLmloflrZfliJfjgajjgZfjgablj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOODleOCoeOCpOODq+OBruODkeOCuQoJICogQHJldHVybiBzdHJpbmcg44OV44Kh44Kk44OrIGAkcGF0aGAg44Gu5YaF5a65CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByZWFkX2ZpbGUoICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgkJcmV0dXJuIGZpbGVfZ2V0X2NvbnRlbnRzKCAkcGF0aCApOwoJfS8vZmlsZV9nZXRfY29udGVudHMoKQoKCS8qKgoJICog44OV44Kh44Kk44Or44Gu5pu05paw5pel5pmC44KS5q+U6LyD44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aF9hIOavlOi8g+WvvuixoUEKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGhfYiDmr5TovIPlr77osaFCCgkgKiBAcmV0dXJuIGJvb2x8bnVsbAoJICogYCRwYXRoX2FgIOOBruaWueOBjOaWsOOBl+OBi+OBo+OBn+WgtOWQiOOBqyBgdHJ1ZWDjgIEKCSAqIGAkcGF0aF9iYCDjga7mlrnjgYzmlrDjgZfjgYvjgaPjgZ/loLTlkIjjgasgYGZhbHNlYOOAgQoJICog5ZCM5pmC44Gg44Gj44Gf5aC05ZCI44GrIGBudWxsYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqCgkgKiDjgYTjgZrjgozjgYvkuIDmlrnjgIHjgb7jgZ/jga/kuKHmlrnjga7jg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZfjgarjgYTloLTlkIjjgIHmrKHjga7jgojjgYbjgavmjK/jgovoiJ7jgYTjgb7jgZnjgIIKCSAqIC0g5Lih5pa544Gu44OV44Kh44Kk44Or44GM5a2Y5Zyo44GX44Gq44GE5aC05ZCIID0gYG51bGxgCgkgKiAtICRwYXRoX2Eg44GM5a2Y5Zyo44Gb44Ga44CBJHBhdGhfYiDjga/lrZjlnKjjgZnjgovloLTlkIggPSBgZmFsc2VgCgkgKiAtICRwYXRoX2Eg44GM5a2Y5Zyo44GX44CBJHBhdGhfYiDjga/lrZjlnKjjgZfjgarjgYTloLTlkIggPSBgdHJ1ZWAKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX25ld2VyX2FfdGhhbl9iKCAkcGF0aF9hICwgJHBhdGhfYiApewoJCSRwYXRoX2EgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aF9hKTsKCQkkcGF0aF9iID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGhfYik7CgoJCS8vIOavlOi8g+OBp+OBjeOBquOBhOWgtOWQiOOBqwoJCWlmKCFmaWxlX2V4aXN0cygkcGF0aF9hKSAmJiAhZmlsZV9leGlzdHMoJHBhdGhfYikpe3JldHVybiBudWxsO30KCQlpZighZmlsZV9leGlzdHMoJHBhdGhfYSkpe3JldHVybiBmYWxzZTt9CgkJaWYoIWZpbGVfZXhpc3RzKCRwYXRoX2IpKXtyZXR1cm4gdHJ1ZTt9CgoJCSRtdGltZV9hID0gZmlsZW10aW1lKCAkcGF0aF9hICk7CgkJJG10aW1lX2IgPSBmaWxlbXRpbWUoICRwYXRoX2IgKTsKCQlpZiggJG10aW1lX2EgPiAkbXRpbWVfYiApewoJCQlyZXR1cm4gdHJ1ZTsKCQl9ZWxzZWlmKCAkbXRpbWVfYSA8ICRtdGltZV9iICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJcmV0dXJuIG51bGw7Cgl9Ly9pc19uZXdlcl9hX3RoYW5fYigpCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vlkI0v44OH44Kj44Os44Kv44OI44Oq5ZCN44KS5aSJ5pu044GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkb3JpZ2luYWwg54++5Zyo44Gu44OV44Kh44Kk44Or44G+44Gf44Gv44OH44Kj44Os44Kv44OI44Oq5ZCNCgkgKiBAcGFyYW0gc3RyaW5nICRuZXduYW1lIOWkieabtOW+jOOBruODleOCoeOCpOODq+OBvuOBn+OBr+ODh+OCo+ODrOOCr+ODiOODquWQjQoJICogQHJldHVybiBib29sIOaIkOWKn+aZgiBgdHJ1ZWDjgIHlpLHmlZfmmYIgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJlbmFtZSggJG9yaWdpbmFsICwgJG5ld25hbWUgKXsKCQkkb3JpZ2luYWwgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkb3JpZ2luYWwpOwoJCSRuZXduYW1lICA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRuZXduYW1lICk7CgoJCWlmKCAhZmlsZV9leGlzdHMoICRvcmlnaW5hbCApICl7IHJldHVybiBmYWxzZTsgfQoJCWlmKCAhJHRoaXMtPmlzX3dyaXRhYmxlKCAkb3JpZ2luYWwgKSApeyByZXR1cm4gZmFsc2U7IH0KCQlyZXR1cm4gcmVuYW1lKCAkb3JpZ2luYWwgLCAkbmV3bmFtZSApOwoJfS8vcmVuYW1lKCkKCgkvKioKCSAqIOODleOCoeOCpOODq+WQjS/jg4fjgqPjg6zjgq/jg4jjg6rlkI3jgpLlvLfliLbnmoTjgavlpInmm7TjgZnjgovjgIIKCSAqCgkgKiDnp7vli5XlhYjjga7opqrjg4fjgqPjg6zjgq/jg4jjg6rjgYzlrZjlnKjjgZfjgarjgYTloLTlkIjjgavjgoLjgIHopqrjg4fjgqPjg6zjgq/jg4jjg6rjgpLkvZzmiJDjgZfjgabnp7vli5XjgZnjgovjgojjgYboqabjgb/jgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRvcmlnaW5hbCDnj77lnKjjga7jg5XjgqHjgqTjg6vjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rlkI0KCSAqIEBwYXJhbSBzdHJpbmcgJG5ld25hbWUg5aSJ5pu05b6M44Gu44OV44Kh44Kk44Or44G+44Gf44Gv44OH44Kj44Os44Kv44OI44Oq5ZCNCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmCIGB0cnVlYOOAgeWkseaVl+aZgiBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gcmVuYW1lX2YoICRvcmlnaW5hbCAsICRuZXduYW1lICl7CgkJJG9yaWdpbmFsID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJG9yaWdpbmFsKTsKCQkkbmV3bmFtZSAgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkbmV3bmFtZSApOwoKCQlpZiggIWZpbGVfZXhpc3RzKCAkb3JpZ2luYWwgKSApeyByZXR1cm4gZmFsc2U7IH0KCQlpZiggISR0aGlzLT5pc193cml0YWJsZSggJG9yaWdpbmFsICkgKXsgcmV0dXJuIGZhbHNlOyB9CgkJJGRpcm5hbWUgPSBkaXJuYW1lKCAkbmV3bmFtZSApOwoJCWlmKCAhJHRoaXMtPmlzX2RpciggJGRpcm5hbWUgKSApewoJCQlpZiggISR0aGlzLT5ta2Rpcl9yKCAkZGlybmFtZSApICl7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQl9CgkJcmV0dXJuIHJlbmFtZSggJG9yaWdpbmFsICwgJG5ld25hbWUgKTsKCX0gLy8gcmVuYW1lX2YoKQoKCS8qKgoJICog57W25a++44OR44K544KS5b6X44KL44CCCgkgKgoJICog44OR44K55oOF5aCx44KS5Y+X44GR5Y+W44KK44CB44K544Op44OD44K344Ol44GL44KJ5aeL44G+44KL44K144O844OQ44O85YaF6YOo57W25a++44OR44K544Gr5aSJ5o+b44GX44Gm6L+U44GX44G+44GZ44CCCgkgKgoJICog44GT44Gu44Oh44K944OD44OJ44Gv44CBUEhQ44GuIGByZWFscGF0aCgpYCDjgajnlbDjgarjgorjgIHlrZjlnKjjgZfjgarjgYTjg5HjgrnjgoLntbblr77jg5HjgrnjgavlpInmj5vjgZfjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeOBruODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkY2Qg44Kr44Os44Oz44OI44OH44Kj44Os44Kv44OI44Oq44OR44K544CCCgkgKiDlrp/lnKjjgZnjgovmnInlirnjgarjg4fjgqPjg6zjgq/jg4jjg6rjga7jg5HjgrnjgIHjgb7jgZ/jga/ntbblr77jg5Hjgrnjga7ooajnj77jgafmjIflrprjgZXjgozjgovlv4XopoHjgYzjgYLjgorjgb7jgZnjgIIKCSAqIOecgeeVpeaZguOAgeOCq+ODrOODs+ODiOODh+OCo+ODrOOCr+ODiOODquOCkuiHquWLleaOoeeUqOOBl+OBvuOBmeOAggoJICogQHJldHVybiBzdHJpbmcg57W25a++44OR44K5CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfcmVhbHBhdGgoICRwYXRoLCAkY2QgPSAnLicgKXsKCQkkaXNfZGlyID0gZmFsc2U7CgkJaWYoIHByZWdfbWF0Y2goICcvKFwvfFxcXFwpKyQvcycsICRwYXRoID8/ICcnICkgKXsKCQkJJGlzX2RpciA9IHRydWU7CgkJfQoJCSRwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGgpOwoJCWlmKCBpc19udWxsKCRjZCkgKXsgJGNkID0gJy4nOyB9CgkJJGNkID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJGNkKTsKCQkkcHJlZ19kaXJzZXAgPSBwcmVnX3F1b3RlKERJUkVDVE9SWV9TRVBBUkFUT1IsICcvJyk7CgoJCWlmKCAkdGhpcy0+aXNfZGlyKCRjZCkgKXsKCQkJJGNkID0gcmVhbHBhdGgoJGNkKTsKCQl9ZWxzZWlmKCAhcHJlZ19tYXRjaCgnL14oKD86W0EtWmEtel1cXDonLiRwcmVnX2RpcnNlcC4nKXwnLiRwcmVnX2RpcnNlcC4nezEsMn0pKC4qPykkLycsICRjZCA/PyAnJykgKXsKCQkJJGNkID0gZmFsc2U7CgkJfQoJCWlmKCAkY2QgPT09IGZhbHNlICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCSRwcmVmaXggPSAnJzsKCQkkbG9jYWxwYXRoID0gJHBhdGg7CgkJaWYoIHByZWdfbWF0Y2goJy9eKCg/OltBLVphLXpdXFw6Jy4kcHJlZ19kaXJzZXAuJyl8Jy4kcHJlZ19kaXJzZXAuJ3sxLDJ9KSguKj8pJC8nLCAkcGF0aCA/PyAnJywgJG1hdGNoZWQpICl7CgkJCS8vIOOCguOBqOOCguOBqOe1tuWvvuODkeOCueOBruaMh+WumuOBi+iqv+OBueOCiwoJCQkkcHJlZml4ID0gcHJlZ19yZXBsYWNlKCcvJy4kcHJlZ19kaXJzZXAuJyQvJywgJycsICRtYXRjaGVkWzFdKTsKCQkJJGxvY2FscGF0aCA9ICRtYXRjaGVkWzJdOwoJCQkkY2QgPSBudWxsOyAvLyDlhYPjga7mjIflrprjgYzntbblr77jg5HjgrnjgaDjgaPjgZ/jgonjgIHjgqvjg6zjg7Pjg4jjg4fjgqPjg6zjgq/jg4jjg6rjga/plqLkv4LjgarjgYTjga7jgafmjajjgabjgovjgIIKCQl9CgoJCSRwYXRoID0gJGNkLkRJUkVDVE9SWV9TRVBBUkFUT1IuJy4nLkRJUkVDVE9SWV9TRVBBUkFUT1IuJGxvY2FscGF0aDsKCgkJaWYoIGZpbGVfZXhpc3RzKCAkcHJlZml4LiRwYXRoICkgKXsKCQkJJHJ0biA9IHJlYWxwYXRoKCAkcHJlZml4LiRwYXRoICk7CgkJCWlmKCAkaXNfZGlyICYmICRydG4gIT0gcmVhbHBhdGgoJy8nKSApewoJCQkJJHJ0biAuPSBESVJFQ1RPUllfU0VQQVJBVE9SOwoJCQl9CgkJCXJldHVybiAkcnRuOwoJCX0KCgkJJHBhdGhzID0gZXhwbG9kZSggRElSRUNUT1JZX1NFUEFSQVRPUiwgJHBhdGggKTsKCQkkcGF0aCA9ICcnOwoJCWZvcmVhY2goICRwYXRocyBhcyAkaWR4PT4kcm93ICl7CgkJCWlmKCAkcm93ID09ICcnIHx8ICRyb3cgPT0gJy4nICl7CgkJCQljb250aW51ZTsKCQkJfQoJCQlpZiggJHJvdyA9PSAnLi4nICl7CgkJCQkkcGF0aCA9IGRpcm5hbWUoJHBhdGgpOwoJCQkJaWYoJHBhdGggPT0gRElSRUNUT1JZX1NFUEFSQVRPUiB8fCBwcmVnX21hdGNoKCcvXlthLXpBLVpdXDpbXFwvXFxcXF0qJC9zJywgJHBhdGgpICl7CgkJCQkJJHBhdGggPScnOwoJCQkJfQoJCQkJY29udGludWU7CgkJCX0KCQkJaWYoISgkaWR4PT09MCAmJiBESVJFQ1RPUllfU0VQQVJBVE9SID09ICdcXCcgJiYgcHJlZ19tYXRjaCgnL15bYS16QS1aXVw6JC9zJywgJHJvdyA/PyAnJykpKXsKCQkJCSRwYXRoIC49IERJUkVDVE9SWV9TRVBBUkFUT1I7CgkJCX0KCQkJJHBhdGggLj0gJHJvdzsKCQl9CgoJCSRydG4gPSAkcHJlZml4LiRwYXRoOwoJCWlmKCAkaXNfZGlyICl7CgkJCSRydG4gLj0gRElSRUNUT1JZX1NFUEFSQVRPUjsKCQl9CgkJcmV0dXJuICRydG47Cgl9CgoJLyoqCgkgKiDnm7jlr77jg5HjgrnjgpLlvpfjgovjgIIKCSAqCgkgKiDjg5Hjgrnmg4XloLHjgpLlj5fjgZHlj5bjgorjgIHjg4njg4Pjg4jjgrnjg6njg4Pjgrfjg6XjgYvjgonlp4vjgb7jgovnm7jlr77ntbblr77jg5HjgrnjgavlpInmj5vjgZfjgabov5TjgZfjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeOBruODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkY2Qg44Kr44Os44Oz44OI44OH44Kj44Os44Kv44OI44Oq44OR44K544CCCgkgKiDlrp/lnKjjgZnjgovmnInlirnjgarjg4fjgqPjg6zjgq/jg4jjg6rjga7jg5HjgrnjgIHjgb7jgZ/jga/ntbblr77jg5Hjgrnjga7ooajnj77jgafmjIflrprjgZXjgozjgovlv4XopoHjgYzjgYLjgorjgb7jgZnjgIIKCSAqIOecgeeVpeaZguOAgeOCq+ODrOODs+ODiOODh+OCo+ODrOOCr+ODiOODquOCkuiHquWLleaOoeeUqOOBl+OBvuOBmeOAggoJICogQHJldHVybiBzdHJpbmcg55u45a++44OR44K5CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfcmVsYXRlZHBhdGgoICRwYXRoLCAkY2QgPSAnLicgKXsKCQkkaXNfZGlyID0gZmFsc2U7CgkJaWYoIHByZWdfbWF0Y2goICcvKFwvfFxcXFwpKyQvcycsICRwYXRoID8/ICcnICkgKXsKCQkJJGlzX2RpciA9IHRydWU7CgkJfQoJCWlmKCAhc3RybGVuKCAkY2QgPz8gJycgKSApewoJCQkkY2QgPSByZWFscGF0aCgnLicpOwoJCX1lbHNlaWYoICR0aGlzLT5pc19kaXIoJGNkKSApewoJCQkkY2QgPSByZWFscGF0aCgkY2QpOwoJCX1lbHNlaWYoICR0aGlzLT5pc19maWxlKCRjZCkgKXsKCQkJJGNkID0gcmVhbHBhdGgoZGlybmFtZSgkY2QpKTsKCQl9CgkJJHBhdGggPSAkdGhpcy0+Z2V0X3JlYWxwYXRoKCRwYXRoLCAkY2QpOwoKCQkkbm9ybWFsaXplID0gZnVuY3Rpb24oICR0bXBfcGF0aCwgJGZzICl7CgkJCSR0bXBfcGF0aCA9ICRmcy0+bG9jYWxpemVfcGF0aCggJHRtcF9wYXRoICk7CgkJCSRwcmVnX2RpcnNlcCA9IHByZWdfcXVvdGUoRElSRUNUT1JZX1NFUEFSQVRPUiwgJy8nKTsKCQkJaWYoIERJUkVDVE9SWV9TRVBBUkFUT1IgPT0gJ1xcJyApewoJCQkJJHRtcF9wYXRoID0gcHJlZ19yZXBsYWNlKCAnL15bYS16QS1aXVw6L3MnLCAnJywgJHRtcF9wYXRoID8/ICcnICk7CgkJCX0KCQkJJHRtcF9wYXRoID0gcHJlZ19yZXBsYWNlKCAnL14oJy4kcHJlZ19kaXJzZXAuJykrL3MnLCAnJywgJHRtcF9wYXRoID8/ICcnICk7CgkJCSR0bXBfcGF0aCA9IHByZWdfcmVwbGFjZSggJy8oJy4kcHJlZ19kaXJzZXAuJykrJC9zJywgJycsICR0bXBfcGF0aCA/PyAnJyApOwoJCQlpZiggc3RybGVuKCR0bXBfcGF0aCkgKXsKCQkJCSR0bXBfcGF0aCA9IGV4cGxvZGUoIERJUkVDVE9SWV9TRVBBUkFUT1IsICR0bXBfcGF0aCApOwoJCQl9ZWxzZXsKCQkJCSR0bXBfcGF0aCA9IGFycmF5KCk7CgkJCX0KCgkJCXJldHVybiAkdG1wX3BhdGg7CgkJfTsKCgkJJGNkID0gJG5vcm1hbGl6ZSgkY2QsICR0aGlzKTsKCQkkcGF0aCA9ICRub3JtYWxpemUoJHBhdGgsICR0aGlzKTsKCgkJJHJ0biA9IGFycmF5KCk7CgkJd2hpbGUoIDEgKXsKCQkJaWYoICFjb3VudCgkY2QpIHx8ICFjb3VudCgkcGF0aCkgKXsKCQkJCWJyZWFrOwoJCQl9CgkJCWlmKCAkY2RbMF0gPT09ICRwYXRoWzBdICl7CgkJCQlhcnJheV9zaGlmdCggJGNkICk7CgkJCQlhcnJheV9zaGlmdCggJHBhdGggKTsKCQkJCWNvbnRpbnVlOwoJCQl9CgkJCWJyZWFrOwoJCX0KCQlpZiggY291bnQoJGNkKSApewoJCQlmb3JlYWNoKCRjZCBhcyAkZGlybmFtZSl7CgkJCQlhcnJheV9wdXNoKCAkcnRuLCAnLi4nICk7CgkJCX0KCQl9ZWxzZXsKCQkJYXJyYXlfcHVzaCggJHJ0biwgJy4nICk7CgkJfQoJCSRydG4gPSBhcnJheV9tZXJnZSggJHJ0biwgJHBhdGggKTsKCQkkcnRuID0gaW1wbG9kZSggRElSRUNUT1JZX1NFUEFSQVRPUiwgJHJ0biApOwoKCQlpZiggJGlzX2RpciApewoJCQkkcnRuIC49IERJUkVDVE9SWV9TRVBBUkFUT1I7CgkJfQoJCXJldHVybiAkcnRuOwoJfQoKCS8qKgoJICog44OR44K55oOF5aCx44KS5b6X44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gYXJyYXkg44OR44K55oOF5aCxCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBwYXRoaW5mbyggJHBhdGggKXsKCQlpZihzdHJwb3MoJHBhdGgsJyMnKSE9PWZhbHNlKXsgbGlzdCgkcGF0aCwgJGhhc2gpID0gZXhwbG9kZSggJyMnLCAkcGF0aCwgMiApOyB9CgkJaWYoc3RycG9zKCRwYXRoLCc/JykhPT1mYWxzZSl7IGxpc3QoJHBhdGgsICRxdWVyeSkgPSBleHBsb2RlKCAnPycsICRwYXRoLCAyICk7IH0KCgkJJHBhdGhpbmZvID0gcGF0aGluZm8oICRwYXRoICk7CgkJJHBhdGhpbmZvWydmaWxlbmFtZSddID0gJHRoaXMtPnRyaW1fZXh0ZW5zaW9uKCAkcGF0aGluZm9bJ2Jhc2VuYW1lJ10gKTsKCQkkcGF0aGluZm9bJ2V4dGVuc2lvbiddID0gJHRoaXMtPmdldF9leHRlbnNpb24oICRwYXRoaW5mb1snYmFzZW5hbWUnXSApOwoJCSRwYXRoaW5mb1sncXVlcnknXSA9IChpc3NldCgkcXVlcnkpJiZzdHJsZW4oJHF1ZXJ5KSA/ICc/Jy4kcXVlcnkgOiBudWxsKTsKCQkkcGF0aGluZm9bJ2hhc2gnXSA9IChpc3NldCgkaGFzaCkmJnN0cmxlbigkaGFzaCkgPyAnIycuJGhhc2ggOiBudWxsKTsKCQlyZXR1cm4gJHBhdGhpbmZvOwoJfQoKCS8qKgoJICog44OR44K55oOF5aCx44GL44KJ44CB44OV44Kh44Kk44Or5ZCN44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gc3RyaW5nIOaKnOOBjeWHuuOBleOCjOOBn+ODleOCoeOCpOODq+WQjQoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2Jhc2VuYW1lKCAkcGF0aCApewoJCSRwYXRoID0gcGF0aGluZm8oICRwYXRoICwgUEFUSElORk9fQkFTRU5BTUUgKTsKCQlpZiggIXN0cmxlbigkcGF0aCA/PyAnJykgKXskcGF0aCA9IG51bGw7fQoJCXJldHVybiAkcGF0aDsKCX0KCgkvKioKCSAqIOODkeOCueaDheWgseOBi+OCieOAgeaLoeW8teWtkOOCkumZpOOBhOOBn+ODleOCoeOCpOODq+WQjeOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcmV0dXJuIHN0cmluZyDmi6HlvLXlrZDjgYzpmaTjgYvjgozjgZ/jg5HjgrkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHRyaW1fZXh0ZW5zaW9uKCAkcGF0aCApewoJCSRwYXRoaW5mbyA9IHBhdGhpbmZvKCAkcGF0aCApOwoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cygnZXh0ZW5zaW9uJywgJHBhdGhpbmZvKSApewoJCQkkcGF0aGluZm9bJ2V4dGVuc2lvbiddID0gJyc7CgkJfQoJCSRSVE4gPSBwcmVnX3JlcGxhY2UoICcvXC4nLnByZWdfcXVvdGUoICRwYXRoaW5mb1snZXh0ZW5zaW9uJ10sICcvJyApLickLycgLCAnJyAsICRwYXRoID8/ICcnICk7CgkJcmV0dXJuICRSVE47Cgl9CgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vlkI3jgpLlkKvjgoDjg5Hjgrnmg4XloLHjgYvjgonjgIHjg5XjgqHjgqTjg6vjgYzmoLzntI3jgZXjgozjgabjgYTjgovjg4fjgqPjg6zjgq/jg4jjg6rlkI3jgpLlj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBzdHJpbmcg6Kaq44OH44Kj44Os44Kv44OI44Oq44Gu44OR44K5CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfZGlycGF0aCggJHBhdGggKXsKCQkkcGF0aCA9IHBhdGhpbmZvKCAkcGF0aCAsIFBBVEhJTkZPX0RJUk5BTUUgKTsKCQlpZiggIXN0cmxlbigkcGF0aCA/PyAnJykgKXskcGF0aCA9IG51bGw7fQoJCXJldHVybiAkcGF0aDsKCX0KCgkvKioKCSAqIOODkeOCueaDheWgseOBi+OCieOAgeaLoeW8teWtkOOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcmV0dXJuIHN0cmluZyDmi6HlvLXlrZAKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9leHRlbnNpb24oICRwYXRoICl7CgkJaWYoIGlzX251bGwoJHBhdGgpICl7IHJldHVybiBudWxsOyB9CgkJJHBhdGggPSBwcmVnX3JlcGxhY2UoJy9cIy4qJC9zaScsICcnLCAkcGF0aCk7CgkJJHBhdGggPSBwcmVnX3JlcGxhY2UoJy9cPy4qJC9zaScsICcnLCAkcGF0aCk7CgkJJHBhdGggPSBwYXRoaW5mbyggJHBhdGggLCBQQVRISU5GT19FWFRFTlNJT04gKTsKCQlpZighc3RybGVuKCRwYXRoID8/ICcnKSl7JHBhdGggPSBudWxsO30KCQlyZXR1cm4gJHBhdGg7Cgl9CgoKCS8qKgoJICogQ1NW44OV44Kh44Kk44Or44KS6Kqt44G/6L6844KA44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga5DU1bjg5XjgqHjgqTjg6vjga7jg5HjgrkKCSAqIEBwYXJhbSBhcnJheSAkb3B0aW9ucyDjgqrjg5fjgrfjg6fjg7MKCSAqIC0gZGVsaW1pdGVyID0g5Yy65YiH44KK5paH5a2XKOecgeeVpeaZguOAgeOCq+ODs+ODnikKCSAqIC0gZW5jbG9zdXJlID0g44Kv44Ot44O844K444Oj44O85paH5a2XKOecgeeVpeaZguOAgeODgOODluODq+OCr+OCquODvOODiCkKCSAqIC0gc2l6ZSA9IOS4gOW6puOBq+iqreOBv+i+vOOCgOOCteOCpOOCuijnnIHnlaXmmYLjgIExMDAwMCkKCSAqIC0gY2hhcnNldCA9IOaWh+Wtl+OCu+ODg+ODiCjnnIHnlaXmmYLjgIFVVEYtOCkKCSAqIEByZXR1cm4gYXJyYXl8Ym9vbCDoqq3jgb/ovrzjgb/jgavmiJDlip/jgZfjgZ/loLTlkIjjgIHooYzliJfjgpLmoLzntI3jgZfjgZ/phY3liJfjgIHlpLHmlZfjgZfjgZ/loLTlkIjjgavjga8gYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJlYWRfY3N2KCAkcGF0aCAsICRvcHRpb25zID0gYXJyYXkoKSApewoJCS8vICRvcHRpb25zWydjaGFyc2V0J10g44Gv44CB5L+d5a2Y44GV44KM44Gm44GE44KLQ1NW44OV44Kh44Kk44Or44Gu5paH5a2X44Ko44Oz44Kz44O844OJ44Gn44GZ44CCCgkJLy8g55yB55Wl5pmC44GvIFVURi04IOOBi+OCieOAgeWGhemDqOOCqOODs+OCs+ODvOODh+OCo+ODs+OCsOOBq+WkieaPm+OBl+OBvuOBmeOAggoKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCgkJaWYoICEkdGhpcy0+aXNfZmlsZSggJHBhdGggKSApewoJCQkvLyDjg5XjgqHjgqTjg6vjgYzjgarjgZHjgozjgbBmYWxzZeOCkui/lOOBmQoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQkvLyBOb3JtYWxpemUgJG9wdGlvbnMKCQlpZiggIWlzX2FycmF5KCRvcHRpb25zKSApewoJCQkkb3B0aW9ucyA9IGFycmF5KCk7CgkJfQoJCWlmKCAhaXNzZXQoJG9wdGlvbnNbJ2RlbGltaXRlciddKSB8fCAhc3RybGVuKCAkb3B0aW9uc1snZGVsaW1pdGVyJ10gPz8gJycgKSApICAgIHsgJG9wdGlvbnNbJ2RlbGltaXRlciddID0gJywnOyB9CgkJaWYoICFpc3NldCgkb3B0aW9uc1snZW5jbG9zdXJlJ10pIHx8ICFzdHJsZW4oICRvcHRpb25zWydlbmNsb3N1cmUnXSA/PyAnJyApICkgICAgeyAkb3B0aW9uc1snZW5jbG9zdXJlJ10gPSAnIic7IH0KCQlpZiggIWlzc2V0KCRvcHRpb25zWydzaXplJ10pICAgICAgfHwgIXN0cmxlbiggJG9wdGlvbnNbJ3NpemUnXSA/PyAnJyApICkgICAgICAgICB7ICRvcHRpb25zWydzaXplJ10gPSAxMDAwMDsgfQoJCWlmKCAhaXNzZXQoJG9wdGlvbnNbJ2NoYXJzZXQnXSkgICB8fCAhc3RybGVuKCAkb3B0aW9uc1snY2hhcnNldCddID8/ICcnICkgKSAgICAgIHsgJG9wdGlvbnNbJ2NoYXJzZXQnXSA9ICdVVEYtOCxTSklTLXdpbixldWNKUC13aW4sU0pJUyxFVUMtSlAnOyB9Ly/ihpBDU1bjga7mloflrZfjgrvjg4Pjg4gKCgkJJFJUTiA9IGFycmF5KCk7CgkJJGZwID0gZm9wZW4oICRwYXRoLCAncicgKTsKCQlpZiggIWlzX3Jlc291cmNlKCAkZnAgKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQl3aGlsZSggJFNNTUVNTyA9IGZnZXRjc3YoICRmcCAsIGludHZhbCggJG9wdGlvbnNbJ3NpemUnXSApICwgJG9wdGlvbnNbJ2RlbGltaXRlciddICwgJG9wdGlvbnNbJ2VuY2xvc3VyZSddICkgKXsKCQkJZm9yZWFjaCggJFNNTUVNTyBhcyAka2V5PT4kcm93ICl7CgkJCQkkU01NRU1PWyRrZXldID0gbWJfY29udmVydF9lbmNvZGluZyggJHJvdyA/PyAnJyAsIG1iX2ludGVybmFsX2VuY29kaW5nKCksICRvcHRpb25zWydjaGFyc2V0J10gKTsKCQkJfQoJCQlhcnJheV9wdXNoKCAkUlROICwgJFNNTUVNTyApOwoJCX0KCQlmY2xvc2UoJGZwKTsKCQlyZXR1cm4gJFJUTjsKCX0gLy8gcmVhZF9jc3YoKQoKCS8qKgoJICog6YWN5YiX44KSQ1NW5b2i5byP44Gr5aSJ5o+b44GZ44KL44CCCgkgKgoJICog5pS56KGM44Kz44O844OJ44GvTEbjgaflh7rlipvjgZXjgozjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gYXJyYXkgJGFycmF5IDLmrKHlhYPphY3liJcKCSAqIEBwYXJhbSBhcnJheSAkb3B0aW9ucyDjgqrjg5fjgrfjg6fjg7MKCSAqIC0gY2hhcnNldCA9IOaWh+Wtl+OCu+ODg+ODiCjnnIHnlaXmmYLjgIFVVEYtOCkKCSAqIEByZXR1cm4gc3RyaW5nIOeUn+aIkOOBleOCjOOBn0NTVuW9ouW8j+OBruODhuOCreOCueODiAoJICovCglwdWJsaWMgZnVuY3Rpb24gbWtfY3N2KCAkYXJyYXkgLCAkb3B0aW9ucyA9IGFycmF5KCkgKXsKCQkvLyAkb3B0aW9uc1snY2hhcnNldCddIOOBr+OAgeWHuuWKm+OBleOCjOOCi0NTVuW9ouW8j+OBruaWh+Wtl+OCqOODs+OCs+ODvOODieOCkuaMh+WumuOBl+OBvuOBmeOAggoJCS8vIOecgeeVpeaZguOBryBVVEYtOCDjgavlpInmj5vjgZfjgabov5TjgZfjgb7jgZnjgIIKCQlpZiggIWlzX2FycmF5KCAkYXJyYXkgKSApeyAkYXJyYXkgPSBhcnJheSgpOyB9CgoJCS8vIE5vcm1hbGl6ZSAkb3B0aW9ucwoJCWlmKCAhaXNfYXJyYXkoJG9wdGlvbnMpICl7CgkJCSRvcHRpb25zID0gYXJyYXkoKTsKCQl9CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCAnY2hhcnNldCcsICRvcHRpb25zICkgKXsKCQkJJG9wdGlvbnNbJ2NoYXJzZXQnXSA9IG51bGw7CgkJfQoJCWlmKCAhaXNzZXQoJG9wdGlvbnNbJ2NoYXJzZXQnXSkgfHwgIXN0cmxlbiggJG9wdGlvbnNbJ2NoYXJzZXQnXSA/PyAnJyApICl7CgkJCSRvcHRpb25zWydjaGFyc2V0J10gPSAnVVRGLTgnOwoJCX0KCgkJJFJUTiA9ICcnOwoJCWZvcmVhY2goICRhcnJheSBhcyAkTGluZSApewoJCQlpZiggaXNfbnVsbCggJExpbmUgKSApeyBjb250aW51ZTsgfQoJCQlpZiggIWlzX2FycmF5KCAkTGluZSApICl7ICRMaW5lID0gYXJyYXkoKTsgfQoJCQlmb3JlYWNoKCAkTGluZSBhcyAkY2VsbCApewoJCQkJJGNlbGwgPSBtYl9jb252ZXJ0X2VuY29kaW5nKCAkY2VsbCA/PyAnJyAsICRvcHRpb25zWydjaGFyc2V0J10pOwoJCQkJaWYoIHByZWdfbWF0Y2goICcvIi8nICwgJGNlbGwgPz8gJycgKSApewoJCQkJCSRjZWxsID0gcHJlZ19yZXBsYWNlKCAnLyIvJyAsICciIicgLCAkY2VsbCA/PyAnJyk7CgkJCQl9CgkJCQlpZiggc3RybGVuKCAkY2VsbCApICl7CgkJCQkJJGNlbGwgPSAnIicuJGNlbGwuJyInOwoJCQkJfQoJCQkJJFJUTiAuPSAkY2VsbC4nLCc7CgkJCX0KCQkJJFJUTiA9IHByZWdfcmVwbGFjZSggJy8sJC8nICwgJycgLCAkUlROICk7CgkJCSRSVE4gLj0gIlxuIjsKCQl9CgkJcmV0dXJuICRSVE47Cgl9IC8vIG1rX2NzdigpCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgpLopIfoo73jgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRmcm9tIOOCs+ODlOODvOWFg+ODleOCoeOCpOODq+OBruODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkdG8g44Kz44OU44O85YWI44Gu44OR44K5CgkgKiBAcGFyYW0gaW50ICRwZXJtIOS/neWtmOOBmeOCi+ODleOCoeOCpOODq+OBq+S4juOBiOOCi+ODkeODvOODn+ODg+OCt+ODp+ODswoJICogQHJldHVybiBib29sIOaIkOWKn+aZguOBqyBgdHJ1ZWDjgIHlpLHmlZfmmYLjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNvcHkoICRmcm9tICwgJHRvICwgJHBlcm0gPSBudWxsICl7CgkJJGZyb20gPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkZnJvbSk7CgkJJHRvICAgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkdG8gICk7CgoJCWlmKCAhJHRoaXMtPmlzX2ZpbGUoICRmcm9tICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZiggISR0aGlzLT5pc19yZWFkYWJsZSggJGZyb20gKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQlpZiggJHRoaXMtPmlzX2ZpbGUoICR0byApICl7CgkJCS8vCeOBvuOBo+OBn+OBj+WQjOOBmOODleOCoeOCpOODq+OBoOOBo+OBn+WgtOWQiOOBr+OAgeikh+ijveOBl+OBquOBhOOBp3RydWXjgpLov5TjgZnjgIIKCQkJaWYoIG1kNV9maWxlKCAkZnJvbSApID09IG1kNV9maWxlKCAkdG8gKSAmJiBmaWxlc2l6ZSggJGZyb20gKSA9PSBmaWxlc2l6ZSggJHRvICkgKXsKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJfQoJCWlmKCAhQGNvcHkoICRmcm9tICwgJHRvICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkdGhpcy0+Y2htb2QoICR0byAsICRwZXJtICk7CgkJcmV0dXJuIHRydWU7Cgl9Ly9jb3B5KCkKCgkvKioKCSAqIOODh+OCo+ODrOOCr+ODiOODquOCkuWGjeW4sOeahOOBq+ikh+ijveOBmeOCiyjkuIvlsaTjg4fjgqPjg6zjgq/jg4jjg6rjgoLlhajjgabjgrPjg5Tjg7wpCgkgKgoJICog44OH44Kj44Os44Kv44OI44Oq44KS44CB5ZCr44G+44KM44KL5YaF5a6544GU44Go6KSH6KO944GX44G+44GZ44CCCgkgKiDlj5fjgZHlj5bjgaPjgZ/jg5HjgrnjgYzjg5XjgqHjgqTjg6vjga7loLTlkIjjga/jgIHljZjkvZPjga7jg5XjgqHjgqTjg6vjgYzopIfoo73jgZXjgozjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRmcm9tIOOCs+ODlOODvOWFg+ODleOCoeOCpOODq+OBruODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkdG8g44Kz44OU44O85YWI44Gu44OR44K5CgkgKiBAcGFyYW0gaW50ICRwZXJtIOS/neWtmOOBmeOCi+ODleOCoeOCpOODq+OBq+S4juOBiOOCi+ODkeODvOODn+ODg+OCt+ODp+ODswoJICogQHJldHVybiBib29sIOaIkOWKn+aZguOBqyBgdHJ1ZWDjgIHlpLHmlZfmmYLjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNvcHlfciggJGZyb20gLCAkdG8gLCAkcGVybSA9IG51bGwgKXsKCQkkZnJvbSA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRmcm9tKTsKCQkkdG8gICA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCR0byAgKTsKCgkJJHJlc3VsdCA9IHRydWU7CgoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJGZyb20gKSApewoJCQlpZiggJHRoaXMtPm1rZGlyX3IoIGRpcm5hbWUoICR0byApICkgKXsKCQkJCWlmKCAhJHRoaXMtPmNvcHkoICRmcm9tICwgJHRvICwgJHBlcm0gKSApewoJCQkJCSRyZXN1bHQgPSBmYWxzZTsKCQkJCX0KCQkJfWVsc2V7CgkJCQkkcmVzdWx0ID0gZmFsc2U7CgkJCX0KCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZGlyKCAkZnJvbSApICl7CgkJCWlmKCAhJHRoaXMtPmlzX2RpciggJHRvICkgKXsKCQkJCWlmKCAhJHRoaXMtPm1rZGlyX3IoICR0byApICl7CgkJCQkJJHJlc3VsdCA9IGZhbHNlOwoJCQkJfQoJCQl9CgkJCSRpdGVtbGlzdCA9ICR0aGlzLT5scyggJGZyb20gKTsKCQkJaWYoIGlzX2FycmF5KCRpdGVtbGlzdCkgKXsKCQkJCWZvcmVhY2goICRpdGVtbGlzdCBhcyAkTGluZSApewoJCQkJCWlmKCAkTGluZSA9PSAnLicgfHwgJExpbmUgPT0gJy4uJyApeyBjb250aW51ZTsgfQoJCQkJCWlmKCAkdGhpcy0+aXNfZGlyKCAkZnJvbS5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCQkJaWYoICR0aGlzLT5pc19maWxlKCAkdG8uRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSApICl7CgkJCQkJCQljb250aW51ZTsKCQkJCQkJfWVsc2VpZiggISR0aGlzLT5pc19kaXIoICR0by5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCQkJCWlmKCAhJHRoaXMtPm1rZGlyX3IoICR0by5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCQkJCQkkcmVzdWx0ID0gZmFsc2U7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJaWYoICEkdGhpcy0+Y29weV9yKCAkZnJvbS5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICwgJHRvLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgLCAkcGVybSApICl7CgkJCQkJCQkkcmVzdWx0ID0gZmFsc2U7CgkJCQkJCX0KCQkJCQkJY29udGludWU7CgkJCQkJfWVsc2VpZiggJHRoaXMtPmlzX2ZpbGUoICRmcm9tLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgKSApewoJCQkJCQlpZiggISR0aGlzLT5jb3B5X3IoICRmcm9tLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgLCAkdG8uRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSAsICRwZXJtICkgKXsKCQkJCQkJCSRyZXN1bHQgPSBmYWxzZTsKCQkJCQkJfQoJCQkJCQljb250aW51ZTsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9CgoJCXJldHVybiAkcmVzdWx0OwoJfSAvLyBjb3B5X3IoKQoKCS8qKgoJICog44OR44O844Of44OD44K344On44Oz44KS5aSJ5pu044GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkZmlsZXBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcGFyYW0gaW50ICRwZXJtIOS4juOBiOOCi+ODkeODvOODn+ODg+OCt+ODp+ODswoJICogQHJldHVybiBib29sIOaIkOWKn+aZguOBqyBgdHJ1ZWDjgIHlpLHmlZfmmYLjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNobW9kKCAkZmlsZXBhdGgsICRwZXJtID0gbnVsbCApewoJCSRmaWxlcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRmaWxlcGF0aCk7CgkJaWYoICFmaWxlX2V4aXN0cygkZmlsZXBhdGgpICl7CgkJCXJldHVybjsKCQl9CgoJCWlmKCBpc19udWxsKCAkcGVybSApICl7CgkJCWlmKCAkdGhpcy0+aXNfZGlyKCAkZmlsZXBhdGggKSApewoJCQkJJHBlcm0gPSAkdGhpcy0+ZGVmYXVsdF9wZXJtaXNzaW9uWydkaXInXTsKCQkJfWVsc2V7CgkJCQkkcGVybSA9ICR0aGlzLT5kZWZhdWx0X3Blcm1pc3Npb25bJ2ZpbGUnXTsKCQkJfQoJCX0KCQlpZiggaXNfbnVsbCggJHBlcm0gKSApewoJCQkkcGVybSA9IDA3NzU7IC8vIOOCs+ODs+ODleOCo+OCsOOBq+ioreWumuODouODrOOBjOOBguOBo+OBn+WgtOWQiAoJCX0KCQlyZXR1cm4gY2htb2QoICRmaWxlcGF0aCAsICRwZXJtICk7Cgl9IC8vIGNobW9kKCkKCgkvKioKCSAqIOODkeODvOODn+ODg+OCt+ODp+ODs+OCkuWGjeW4sOeahOOBq+WkieabtOOBmeOCi+OAgijkuIvlsaTjga7jg5XjgqHjgqTjg6vjgoTjg4fjgqPjg6zjgq/jg4jjg6rjgoLlhajjgaYpCgkgKgoJICogYCRwZXJtX2ZpbGVgIOOBqCBgJHBlcm1fZGlyYCDjgYznnIHnlaXjgZXjgozjgZ/loLTlkIjjga/jgIHku6Pjgo/jgorjgavliJ3mnJ/ljJbmmYLjgavnmbvpjLLjgZXjgozjgZ/jg4fjg5Xjgqnjg6vjg4jjga7jg5Hjg7zjg5/jg4Pjgrfjg6fjg7PjgYzkuI7jgYjjgonjgozjgb7jgZnjgIIKCSAqCgkgKiDnrKwy5byV5pWwIGAkcGVybV9kaXJgIOOBjOecgeeVpeOBleOCjOOAgeacgOWIneOBruW8leaVsCBgJHBlcm1fZmlsZWAg44Gg44GR44GM5LiO44GI44KJ44KM44Gf5aC05ZCI44Gv44CBIOODleOCoeOCpOODq+OBqOODh+OCo+ODrOOCr+ODiOODquOBruS4oeaWueOBqyBgJHBlcm1fZmlsZWAg44GM6YGp55So44GV44KM44G+44GZ44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkZmlsZXBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcGFyYW0gaW50ICRwZXJtX2ZpbGUg44OV44Kh44Kk44Or44Gr5LiO44GI44KL44OR44O844Of44OD44K344On44OzICjnnIHnlaXlj68pCgkgKiBAcGFyYW0gaW50ICRwZXJtX2RpciDjg4fjgqPjg6zjgq/jg4jjg6rjgavkuI7jgYjjgovjg5Hjg7zjg5/jg4Pjgrfjg6fjg7MgKOecgeeVpeWPrykKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBjaG1vZF9yKCAkZmlsZXBhdGgsICRwZXJtX2ZpbGUgPSBudWxsLCAkcGVybV9kaXIgPSBudWxsICl7CgkJJGZpbGVwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJGZpbGVwYXRoKTsKCQlpZiggIWlzX251bGwoICRwZXJtX2ZpbGUgKSAmJiBpc19udWxsKCRwZXJtX2RpcikgKXsKCQkJLy8g44OR44O844Of44OD44K344On44Oz6Kit5a6a5YCk44GMMeOBpOOBoOOBkeS4juOBiOOCieOCjOOBn+WgtOWQiOOBq+OBr+OAgQoJCQkvLyDjg5XjgqHjgqTjg6vjgavjgoLjg4fjgqPjg6zjgq/jg4jjg6rjgavjgoLpgannlKjjgZnjgovjgIIKCQkJJHBlcm1fZGlyID0gJHBlcm1fZmlsZTsKCQl9CgoJCSRyZXN1bHQgPSB0cnVlOwoKCQlpZiggJHRoaXMtPmlzX2ZpbGUoICRmaWxlcGF0aCApICl7CgkJCWlmKCAhJHRoaXMtPmNobW9kKCAkZmlsZXBhdGgsICRwZXJtX2ZpbGUgKSApewoJCQkJJHJlc3VsdCA9IGZhbHNlOwoJCQl9CgkJfWVsc2VpZiggJHRoaXMtPmlzX2RpciggJGZpbGVwYXRoICkgKXsKCQkJJGl0ZW1saXN0ID0gJHRoaXMtPmxzKCAkZmlsZXBhdGggKTsKCQkJaWYoICEkdGhpcy0+Y2htb2QoICRmaWxlcGF0aCwgJHBlcm1fZGlyICkgKXsKCQkJCSRyZXN1bHQgPSBmYWxzZTsKCQkJfQoJCQlpZiggaXNfYXJyYXkoJGl0ZW1saXN0KSApewoJCQkJZm9yZWFjaCggJGl0ZW1saXN0IGFzICRMaW5lICl7CgkJCQkJaWYoICRMaW5lID09ICcuJyB8fCAkTGluZSA9PSAnLi4nICl7IGNvbnRpbnVlOyB9CgkJCQkJaWYoICEkdGhpcy0+Y2htb2RfciggJGZpbGVwYXRoLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUsICRwZXJtX2ZpbGUsICRwZXJtX2RpciApICl7CgkJCQkJCSRyZXN1bHQgPSBmYWxzZTsKCQkJCQl9CgkJCQkJY29udGludWU7CgkJCQl9CgkJCX0KCQl9CgoJCXJldHVybiAkcmVzdWx0OwoJfQoKCgkvKioKCSAqIOODkeODvOODn+ODg+OCt+ODp+ODs+aDheWgseOCkuiqv+OBueOAgTPmoYHjga7mlbDlrZfjgafov5TjgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBpbnR8Ym9vbCDmiJDlip/mmYLjgasgM+ahgeOBruaVsOWtl+OAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3Blcm1pc3Npb24oICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgoJCWlmKCAhZmlsZV9leGlzdHMoICRwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkcGVybSA9IHJ0cmltKCBzcHJpbnRmKCAiJW9cbiIgLCBmaWxlcGVybXMoICRwYXRoICkgKSApOwoJCSRzdGFydCA9IHN0cmxlbiggJHBlcm0gKSAtIDM7CgkJcmV0dXJuIHN1YnN0ciggJHBlcm0gLCAkc3RhcnQgLCAzICk7Cgl9CgoKCS8qKgoJICog44OH44Kj44Os44Kv44OI44Oq44Gr44GC44KL44OV44Kh44Kk44Or5ZCN44Gu44Oq44K544OI44KS6YWN5YiX44Gn6L+U44GZ44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjg4fjgqPjg6zjgq/jg4jjg6rjga7jg5HjgrkKCSAqIEByZXR1cm4gYXJyYXl8Ym9vbCDmiJDlip/mmYLjgavjg5XjgqHjgqTjg6vjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rlkI3jga7kuIDopqfjgpLmoLzntI3jgZfjgZ/phY3liJfjgIHlpLHmlZfmmYLjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGxzKCRwYXRoKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCgkJaWYoICRwYXRoID09PSBmYWxzZSApeyByZXR1cm4gZmFsc2U7IH0KCQlpZiggIWZpbGVfZXhpc3RzKCAkcGF0aCApICl7IHJldHVybiBmYWxzZTsgfQoJCWlmKCAhJHRoaXMtPmlzX2RpciggJHBhdGggKSApeyByZXR1cm4gZmFsc2U7IH0KCgkJJFJUTiA9IGFycmF5KCk7CgkJJGRyID0gQG9wZW5kaXIoJHBhdGgpOwoJCXdoaWxlKCAoICRlbnQgPSByZWFkZGlyKCAkZHIgKSApICE9PSBmYWxzZSApewoJCQkvLyBDdXJyZW50RGly44GoUGFyZW50RGly44Gv5ZCr44KB44Gq44GECgkJCWlmKCAkZW50ID09ICcuJyB8fCAkZW50ID09ICcuLicgKXsgY29udGludWU7IH0KCQkJYXJyYXlfcHVzaCggJFJUTiAsICRlbnQgKTsKCQl9CgkJY2xvc2VkaXIoJGRyKTsKCQl1c29ydCgkUlROLCAic3RybmF0Y21wIik7CgkJcmV0dXJuCSRSVE47Cgl9Ly9scygpCgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjga7lhoXpg6jjgpLmr5TovIPjgZfjgIEkY29tcGFyaXNvbuOBq+WQq+OBvuOCjOOBquOBhOimgee0oOOCkiR0YXJnZXTjgYvjgonliYrpmaTjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICR0YXJnZXQg44Kv44Oq44O844OL44Oz44Kw5a++6LGh44Gu44OH44Kj44Os44Kv44OI44Oq44OR44K5CgkgKiBAcGFyYW0gc3RyaW5nICRjb21wYXJpc29uIOavlOi8g+OBmeOCi+ODh+OCo+ODrOOCr+ODiOODquOBruODkeOCuQoJICogQHJldHVybiBib29sIOaIkOWKn+aZgiBgdHJ1ZWDjgIHlpLHmlZfmmYIgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNvbXBhcmVfYW5kX2NsZWFudXAoICR0YXJnZXQgLCAkY29tcGFyaXNvbiApewoJCWlmKCBpc19udWxsKCAkY29tcGFyaXNvbiApIHx8IGlzX251bGwoICR0YXJnZXQgKSApeyByZXR1cm4gZmFsc2U7IH0KCgkJJHRhcmdldCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCR0YXJnZXQpOwoJCSRjb21wYXJpc29uID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJGNvbXBhcmlzb24pOwoKCQlpZiggIWZpbGVfZXhpc3RzKCAkY29tcGFyaXNvbiApICYmIGZpbGVfZXhpc3RzKCAkdGFyZ2V0ICkgKXsKCQkJJHRoaXMtPnJtKCAkdGFyZ2V0ICk7CgkJCXJldHVybiB0cnVlOwoJCX0KCgkJaWYoICR0aGlzLT5pc19kaXIoICR0YXJnZXQgKSApewoJCQkkZmxpc3QgPSAkdGhpcy0+bHMoICR0YXJnZXQgKTsKCQl9ZWxzZXsKCQkJcmV0dXJuIHRydWU7CgkJfQoKCQlpZiggaXNfYXJyYXkoJGZsaXN0KSApewoJCQlmb3JlYWNoICggJGZsaXN0IGFzICRMaW5lICl7CgkJCQlpZiggJExpbmUgPT0gJy4nIHx8ICRMaW5lID09ICcuLicgKXsgY29udGludWU7IH0KCQkJCSR0aGlzLT5jb21wYXJlX2FuZF9jbGVhbnVwKCAkdGFyZ2V0LkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgLCAkY29tcGFyaXNvbi5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICk7CgkJCX0KCQl9CgoJCXJldHVybiB0cnVlOwoJfS8vY29tcGFyZV9hbmRfY2xlYW51cCgpCgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgpLlkIzmnJ/jgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoX3N5bmNfZnJvbSDlkIzmnJ/lhYPjg4fjgqPjg6zjgq/jg4jjg6oKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGhfc3luY190byDlkIzmnJ/lhYjjg4fjgqPjg6zjgq/jg4jjg6oKCSAqIEByZXR1cm4gYm9vbCDluLjjgasgYHRydWVgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gc3luY19kaXIoICRwYXRoX3N5bmNfZnJvbSAsICRwYXRoX3N5bmNfdG8gKXsKCQkkdGhpcy0+Y29weV9yKCAkcGF0aF9zeW5jX2Zyb20gLCAkcGF0aF9zeW5jX3RvICk7CgkJJHRoaXMtPmNvbXBhcmVfYW5kX2NsZWFudXAoICRwYXRoX3N5bmNfdG8gLCAkcGF0aF9zeW5jX2Zyb20gKTsKCQlyZXR1cm4gdHJ1ZTsKCX0vL3N5bmNfZGlyKCkKCgkvKioKCSAqIOaMh+WumuOBleOCjOOBn+ODh+OCo+ODrOOCr+ODiOODquS7peS4i+OBruOAgeWFqOOBpuOBruepuuOBo+OBveOBruODh+OCo+ODrOOCr+ODiOODquOCkuWJiumZpOOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg44OH44Kj44Os44Kv44OI44Oq44OR44K5CgkgKiBAcGFyYW0gYXJyYXkgJG9wdGlvbnMg44Kq44OX44K344On44OzCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmCIGB0cnVlYOOAgeWkseaVl+aZgiBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gcmVtb3ZlX2VtcHR5X2RpciggJHBhdGggLCAkb3B0aW9ucyA9IGFycmF5KCkgKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCgkJaWYoICEkdGhpcy0+aXNfd3JpdGFibGUoICRwYXRoICkgKXsgcmV0dXJuIGZhbHNlOyB9CgkJaWYoICEkdGhpcy0+aXNfZGlyKCAkcGF0aCApICl7IHJldHVybiBmYWxzZTsgfQoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJHBhdGggKSB8fCAkdGhpcy0+aXNfbGluayggJHBhdGggKSApeyByZXR1cm4gZmFsc2U7IH0KCQkkcGF0aCA9IEByZWFscGF0aCggJHBhdGggKTsKCQlpZiggJHBhdGggPT09IGZhbHNlICl7IHJldHVybiBmYWxzZTsgfQoKCQkvLyBOb3JtYWxpemUgJG9wdGlvbnMKCQlpZiggIWlzX2FycmF5KCRvcHRpb25zKSApewoJCQkkb3B0aW9ucyA9IGFycmF5KCk7CgkJfQoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cyggJ2RlcHRoJywgJG9wdGlvbnMgKSApewoJCQkkb3B0aW9uc1snZGVwdGgnXSA9IG51bGw7CgkJfQoKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCS8vIOasoeOBrumajuWxpOOCkuWHpueQhuOBmeOCi+OBi+OBqeOBhuOBi+OBruOCueOCpOODg+ODgQoJCSRzd2l0Y2hfZG9uZXh0ID0gZmFsc2U7CgkJaWYoIGlzX251bGwoICRvcHRpb25zWydkZXB0aCddICkgKXsKCQkJLy8g5rex44GV44Gu5oyH5a6a44GM44Gq44GR44KM44Gw5o6Y44KLCgkJCSRzd2l0Y2hfZG9uZXh0ID0gdHJ1ZTsKCQl9ZWxzZWlmKCAhaXNfaW50KCAkb3B0aW9uc1snZGVwdGgnXSApICl7CgkJCS8vIOaMh+WumuOBjG51bGzjgafjgoLmlbDlgKTjgafjgoLjgarjgZHjgozjgbDmjpjjgonjgarjgYQKCQkJJHN3aXRjaF9kb25leHQgPSBmYWxzZTsKCQl9ZWxzZWlmKCAkb3B0aW9uc1snZGVwdGgnXSA8PSAwICl7CgkJCS8vIOaMh+WumuOBjOOCvOODreS7peS4i+OBquOCieOAgeS7iuWbnuOBruWHpueQhuOCkuOBl+OBpue1guS6hgoJCQkkc3dpdGNoX2RvbmV4dCA9IGZhbHNlOwoJCX1lbHNlaWYoICRvcHRpb25zWydkZXB0aCddID4gMCApewoJCQkvLyDmjIflrprjgYzmraPjga7mlbAo44K844Ot44Gv5ZCr44G+44Gq44GEKeOBquOCieOAgeaOmOOCiwoJCQkkb3B0aW9uc1snZGVwdGgnXSAtLTsKCQkJJHN3aXRjaF9kb25leHQgPSB0cnVlOwoJCX1lbHNlewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCS8vIC8g5qyh44Gu6ZqO5bGk44KS5Yem55CG44GZ44KL44GL44Gp44GG44GL44Gu44K544Kk44OD44OBCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgkJJGZsaXN0ID0gJHRoaXMtPmxzKCAkcGF0aCApOwoJCWlmKCAhY291bnQoICRmbGlzdCApICl7CgkJCS8vIOmWi+OBhOOBn+ODh+OCo+ODrOOCr+ODiOODquOBruS4rei6q+OBjAoJCQkvLyAiLiIg44GoICIuLiIg44Gu44G/44Gg44Gj44Gf5aC05ZCICgkJCS8vIOWJiumZpOOBl+OBpue1guS6hgoJCQkkcmVzdWx0ID0gQHJtZGlyKCAkcGF0aCApOwoJCQlyZXR1cm4JJHJlc3VsdDsKCQl9CgkJJGFsaXZlID0gZmFsc2U7CgkJZm9yZWFjaCAoICRmbGlzdCBhcyAkTGluZSApewoJCQlpZiggJExpbmUgPT0gJy4nIHx8ICRMaW5lID09ICcuLicgKXsgY29udGludWU7IH0KCQkJaWYoICR0aGlzLT5pc19saW5rKCAkcGF0aC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCS8vIOOCt+ODs+ODnOODquODg+OCr+ODquODs+OCr+OBr+eEoeimluOBmeOCi+OAggoJCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZGlyKCAkcGF0aC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCWlmKCAkc3dpdGNoX2RvbmV4dCApewoJCQkJCS8vIOOBleOCieOBq+aOmOOCjOOBqOaMh+S7pOOBjOOBguOCjOOBsOOAgeaOmOOCi+OAggoJCQkJCSR0aGlzLT5yZW1vdmVfZW1wdHlfZGlyKCAkcGF0aC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICwgJG9wdGlvbnMgKTsKCQkJCX0KCQkJfQoJCQlpZiggZmlsZV9leGlzdHMoICRwYXRoLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgKSApewoJCQkJJGFsaXZlID0gdHJ1ZTsKCQkJfQoJCX0KCQlpZiggISRhbGl2ZSApewoJCQkkcmVzdWx0ID0gQHJtZGlyKCAkcGF0aCApOwoJCQlyZXR1cm4JJHJlc3VsdDsKCQl9CgkJcmV0dXJuIHRydWU7Cgl9Ly9yZW1vdmVfZW1wdHlfZGlyKCkKCgoJLyoqCgkgKiDmjIflrprjgZXjgozjgZ8y44Gk44Gu44OH44Kj44Os44Kv44OI44Oq44Gu5YaF5a6544KS5q+U6LyD44GX44CB44G+44Gj44Gf44GP5ZCM44GY44GL44Gp44GG44GL6Kq/44G544KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkZGlyX2Eg5q+U6LyD5a++6LGh44OH44Kj44Os44Kv44OI44OqQQoJICogQHBhcmFtIHN0cmluZyAkZGlyX2Ig5q+U6LyD5a++6LGh44OH44Kj44Os44Kv44OI44OqQgoJICogQHBhcmFtIGFycmF5ICRvcHRpb25zIOOCquODl+OCt+ODp+ODswoJICogPGRsPgoJICogICA8ZHQ+Ym9vbCAkb3B0aW9uc1snY29tcGFyZV9maWxlY29udGVudCddPC9kdD4KCSAqIAkgICA8ZGQ+44OV44Kh44Kk44Or44Gu5Lit6Lqr44KC5q+U6LyD44GZ44KL44GL77yfPC9kZD4KCSAqICAgPGR0PmJvb2wgJG9wdGlvbnNbJ2NvbXBhcmVfZW1wdHlkaXInXTwvZHQ+CgkgKiAJICAgPGRkPuepuuOBo+OBveOBruODh+OCo+ODrOOCr+ODiOODquOBruacieeEoeOCguipleS+oeOBq+WQq+OCgeOCi+OBi++8nzwvZGQ+CgkgKiA8L2RsPgoJICogQHJldHVybiBib29sIOWQjOOBmOWgtOWQiOOBqyBgdHJ1ZWDjgIHnlbDjgarjgovloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNvbXBhcmVfZGlyKCAkZGlyX2EgLCAkZGlyX2IgLCAkb3B0aW9ucyA9IGFycmF5KCkgKXsKCQlpZiggKCAkdGhpcy0+aXNfZmlsZSggJGRpcl9hICkgJiYgISR0aGlzLT5pc19maWxlKCAkZGlyX2IgKSApIHx8ICggISR0aGlzLT5pc19maWxlKCAkZGlyX2EgKSAmJiAkdGhpcy0+aXNfZmlsZSggJGRpcl9iICkgKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAoICggJHRoaXMtPmlzX2RpciggJGRpcl9hICkgJiYgISR0aGlzLT5pc19kaXIoICRkaXJfYiApICkgfHwgKCAhJHRoaXMtPmlzX2RpciggJGRpcl9hICkgJiYgJHRoaXMtPmlzX2RpciggJGRpcl9iICkgKSApICYmICRvcHRpb25zWydjb21wYXJlX2VtcHR5ZGlyJ10gKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJLy8gTm9ybWFsaXplICRvcHRpb25zCgkJaWYoICFpc19hcnJheSgkb3B0aW9ucykgKXsKCQkJJG9wdGlvbnMgPSBhcnJheSgpOwoJCX0KCQlpZiggIWFycmF5X2tleV9leGlzdHMoICdjb21wYXJlX2ZpbGVjb250ZW50JywgJG9wdGlvbnMgKSApewoJCQkkb3B0aW9uc1snY29tcGFyZV9maWxlY29udGVudCddID0gbnVsbDsKCQl9CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCAnY29tcGFyZV9lbXB0eWRpcicsICRvcHRpb25zICkgKXsKCQkJJG9wdGlvbnNbJ2NvbXBhcmVfZW1wdHlkaXInXSA9IG51bGw7CgkJfQoKCQlpZiggJHRoaXMtPmlzX2ZpbGUoICRkaXJfYSApICYmICR0aGlzLT5pc19maWxlKCAkZGlyX2IgKSApewoJCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQkvLyDkuKHmlrnjg5XjgqHjgqTjg6vjgaDjgaPjgZ/jgokKCQkJaWYoICRvcHRpb25zWydjb21wYXJlX2ZpbGVjb250ZW50J10gKXsKCQkJCS8vIOODleOCoeOCpOODq+OBruWGheWuueOCguavlOi8g+OBmeOCi+ioreWumuOBruWgtOWQiOOAgQoJCQkJLy8g44Gd44KM44Ge44KM44OV44Kh44Kk44Or44KS6ZaL44GE44Gm5ZCM44GY44GL44Gp44GG44GL44KS5q+U6LyDCgkJCQkkZmlsZWNvbnRlbnRfYSA9ICR0aGlzLT5yZWFkX2ZpbGUoICRkaXJfYSApOwoJCQkJJGZpbGVjb250ZW50X2IgPSAkdGhpcy0+cmVhZF9maWxlKCAkZGlyX2IgKTsKCQkJCWlmKCAkZmlsZWNvbnRlbnRfYSAhPT0gJGZpbGVjb250ZW50X2IgKXsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIHRydWU7CgkJfQoKCQlpZiggJHRoaXMtPmlzX2RpciggJGRpcl9hICkgfHwgJHRoaXMtPmlzX2RpciggJGRpcl9iICkgKXsKCQkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJLy8g5Lih5pa544OH44Kj44Os44Kv44OI44Oq44Gg44Gj44Gf44KJCgkJCSRjb250bGlzdF9hID0gJHRoaXMtPmxzKCAkZGlyX2EgKTsKCQkJJGNvbnRsaXN0X2IgPSAkdGhpcy0+bHMoICRkaXJfYiApOwoKCQkJaWYoICRvcHRpb25zWydjb21wYXJlX2VtcHR5ZGlyJ10gJiYgJGNvbnRsaXN0X2EgIT09ICRjb250bGlzdF9iICl7CgkJCQkvLyDnqbrjgaPjgb3jga7jg4fjgqPjg6zjgq/jg4jjg6rjgoLljrPlr4bjgavoqZXkvqHjgZnjgovoqK3lrprjgafjgIEKCQkJCS8vIOODh+OCo+ODrOOCr+ODiOODquWGheOBruimgee0oOmFjeWIl+OBruWGheWuueOBjOeVsOOBquOCjOOBsOOAgWZhbHNl44CCCgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCgkJCSRkb25lID0gYXJyYXkoKTsKCQkJZm9yZWFjaCggJGNvbnRsaXN0X2EgYXMgJExpbmUgKXsKCQkJCS8vIEHjgpLjg4Hjgqfjg4Pjgq8KCQkJCWlmKCAkTGluZSA9PSAnLi4nIHx8ICRMaW5lID09ICcuJyApeyBjb250aW51ZTsgfQoJCQkJaWYoICEkdGhpcy0+Y29tcGFyZV9kaXIoICRkaXJfYS5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICwgJGRpcl9iLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgLCAkb3B0aW9ucyApICl7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQkJJGRvbmVbJExpbmVdID0gdHJ1ZTsKCQkJfQoKCQkJZm9yZWFjaCggJGNvbnRsaXN0X2IgYXMgJExpbmUgKXsKCQkJCS8vIEHjgavlkKvjgb7jgozjgarjgYvjgaPjgZ9C44KS44OB44Kn44OD44KvCgkJCQlpZiggJGRvbmVbJExpbmVdICl7IGNvbnRpbnVlOyB9CgkJCQlpZiggJExpbmUgPT0gJy4uJyB8fCAkTGluZSA9PSAnLicgKXsgY29udGludWU7IH0KCQkJCWlmKCAhJHRoaXMtPmNvbXBhcmVfZGlyKCAkZGlyX2EuRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSAsICRkaXJfYi5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICwgJG9wdGlvbnMgKSApewoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJCSRkb25lWyRMaW5lXSA9IHRydWU7CgkJCX0KCgkJfQoKCQlyZXR1cm4gdHJ1ZTsKCX0vL2NvbXBhcmVfZGlyKCkKCgoJLyoqCgkgKiDjgrXjg7zjg5DjgYxVTklY44OR44K544GL6Kq/44G544KL44CCCgkgKgoJICogQHJldHVybiBib29sIFVOSVjjg5HjgrnjgarjgokgYHRydWVg44CB44Gd44KM5Lul5aSW44Gq44KJIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc191bml4KCl7CgkJaWYoIERJUkVDVE9SWV9TRVBBUkFUT1IgPT0gJy8nICl7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9Ly9pc191bml4KCkKCgkvKioKCSAqIOOCteODvOODkOOBjFdpbmRvd3Pjg5HjgrnjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcmV0dXJuIGJvb2wgV2luZG93c+ODkeOCueOBquOCiSBgdHJ1ZWDjgIHjgZ3jgozku6XlpJbjgarjgokgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX3dpbmRvd3MoKXsKCQlpZiggRElSRUNUT1JZX1NFUEFSQVRPUiA9PSAnXFwnICl7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9Ly9pc193aW5kb3dzKCkKCgoJLyoqCgkgKiDjg5HjgrnjgpLmraPopo/ljJbjgZnjgovjgIIKCSAqCgkgKiDlj5fjgZHlj5bjgaPjgZ/jg5HjgrnjgpLjgIHjgrnjg6njg4Pjgrfjg6XljLrliIfjgorjga7ooajnj77jgavmraPopo/ljJbjgZfjgb7jgZnjgIIKCSAqIFdpbmRvd3Pjga7jg5zjg6rjg6Xjg7zjg6Djg6njg5njg6vjgYzku5jjgYTjgabjgYTjgovloLTlkIjjga/liYrpmaTjgZfjgb7jgZnjgIIKCSAqIFVSSeOCueOCreODvOODoChodHRwLCBodHRwcywgZnRwIOOBquOBqSkg44Gn5aeL44G+44KL5aC05ZCI44CBMuOBpOOBruOCueODqeODg+OCt+ODpeOBp+Wni+OBvuOCi+WgtOWQiChgLy93d3cuZXhhbXBsZS5jb20vYWJjL2Ag44Gq44GpKeOAgeOBk+OCjOOCkuaui+OBl+OBpuato+imj+WMluOBl+OBvuOBmeOAggoJICoKCSAqICAtIOS+i++8miBgXGFcYlxjLmh0bWxgIOKGkiBgL2EvYi9jLmh0bWxgIOODkOODg+OCr+OCueODqeODg+OCt+ODpeOBr+OCueODqeODg+OCt+ODpeOBq+e9ruOBjeaPm+OBiOOCieOCjOOBvuOBmeOAggoJICogIC0g5L6L77yaIGAvYS9iLy8vL2MuaHRtbGAg4oaSIGAvYS9iL2MuaHRtbGAg5L2Z6KiI44Gq44K544Op44OD44K344Ol44Gv44G+44Go44KB44KJ44KM44G+44GZ44CCCgkgKiAgLSDkvovvvJogYEM6XGFcYlxjLmh0bWxgIOKGkiBgL2EvYi9jLmh0bWxgIOODnOODquODpeODvOODoOODqeODmeODq+OBr+WJiumZpOOBleOCjOOBvuOBmeOAggoJICogIC0g5L6L77yaIGBodHRwOi8vYS9iL2MuaHRtbGAg4oaSIGBodHRwOi8vYS9iL2MuaHRtbGAgVVJJ44K544Kt44O844Og44Gv5q6L44GV44KM44G+44GZ44CCCgkgKiAgLSDkvovvvJogYC8vYS9iL2MuaHRtbGAg4oaSIGAvL2EvYi9jLmh0bWxgIOODieODoeOCpOODs+WQjeOBr+aui+OBleOCjOOBvuOBmeOAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5q2j6KaP5YyW44GZ44KL44OR44K5CgkgKiBAcmV0dXJuIHN0cmluZyDmraPopo/ljJbjgZXjgozjgZ/jg5HjgrkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIG5vcm1hbGl6ZV9wYXRoKCRwYXRoKXsKCQlpZiggaXNfbnVsbCgkcGF0aCkgKXsgcmV0dXJuIG51bGw7IH0KCQkkcGF0aCA9IHRyaW0oJHBhdGggPz8gJycpOwoJCSRwYXRoID0gJHRoaXMtPmNvbnZlcnRfZW5jb2RpbmcoICRwYXRoICk7Ly/mloflrZfjgrPjg7zjg4njgpLmj4PjgYjjgosKCQkkcGF0aCA9IHByZWdfcmVwbGFjZSggJy9cXC98XFxcXC9zJywgJy8nLCAkcGF0aCApOy8v44OQ44OD44Kv44K544Op44OD44K344Ol44KS44K544Op44OD44K344Ol44Gr572u44GN5o+b44GI44KL44CCCgkJJHBhdGggPSBwcmVnX3JlcGxhY2UoICcvXltBLVpdXFw6XFwvL3MnLCAnLycsICRwYXRoICk7Ly9XaW5kb3dz44Gu44Oc44Oq44Ol44O844Og44Op44OZ44Or44KS5YmK6ZmkCgkJJHByZWZpeCA9ICcnOwoJCWlmKCBwcmVnX21hdGNoKCAnL14oKD86W2EtekEtWjAtOV0rXFw6KT9cXC8pKFxcLy4qKSQvJywgJHBhdGggPz8gJycsICRtYXRjaGVkICkgKXsKCQkJJHByZWZpeCA9ICRtYXRjaGVkWzFdOwoJCQkkcGF0aCA9ICRtYXRjaGVkWzJdOwoJCX0KCQkkcGF0aCA9IHByZWdfcmVwbGFjZSggJy9cXC8rL3MnLCAnLycsICRwYXRoID8/ICcnICk7Ly/ph43opIfjgZnjgovjgrnjg6njg4Pjgrfjg6XjgpIx44Gk44Gr44G+44Go44KB44KLCgkJcmV0dXJuICRwcmVmaXguJHBhdGg7Cgl9CgoKCS8qKgoJICog44OR44K544KST1Pjga7mqJnmupbnmoTjgarooajnj77jgavlpInmj5vjgZnjgovjgIIKCSAqCgkgKiDlj5fjgZHlj5bjgaPjgZ/jg5HjgrnjgpLjgIFPU+OBruaomea6lueahOOBquihqOePvuOBq+WkieaPm+OBl+OBvuOBmeOAggoJICogLSDjgrnjg6njg4Pjgrfjg6Xjgajjg5Djg4Pjgq/jgrnjg6njg4Pjgrfjg6Xjga7pgZXjgYTjgpLlkLjlj47jgZfjgIFgRElSRUNUT1JZX1NFUEFSQVRPUmAg44Gr572u44GN5o+b44GI44G+44GZ44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDjg63jg7zjgqvjg6njgqTjgrrjgZnjgovjg5HjgrkKCSAqIEByZXR1cm4gc3RyaW5nIOODreODvOOCq+ODqeOCpOOCuuOBleOCjOOBn+ODkeOCuQoJICovCglwdWJsaWMgZnVuY3Rpb24gbG9jYWxpemVfcGF0aCgkcGF0aCl7CgkJaWYoIGlzX251bGwoJHBhdGgpICl7IHJldHVybiBudWxsOyB9CgkJJHBhdGggPSBwcmVnX3JlcGxhY2UoICcvXFwvfFxcXFwvcycsICcvJywgJHBhdGggKTsvL+S4gOaXpuOCueODqeODg+OCt+ODpeOBq+e9ruOBjeaPm+OBiOOCi+OAggoJCWlmKCAkdGhpcy0+aXNfdW5peCgpICl7CgkJCS8vIFdpbmRvd3Pku6XlpJbjgaDjgaPjgZ/loLTlkIjjgavjgIHjg5zjg6rjg6Xjg7zjg6Djg6njg5njg6vjgpLlj5fjgZHlj5bjgaPjgZ/jgonliYrpmaTjgZnjgosKCQkJJHBhdGggPSBwcmVnX3JlcGxhY2UoICcvXltBLVpdXFw6XFwvL3MnLCAnLycsICRwYXRoICk7Ly9XaW5kb3dz44Gu44Oc44Oq44Ol44O844Og44Op44OZ44Or44KS5YmK6ZmkCgkJfQoJCSRwYXRoID0gcHJlZ19yZXBsYWNlKCAnL1xcLysvcycsICcvJywgJHBhdGggKTsvL+mHjeikh+OBmeOCi+OCueODqeODg+OCt+ODpeOCkjHjgaTjgavjgb7jgajjgoHjgosKCQkkcGF0aCA9IHByZWdfcmVwbGFjZSggJy9cXC98XFxcXC9zJywgRElSRUNUT1JZX1NFUEFSQVRPUiwgJHBhdGggKTsKCQlyZXR1cm4gJHBhdGg7Cgl9CgoJLyoqCgkgKiDlj5fjgZHlj5bjgaPjgZ/jg4bjgq3jgrnjg4jjgpLjgIHjg5XjgqHjgqTjg6vjgrfjgrnjg4bjg6Djgqjjg7PjgrPjg7zjg4njgavlpInmj5vjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gbWl4ZWQgJHRleHQg44OG44Kt44K544OICgkgKiBAcGFyYW0gc3RyaW5nICR0b19lbmNvZGluZyDmloflrZfjgrvjg4Pjg4go55yB55Wl5pmC44CB5YaF6YOo5paH5a2X44K744OD44OIKQoJICogQHBhcmFtIHN0cmluZyAkZnJvbV9lbmNvZGluZyDlpInmj5vliY3jga7mloflrZfjgrvjg4Pjg4gKCSAqIEByZXR1cm4gc3RyaW5nIOaWh+Wtl+OCu+ODg+ODiOWkieaPm+W+jOOBruODhuOCreOCueODiAoJICovCglwdWJsaWMgZnVuY3Rpb24gY29udmVydF9lbmNvZGluZyggJHRleHQsICR0b19lbmNvZGluZyA9IG51bGwsICRmcm9tX2VuY29kaW5nID0gbnVsbCApewoJCSRSVE4gPSAkdGV4dDsKCQlpZiggIWlzX2NhbGxhYmxlKCAnbWJfaW50ZXJuYWxfZW5jb2RpbmcnICkgKXsKCQkJcmV0dXJuICR0ZXh0OwoJCX0KCgkJJHRvX2VuY29kaW5nX2ZpbiA9ICR0b19lbmNvZGluZzsKCQlpZiggIXN0cmxlbigkdG9fZW5jb2RpbmdfZmluID8/ICcnKSApewoJCQkkdG9fZW5jb2RpbmdfZmluID0gbWJfaW50ZXJuYWxfZW5jb2RpbmcoKTsKCQl9CgkJaWYoICFzdHJsZW4oJHRvX2VuY29kaW5nX2ZpbiA/PyAnJykgKXsKCQkJJHRvX2VuY29kaW5nX2ZpbiA9ICdVVEYtOCc7CgkJfQoKCQkkZnJvbV9lbmNvZGluZ19maW4gPSAoaXNfc3RyaW5nKCRmcm9tX2VuY29kaW5nKSAmJiBzdHJsZW4oJGZyb21fZW5jb2RpbmcpID8gJGZyb21fZW5jb2RpbmcgOiAnVVRGLTgsU0pJUy13aW4sY3A5MzIsZXVjSlAtd2luLFNKSVMsRVVDLUpQLEpJUyxBU0NJSScpOwoKCQkvLyAtLS0KCQlpZiggaXNfYXJyYXkoICR0ZXh0ICkgKXsKCQkJJFJUTiA9IGFycmF5KCk7CgkJCWlmKCAhY291bnQoICR0ZXh0ICkgKXsKCQkJCXJldHVybiAkdGV4dDsKCQkJfQoJCQlmb3JlYWNoKCAkdGV4dCBhcyAka2V5PT4kcm93ICl7CgkJCQkkUlROWyRrZXldID0gJHRoaXMtPmNvbnZlcnRfZW5jb2RpbmcoICRyb3csICR0b19lbmNvZGluZywgJGZyb21fZW5jb2RpbmcgKTsKCQkJfQoJCX1lbHNlewoJCQlpZiggIXN0cmxlbiggJHRleHQgPz8gJycgKSApewoJCQkJcmV0dXJuICR0ZXh0OwoJCQl9CgkJCSRSVE4gPSBtYl9jb252ZXJ0X2VuY29kaW5nKCAkdGV4dCA/PyAnJywgJHRvX2VuY29kaW5nX2ZpbiwgJGZyb21fZW5jb2RpbmdfZmluICk7CgkJfQoJCXJldHVybiAkUlROOwoJfQoKCS8qKgoJICog5Y+X44GR5Y+W44Gj44Gf44OG44Kt44K544OI44KS44CB5oyH5a6a44Gu5pS56KGM44Kz44O844OJ44Gr5aSJ5o+b44GZ44KL44CCCgkgKgoJICogQHBhcmFtIG1peGVkICR0ZXh0IOODhuOCreOCueODiAoJICogQHBhcmFtIHN0cmluZyAkY3JsZiDmlLnooYzjgrPjg7zjg4nlkI3jgIJDUnxMRihkZWZhdWx0KXxDUkxGCgkgKiBAcmV0dXJuIHN0cmluZyDmlLnooYzjgrPjg7zjg4nlpInmj5vlvozjga7jg4bjgq3jgrnjg4gKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNvbnZlcnRfY3JsZiggJHRleHQsICRjcmxmID0gbnVsbCApewoJCWlmKCAhc3RybGVuKCRjcmxmID8/ICcnKSApewoJCQkkY3JsZiA9ICdMRic7CgkJfQoJCSRjcmxmX2NvZGUgPSAiXG4iOwoJCXN3aXRjaChzdHJ0b3VwcGVyKCRjcmxmID8/ICcnKSl7CgkJCWNhc2UgJ0NSJzoKCQkJCSRjcmxmX2NvZGUgPSAiXHIiOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ0NSTEYnOgoJCQkJJGNybGZfY29kZSA9ICJcclxuIjsKCQkJCWJyZWFrOwoJCQljYXNlICdMRic6CgkJCWRlZmF1bHQ6CgkJCQkkY3JsZl9jb2RlID0gIlxuIjsKCQkJCWJyZWFrOwoJCX0KCQkkUlROID0gJHRleHQ7CgkJaWYoIGlzX2FycmF5KCAkdGV4dCApICl7CgkJCSRSVE4gPSBhcnJheSgpOwoJCQlpZiggIWNvdW50KCAkdGV4dCApICl7CgkJCQlyZXR1cm4gJHRleHQ7CgkJCX0KCQkJZm9yZWFjaCggJHRleHQgYXMgJGtleT0+JHZhbCApewoJCQkJJFJUTlska2V5XSA9ICR0aGlzLT5jb252ZXJ0X2NybGYoICR2YWwgLCAkY3JsZiApOwoJCQl9CgkJfWVsc2V7CgkJCWlmKCAhc3RybGVuKCAkdGV4dCA/PyAnJyApICl7CgkJCQlyZXR1cm4gJHRleHQ7CgkJCX0KCQkJJFJUTiA9IHByZWdfcmVwbGFjZSggJy9cclxufFxyfFxuLycsICRjcmxmX2NvZGUsICR0ZXh0ICk7CgkJfQoJCXJldHVybiAkUlROOwoJfQoKfQo/Pg==',
           "request" => 'PD9waHAKLyoqCiAqIHRvbWs3OS9yZXF1ZXN0CiAqCiAqIEBhdXRob3IgVG9tb3lhIEtveWFuYWdpIDx0b21rNzlAZ21haWwuY29tPgogKi8KCm5hbWVzcGFjZSByZW5jb25GcmFtZXdvcms7CgovKioKICogdG9tazc5L3JlcXVlc3QgY29yZSBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIHJlcXVlc3R7CgkvKioKCSAqIOioreWumuOCquODluOCuOOCp+OCr+ODiAoJICovCglwcml2YXRlICRjb25mOwoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgrfjgrnjg4bjg6Djgqrjg5bjgrjjgqfjgq/jg4gKCSAqLwoJcHJpdmF0ZSAkZnM7CgkvKioKCSAqIFVSTOODkeODqeODoeODvOOCvwoJICovCglwcml2YXRlICRwYXJhbSA9IGFycmF5KCk7CgkvKioKCSAqIOOCs+ODnuODs+ODieOBi+OCieOBruOCouOCr+OCu+OCuSDjg5Xjg6njgrAKCSAqLwoJcHJpdmF0ZSAkZmxnX2NtZCA9IGZhbHNlOwoJLyoqCgkgKiDjg6rjgq/jgqjjgrnjg4jjg5XjgqHjgqTjg6vjg5HjgrkKCSAqLwoJcHJpdmF0ZSAkcmVxdWVzdF9maWxlX3BhdGg7CgkvKioKCSAqIOWEquWFiOODh+OCo+ODrOOCr+ODiOODquOCpOODs+ODh+ODg+OCr+OCuQoJICovCglwcml2YXRlICRkaXJlY3RvcnlfaW5kZXhfcHJpbWFyeTsKCS8qKgoJICog44Kz44Oe44Oz44OJ44Op44Kk44Oz44Kq44OX44K344On44OzCgkgKi8KCXByaXZhdGUgJGNsaV9vcHRpb25zOwoJLyoqCgkgKiDjgrPjg57jg7Pjg4njg6njgqTjg7Pjg5Hjg6njg6Hjg7zjgr8KCSAqLwoJcHJpdmF0ZSAkY2xpX3BhcmFtczsKCgkvKioKCSAqIOOCs+ODs+OCueODiOODqeOCr+OCvwoJICoKCSAqIEBwYXJhbSBvYmplY3QgJGNvbmYg6Kit5a6a44Kq44OW44K444Kn44Kv44OICgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCggJGNvbmYgPSBudWxsICl7CgkJJHRoaXMtPmNvbmYgPSAob2JqZWN0KSBhcnJheSgpOwoJCSR0aGlzLT5mcyA9IG5ldyBmaWxlc3lzdGVtKCk7CgoJCWlmKCFwcm9wZXJ0eV9leGlzdHMoJHRoaXMtPmNvbmYsICdnZXQnKSB8fCAhQGlzX2FycmF5KCR0aGlzLT5jb25mLT5nZXQpKXsKCQkJJHRoaXMtPmNvbmYtPmdldCA9ICRfR0VUOwoJCX0KCQlpZighcHJvcGVydHlfZXhpc3RzKCR0aGlzLT5jb25mLCAncG9zdCcpIHx8ICFAaXNfYXJyYXkoJHRoaXMtPmNvbmYtPnBvc3QpKXsKCQkJJHRoaXMtPmNvbmYtPnBvc3QgPSAkX1BPU1Q7CgkJfQoJCWlmKCFwcm9wZXJ0eV9leGlzdHMoJHRoaXMtPmNvbmYsICdmaWxlcycpIHx8ICFAaXNfYXJyYXkoJHRoaXMtPmNvbmYtPmZpbGVzKSl7CgkJCSR0aGlzLT5jb25mLT5maWxlcyA9ICRfRklMRVM7CgkJfQoJCWlmKCFwcm9wZXJ0eV9leGlzdHMoJHRoaXMtPmNvbmYsICdzZXJ2ZXInKSB8fCAhQGlzX2FycmF5KCR0aGlzLT5jb25mLT5zZXJ2ZXIpKXsKCQkJJHRoaXMtPmNvbmYtPnNlcnZlciA9ICRfU0VSVkVSOwoJCX0KCQlpZiggIWFycmF5X2tleV9leGlzdHMoICdQQVRIX0lORk8nICwgJHRoaXMtPmNvbmYtPnNlcnZlciApICl7CgkJCSR0aGlzLT5jb25mLT5zZXJ2ZXJbJ1BBVEhfSU5GTyddID0gbnVsbDsKCQl9CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCAnSFRUUF9VU0VSX0FHRU5UJyAsICR0aGlzLT5jb25mLT5zZXJ2ZXIgKSApewoJCQkkdGhpcy0+Y29uZi0+c2VydmVyWydIVFRQX1VTRVJfQUdFTlQnXSA9IG51bGw7CgkJfQoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cyggJ2FyZ3YnICwgJHRoaXMtPmNvbmYtPnNlcnZlciApICl7CgkJCSR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXSA9IG51bGw7CgkJfQoJCWlmKCFwcm9wZXJ0eV9leGlzdHMoJHRoaXMtPmNvbmYsICdzZXNzaW9uX25hbWUnKSB8fCAhc3RybGVuKCR0aGlzLT5jb25mLT5zZXNzaW9uX25hbWUgPz8gJycpKXsKCQkJJHRoaXMtPmNvbmYtPnNlc3Npb25fbmFtZSA9ICdTRVNTSUQnOwoJCX0KCQlpZighcHJvcGVydHlfZXhpc3RzKCR0aGlzLT5jb25mLCAnc2Vzc2lvbl9leHBpcmUnKSB8fCAhc3RybGVuKCR0aGlzLT5jb25mLT5zZXNzaW9uX2V4cGlyZSA/PyAnJykpewoJCQkkdGhpcy0+Y29uZi0+c2Vzc2lvbl9leHBpcmUgPSAxODAwOwoJCX0KCQlpZighcHJvcGVydHlfZXhpc3RzKCR0aGlzLT5jb25mLCAnZGlyZWN0b3J5X2luZGV4X3ByaW1hcnknKSB8fCAhc3RybGVuKCR0aGlzLT5jb25mLT5kaXJlY3RvcnlfaW5kZXhfcHJpbWFyeSA/PyAnJykpewoJCQkkdGhpcy0+Y29uZi0+ZGlyZWN0b3J5X2luZGV4X3ByaW1hcnkgPSAnaW5kZXguaHRtbCc7CgkJfQoJCWlmKCFwcm9wZXJ0eV9leGlzdHMoJHRoaXMtPmNvbmYsICdjb29raWVfZGVmYXVsdF9wYXRoJykgfHwgIXN0cmxlbigkdGhpcy0+Y29uZi0+Y29va2llX2RlZmF1bHRfcGF0aCA/PyAnJykpewoJCQkvLyDjgq/jg4Pjgq3jg7zjga7jg4fjg5Xjgqnjg6vjg4jjga7jg5HjgrkKCQkJLy8gc2Vzc2lvbiDjga7nr4Tlm7LjgoLjgZPjga7oqK3lrprjgavlvpPjgYbjgIIKCQkJJHRoaXMtPmNvbmYtPmNvb2tpZV9kZWZhdWx0X3BhdGggPSAkdGhpcy0+Z2V0X3BhdGhfY3VycmVudF9kaXIoKTsKCQl9CgoJCSR0aGlzLT5wYXJzZV9pbnB1dCgpOwoJCSR0aGlzLT5zZXNzaW9uX3N0YXJ0KCk7Cgl9CgoJLyoqCgkgKgnlhaXlipvlgKTjgpLop6PmnpDjgZnjgovjgIIKCSAqCgkgKiBgJF9HRVRgLCBgJF9QT1NUYCwgYCRfRklMRVNgIOOBq+mAgeOCieOCjOOBn+ODkeODqeODoeODvOOCv+aDheWgseOCkuWPluOCiuOBvuOBqOOCgeOAgTHjgaTjga7pgKPmg7PphY3liJfjgajjgZfjgabjgb7jgajjgoHjgb7jgIHjgqrjg5bjgrjjgqfjgq/jg4jlhoXjgavkv53mjIHjgZfjgb7jgZnjgIIKCSAqCgkgKiDjgrPjg57jg7Pjg4njg6njgqTjg7PjgYvjgonlrp/ooYzjgZXjgozjgZ/loLTlkIjjga/jgIHjgrPjg57jg7Pjg4njg6njgqTjg7Pjgqrjg5fjgrfjg6fjg7PjgpLjgZ3jgozjgZ7jgowgYD1gIOiomOWPt+OBp+WMuuWIh+OCiuOAgVVSTOODkeODqeODoeODvOOCv+WQjOanmOOBq+ODkeODvOOCueOBl+OBvuOBmeOAggoJICoKCSAqIOOBk+OBruODoeOCveODg+ODieOBruWHpueQhuOBq+OBr+OAgeWFpeWKm+aWh+Wtl+OCs+ODvOODieOBruWkieaPmyhVVEYtOOOBuOe1seS4gCnjgarjganjga7mlbTlvaLlh6bnkIbjgYzlkKvjgb7jgozjgb7jgZnjgIIKCSAqCgkgKiBAcmV0dXJuIGJvb2wg5bi444GrIGB0cnVlYAoJICovCglwcml2YXRlIGZ1bmN0aW9uIHBhcnNlX2lucHV0KCl7CgkJJHRoaXMtPnJlcXVlc3RfZmlsZV9wYXRoID0gJHRoaXMtPmNvbmYtPnNlcnZlclsnUEFUSF9JTkZPJ107CgkJaWYoICFzdHJsZW4oJHRoaXMtPnJlcXVlc3RfZmlsZV9wYXRoID8/ICcnKSApewoJCQkkdGhpcy0+cmVxdWVzdF9maWxlX3BhdGggPSAnLyc7CgkJfQoJCSR0aGlzLT5jbGlfcGFyYW1zID0gYXJyYXkoKTsKCQkkdGhpcy0+Y2xpX29wdGlvbnMgPSBhcnJheSgpOwoKCQlpZiggIWFycmF5X2tleV9leGlzdHMoICdSRU1PVEVfQUREUicgLCAkdGhpcy0+Y29uZi0+c2VydmVyICkgKXsKCQkJLy8gIOOCs+ODnuODs+ODieODqeOCpOODs+OBi+OCieOBruWun+ihjOOBi+WQpuOBi+WIpOaWrQoJCQkkdGhpcy0+ZmxnX2NtZCA9IHRydWU7Ly/jgrPjg57jg7Pjg4njg6njgqTjg7PjgYvjgonlrp/ooYzjgZfjgabjgYTjgovjgYvjg5Xjg6njgrAKCQkJaWYoIGlzX2FycmF5KCAkdGhpcy0+Y29uZi0+c2VydmVyWydhcmd2J10gKSAmJiBjb3VudCggJHRoaXMtPmNvbmYtPnNlcnZlclsnYXJndiddICkgKXsKCQkJCSR0bXBfcGF0aCA9IG51bGw7CgkJCQlmb3IoICRpID0gMDsgY291bnQoICR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXSApID4gJGk7ICRpICsrICl7CgkJCQkJaWYoIHByZWdfbWF0Y2goICcvXlwtLycsICR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXVskaV0gKSApewoJCQkJCQkkdGhpcy0+Y2xpX3BhcmFtcyA9IGFycmF5KCk7Ly/jgqrjg5fjgrfjg6fjg7Pjga7liY3jgavlvJXmlbDjga/ku5jjgZHjgonjgozjgarjgYQKCQkJCQkJJHRoaXMtPmNsaV9vcHRpb25zWyR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXVskaV1dID0gJHRoaXMtPmNvbmYtPnNlcnZlclsnYXJndiddWyRpKzFdOwoJCQkJCQkkaSArKzsKCQkJCQl9ZWxzZXsKCQkJCQkJYXJyYXlfcHVzaCggJHRoaXMtPmNsaV9wYXJhbXMsICR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXVskaV0gKTsKCQkJCQl9CgkJCQl9CgkJCQkkdG1wX3BhdGggPSBAJHRoaXMtPmNsaV9wYXJhbXNbY291bnQoJHRoaXMtPmNsaV9wYXJhbXMpLTFdOwoJCQkJaWYoIHByZWdfbWF0Y2goICcvXlwvLycsICR0bXBfcGF0aCApICYmIEBpc19hcnJheSgkdGhpcy0+Y29uZi0+c2VydmVyWydhcmd2J10pICl7CgkJCQkJJHRtcF9wYXRoID0gYXJyYXlfcG9wKCAkdGhpcy0+Y29uZi0+c2VydmVyWydhcmd2J10gKTsKCQkJCQkkdG1wX3BhdGggPSBwYXJzZV91cmwoJHRtcF9wYXRoKTsKCQkJCQkkdGhpcy0+cmVxdWVzdF9maWxlX3BhdGggPSAkdG1wX3BhdGhbJ3BhdGgnXTsKCQkJCQlAcGFyc2Vfc3RyKCAkdG1wX3BhdGhbJ3F1ZXJ5J10sICRxdWVyeSApOwoJCQkJCWlmKCBpc19hcnJheSgkcXVlcnkpICl7CgkJCQkJCSR0aGlzLT5jb25mLT5nZXQgPSBhcnJheV9tZXJnZSggJHRoaXMtPmNvbmYtPmdldCwgJHF1ZXJ5ICk7CgkJCQkJfQoJCQkJfQoJCQkJdW5zZXQoICR0bXBfcGF0aCApOwoJCQl9CgkJfQoKCQlpZiggaW5pX2dldCgnbWFnaWNfcXVvdGVzX2dwYycpICl7CgkJCS8vIFBIUElOSeOBrm1hZ2ljX3F1b3Rlc19ncGPoqK3lrprjgYxPbuOBoOOBo+OBn+OCieOAgQoJCQkvLyDjgqjjgrnjgrHjg7zjg5fmloflrZfjgpLliYrpmaTjgIIKCQkJZm9yZWFjaCggYXJyYXlfa2V5cyggJHRoaXMtPmNvbmYtPmdldCApIGFzICRMaW5lICl7CgkJCQkkdGhpcy0+Y29uZi0+Z2V0WyRMaW5lXSA9IHNlbGY6OnN0cmlwc2xhc2hlcyggJHRoaXMtPmNvbmYtPmdldFskTGluZV0gKTsKCQkJfQoJCQlmb3JlYWNoKCBhcnJheV9rZXlzKCAkdGhpcy0+Y29uZi0+cG9zdCApIGFzICRMaW5lICl7CgkJCQkkdGhpcy0+Y29uZi0+cG9zdFskTGluZV0gPSBzZWxmOjpzdHJpcHNsYXNoZXMoICR0aGlzLT5jb25mLT5wb3N0WyRMaW5lXSApOwoJCQl9CgkJfQoKCQkkdGhpcy0+Y29uZi0+Z2V0ID0gc2VsZjo6Y29udmVydF9lbmNvZGluZyggJHRoaXMtPmNvbmYtPmdldCApOwoJCSR0aGlzLT5jb25mLT5wb3N0ID0gc2VsZjo6Y29udmVydF9lbmNvZGluZyggJHRoaXMtPmNvbmYtPnBvc3QgKTsKCQkkcGFyYW0gPSBhcnJheV9tZXJnZSggJHRoaXMtPmNvbmYtPmdldCAsICR0aGlzLT5jb25mLT5wb3N0ICk7CgkJJHBhcmFtID0gJHRoaXMtPm5vcm1hbGl6ZV9pbnB1dCggJHBhcmFtICk7CgoJCWlmKCBpc19hcnJheSggJHRoaXMtPmNvbmYtPmZpbGVzICkgKXsKCQkJJEZJTEVTX0tFWVMgPSBhcnJheV9rZXlzKCAkdGhpcy0+Y29uZi0+ZmlsZXMgKTsKCQkJZm9yZWFjaCgkRklMRVNfS0VZUyBhcyAkTGluZSl7CgkJCQkkdGhpcy0+Y29uZi0+ZmlsZXNbJExpbmVdWyduYW1lJ10gPSBzZWxmOjpjb252ZXJ0X2VuY29kaW5nKCAkdGhpcy0+Y29uZi0+ZmlsZXNbJExpbmVdWyduYW1lJ10gKTsKCQkJCSR0aGlzLT5jb25mLT5maWxlc1skTGluZV1bJ25hbWUnXSA9IG1iX2NvbnZlcnRfa2FuYSggJHRoaXMtPmNvbmYtPmZpbGVzWyRMaW5lXVsnbmFtZSddICwgJ0tWJyAsIG1iX2ludGVybmFsX2VuY29kaW5nKCkgKTsKCQkJCSRwYXJhbVskTGluZV0gPSAkdGhpcy0+Y29uZi0+ZmlsZXNbJExpbmVdOwoJCQl9CgkJfQoKCQkkdGhpcy0+cGFyYW0gPSAkcGFyYW07CgkJdW5zZXQoJHBhcmFtKTsKCgkJaWYgKHByZWdfbWF0Y2goJy9cLyQvJywgJHRoaXMtPnJlcXVlc3RfZmlsZV9wYXRoKSkgewoJCQkkdGhpcy0+cmVxdWVzdF9maWxlX3BhdGggLj0gJHRoaXMtPmNvbmYtPmRpcmVjdG9yeV9pbmRleF9wcmltYXJ5OwoJCX0KCQkkdGhpcy0+cmVxdWVzdF9maWxlX3BhdGggPSAkdGhpcy0+ZnMtPmdldF9yZWFscGF0aCggJHRoaXMtPnJlcXVlc3RfZmlsZV9wYXRoICk7CgkJJHRoaXMtPnJlcXVlc3RfZmlsZV9wYXRoID0gJHRoaXMtPmZzLT5ub3JtYWxpemVfcGF0aCggJHRoaXMtPnJlcXVlc3RfZmlsZV9wYXRoICk7CgoJCXJldHVybiB0cnVlOwoJfQoKCS8qKgoJICoJ5YWl5Yqb5YCk44Gr5a++44GZ44KL5qiZ5rqW55qE44Gq5aSJ5o+b5Yem55CGCgkgKgoJICogQHBhcmFtIGFycmF5ICRwYXJhbSDjg5Hjg6njg6Hjg7zjgr8KCSAqIEByZXR1cm4gYXJyYXkg5aSJ5o+b5b6M44Gu44OR44Op44Oh44O844K/CgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gbm9ybWFsaXplX2lucHV0KCAkcGFyYW0gKXsKCQkkaXNfY2FsbGFibGVfbWJfY2hlY2tfZW5jb2RpbmcgPSBpc19jYWxsYWJsZSggJ21iX2NoZWNrX2VuY29kaW5nJyApOwoJCWZvcmVhY2goICRwYXJhbSBhcyAka2V5PT4kdmFsICl7CgkJCS8vIFVSTOODkeODqeODoeODvOOCv+OCkuWKoOW3pQoJCQlpZiggaXNfYXJyYXkoICR2YWwgKSApewoJCQkJLy8g6YWN5YiX44Gq44KJCgkJCQkkcGFyYW1bJGtleV0gPSAkdGhpcy0+bm9ybWFsaXplX2lucHV0KCAkcGFyYW1bJGtleV0gKTsKCQkJfWVsc2VpZiggaXNfc3RyaW5nKCAkcGFyYW1bJGtleV0gKSApewoJCQkJLy8g5paH5a2X5YiX44Gq44KJCgkJCQkkcGFyYW1bJGtleV0gPSBtYl9jb252ZXJ0X2thbmEoICRwYXJhbVska2V5XSAsICdLVicgLCBtYl9pbnRlcm5hbF9lbmNvZGluZygpICk7CgkJCQkJLy8g5Y2K6KeS44Kr44OK44Gv5YWo6KeS44Gr57Wx5LiACgkJCQkkcGFyYW1bJGtleV0gPSBwcmVnX3JlcGxhY2UoICcvXHJcbnxccnxcbi8nICwgIlxuIiAsICRwYXJhbVska2V5XSApOwoJCQkJCS8vIOaUueihjOOCs+ODvOODieOBr0xG44Gr57Wx5LiACgkJCQlpZiggJGlzX2NhbGxhYmxlX21iX2NoZWNrX2VuY29kaW5nICl7CgkJCQkJLy8g5LiN5q2j44Gq44OQ44Kk44OI44Kz44O844OJ44Gu44OB44Kn44OD44KvCgkJCQkJaWYoICFtYl9jaGVja19lbmNvZGluZyggJGtleSAsIG1iX2ludGVybmFsX2VuY29kaW5nKCkgKSApewoJCQkJCQkvLyDjgq3jg7zjga7kuK3jgavopovjgaTjgZHjgZ/jgonjg5Hjg6njg6Hjg7zjgr/jgZTjgajliYrpmaQKCQkJCQkJdW5zZXQoICRwYXJhbVska2V5XSApOwoJCQkJCX0KCQkJCQlpZiggIW1iX2NoZWNrX2VuY29kaW5nKCAkcGFyYW1bJGtleV0gLCBtYl9pbnRlcm5hbF9lbmNvZGluZygpICkgKXsKCQkJCQkJLy8g5YCk44Gu5Lit44Gr6KaL44Gk44GR44Gf44KJIGZhbHNlIOOBq+e9ruOBjeaPm+OBiOOCiwoJCQkJCQkkcGFyYW1bJGtleV0gPSBmYWxzZTsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9CgkJcmV0dXJuICRwYXJhbTsKCX0KCgkvKioKCSAqIOODoeOCveODg+ODieOCkuWPluW+l+OBmeOCiwoJICogQHJldHVybiBzdHJpbmd8Ym9vbGVhbiDjg6Hjgr3jg4Pjg4nlkI3jgILjgZnjgbnjgablsI/mloflrZfjgavlpInmj5vjgZXjgozjgabov5TjgZXjgozjgb7jgZnjgILjgrPjg57jg7Pjg4njg6njgqTjg7PjgYvjgonlrp/ooYzjgZXjgozjgZ/loLTlkIjjga8gYGNvbW1hbmRgIOOBjOi/lOOBleOCjOOBvuOBmeOAguWPluW+l+OBp+OBjeOBquOBhOWgtOWQiOOBryBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X21ldGhvZCgpewoJCWlmKCAkdGhpcy0+aXNfY21kKCkgKXsKCQkJcmV0dXJuICdjb21tYW5kJzsKCQl9CgkJaWYoIGlzc2V0KCR0aGlzLT5jb25mLT5zZXJ2ZXJbJ1JFUVVFU1RfTUVUSE9EJ10pICYmIGlzX3N0cmluZygkdGhpcy0+Y29uZi0+c2VydmVyWydSRVFVRVNUX01FVEhPRCddKSAmJiBzdHJsZW4oJHRoaXMtPmNvbmYtPnNlcnZlclsnUkVRVUVTVF9NRVRIT0QnXSkgKXsKCQkJcmV0dXJuIHN0cnRvbG93ZXIoICR0aGlzLT5jb25mLT5zZXJ2ZXJbJ1JFUVVFU1RfTUVUSE9EJ10gKTsKCQl9CgkJcmV0dXJuIGZhbHNlOwoJfQoKCS8qKgoJICog44Oq44Kv44Ko44K544OI44OY44OD44OA5YWo5L2T44KS5Y+W5b6X44GZ44KLCgkgKiBAcmV0dXJuIGFycmF5fGJvb2xlYW58bnVsbCDjg6rjgq/jgqjjgrnjg4jjg5jjg4Pjg4Djg7zjga7jg6rjgrnjg4jjgILjgrPjg57jg7Pjg4njg6njgqTjg7PjgYvjgonlrp/ooYzjgZXjgozjgabjgYTjgovloLTlkIjjga8gYG51bGxgIOOCkui/lOOBl+OBvuOBmeOAgmBnZXRhbGxoZWFkZXJzYCDjgYzlrp/ooYzjgafjgY3jgarjgYTloLTlkIggYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9oZWFkZXJzKCl7CgkJaWYoICR0aGlzLT5pc19jbWQoKSApewoJCQlyZXR1cm4gbnVsbDsKCQl9CgkJaWYoICFpc19jYWxsYWJsZSgnZ2V0YWxsaGVhZGVycycpICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJJGhlYWRlcnMgPSBnZXRhbGxoZWFkZXJzKCk7CgkJcmV0dXJuICRoZWFkZXJzOwoJfQoKCS8qKgoJICog44Oq44Kv44Ko44K544OI44OY44OD44OA44KS5Y+W5b6X44GZ44KLCgkgKgoJICogQHBhcmFtIHN0cmluZyAkbmFtZSDjg5jjg4Pjg4Djg7zlkI3jgIJgZ2V0X2hlYWRlcigpYCDjga/jgIHlpKfmloflrZcv5bCP5paH5a2X44KS5Yy65Yil44GX44G+44Gb44KT44CCCgkgKiBAcGFyYW0gYm9vbGVhbiAkaWdub3JlX2Nhc2UgYHRydWVgIOOBjOaMh+WumuOBleOCjOOBn+WgtOWQiOOAgSBgZ2V0X2hlYWRlcigpYCDjga/jgIEgYCRuYW1lYCDjga7lpKfmloflrZcv5bCP5paH5a2X44KS5Yy65Yil44Gb44Ga44Gr5qSc57Si44GX44G+44GZ44CC44OH44OV44Kp44Or44OI44GvIGB0cnVlYCDjgafjgZnjgIIKCSAqIEByZXR1cm4gc3RyaW5nfGJvb2xlYW58bnVsbCDjg6rjgq/jgqjjgrnjg4jjg5jjg4Pjg4Djg7zjga7lgKTjgIIKCSAqIOS4juOBiOOCieOCjOOBn+WQjeWJjeOBq+ipsuW9k+OBmeOCi+mgheebruOBjOOBquOBhOWgtOWQiOOAgeOCs+ODnuODs+ODieODqeOCpOODs+OBi+OCieWun+ihjOOBleOCjOOBpuOBhOOCi+WgtOWQiOOBryBgbnVsbGAg44KS6L+U44GX44G+44GZ44CCCgkgKiBgZ2V0YWxsaGVhZGVyc2Ag44GM5a6f6KGM44Gn44GN44Gq44GE5aC05ZCI44CB44Gd44Gu5LuW44OY44OD44OA44O85oOF5aCx5YWo5L2T44Gr44Ki44Kv44K744K544Gn44GN44Gq44GE5aC05ZCI44GvIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfaGVhZGVyKCAkbmFtZSwgJGlnbm9yZV9jYXNlID0gdHJ1ZSApewoJCSRoZWFkZXJzID0gJHRoaXMtPmdldF9oZWFkZXJzKCk7CgkJaWYoICFpc19hcnJheSgkaGVhZGVycykgKXsKCQkJcmV0dXJuICRoZWFkZXJzOwoJCX0KCQlpZiggJGlnbm9yZV9jYXNlICl7CgkJCSRuYW1lID0gc3RydG9sb3dlciggJG5hbWUgKTsKCQl9CgkJZm9yZWFjaCggJGhlYWRlcnMgYXMgJGhlYWRlcl9rZXkgPT4gJGhlYWRlcl92YWwgKXsKCQkJaWYoICRpZ25vcmVfY2FzZSApewoJCQkJJGhlYWRlcl9rZXkgPSBzdHJ0b2xvd2VyKCAkaGVhZGVyX2tleSApOwoJCQl9CgkJCWlmKCAkbmFtZSA9PSAkaGVhZGVyX2tleSApewoJCQkJcmV0dXJuICRoZWFkZXJfdmFsOwoJCQl9CgkJfQoJCXJldHVybiBudWxsOwoJfQoKCS8qKgoJICog44OR44Op44Oh44O844K/44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogYCRfR0VUYCwgYCRfUE9TVGDjgIFgJF9GSUxFU2Ag44KS5ZCI44KP44Gb44Gf6YCj5oOz6YWN5YiX44Gu5Lit44GL44KJIGAka2V5YCDjgavlvZPjgZ/jgovlgKTjgpLlvJXjgYTjgabov5TjgZfjgb7jgZnjgIIKCSAqIOOCreODvOOBjOWumue+qeOBleOCjOOBpuOBhOOBquOBhOWgtOWQiOOBr+OAgWBudWxsYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkgVVJM44OR44Op44Oh44O844K/5ZCNCgkgKiBAcmV0dXJuIG1peGVkIFVSTOODkeODqeODoeODvOOCv+WApAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3BhcmFtKCAka2V5ICl7CgkJaWYoICFpc3NldCggJHRoaXMtPnBhcmFtWyRrZXldICkgKXsKCQkJcmV0dXJuIG51bGw7CgkJfQoJCXJldHVybiAkdGhpcy0+cGFyYW1bJGtleV07Cgl9CgoJLyoqCgkgKiDjg5Hjg6njg6Hjg7zjgr/jgpLjgrvjg4Pjg4jjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44OR44Op44Oh44O844K/5ZCNCgkgKiBAcGFyYW0gbWl4ZWQgJHZhbCDjg5Hjg6njg6Hjg7zjgr/lgKQKCSAqIEByZXR1cm4gYm9vbCDluLjjgasgYHRydWVgCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBzZXRfcGFyYW0oICRrZXkgLCAkdmFsICl7CgkJJHRoaXMtPnBhcmFtWyRrZXldID0gJHZhbDsKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvKioKCSAqIOODkeODqeODoeODvOOCv+OCkuOBmeOBueOBpuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEByZXR1cm4gYXJyYXkg44GZ44G544Gm44Gu44OR44Op44Oh44O844K/44KS5qC857SN44GZ44KL6YCj5oOz6YWN5YiXCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfYWxsX3BhcmFtcygpewoJCXJldHVybiAkdGhpcy0+cGFyYW07Cgl9CgoJLyoqCgkgKiDjgrPjg57jg7Pjg4njg6njgqTjg7Pjgqrjg5fjgrfjg6fjg7PjgpLlj5blvpfjgZnjgosKCSAqIEBwYXJhbSBzdHJpbmcgJG5hbWUg44Kq44OX44K344On44Oz5ZCNCgkgKiBAcmV0dXJuIHN0cmluZyDmjIflrprjgZXjgozjgZ/jgqrjg5fjgrfjg6fjg7PlgKQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9jbGlfb3B0aW9uKCAkbmFtZSApewoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cygkbmFtZSwgJHRoaXMtPmNsaV9vcHRpb25zKSApewoJCQlyZXR1cm4gbnVsbDsKCQl9CgkJaWYoICFpc3NldCggJHRoaXMtPmNsaV9vcHRpb25zWyRuYW1lXSApICl7CgkJCXJldHVybiBudWxsOwoJCX0KCQlyZXR1cm4gJHRoaXMtPmNsaV9vcHRpb25zWyRuYW1lXTsKCX0KCgkvKioKCSAqIOOBmeOBueOBpuOBruOCs+ODnuODs+ODieODqeOCpOODs+OCquODl+OCt+ODp+ODs+OCkumAo+aDs+mFjeWIl+OBp+WPluW+l+OBmeOCiwoJICogQHJldHVybiBhcnJheSDjgZnjgbnjgabjga7jgrPjg57jg7Pjg4njg6njgqTjg7Pjgqrjg5fjgrfjg6fjg7MKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9jbGlfb3B0aW9ucygpewoJCXJldHVybiAkdGhpcy0+Y2xpX29wdGlvbnM7Cgl9CgoJLyoqCgkgKiDjgrPjg57jg7Pjg4njg6njgqTjg7Pjg5Hjg6njg6Hjg7zjgr/jgpLlj5blvpfjgZnjgosKCSAqIEBwYXJhbSBzdHJpbmcgJGlkeCDjg5Hjg6njg6Hjg7zjgr/nlarlj7cKCSAqIEByZXR1cm4gc3RyaW5nIOaMh+WumuOBleOCjOOBn+OCquODl+OCt+ODp+ODs+WApAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2NsaV9wYXJhbSggJGlkeCA9IDAgKXsKCQlpZigkaWR4IDwgMCl7CgkJCS8vIOODnuOCpOODiuOCueOBruOCpOODs+ODh+ODg+OCr+OCueOBjOS4juOBiOOCieOCjOOBn+WgtOWQiOOAgQoJCQkvLyDphY3liJfjga7mnIDlvozjgYvjgonmlbDjgYjjgosKCQkJJGlkeCA9IGNvdW50KCR0aGlzLT5jbGlfcGFyYW1zKSskaWR4OwoJCX0KCQlpZiggIWlzc2V0KCAkdGhpcy0+Y2xpX3BhcmFtc1skaWR4XSApICl7CgkJCXJldHVybiBudWxsOwoJCX0KCQlyZXR1cm4gJHRoaXMtPmNsaV9wYXJhbXNbJGlkeF07Cgl9CgoJLyoqCgkgKiDjgZnjgbnjgabjga7jgrPjg57jg7Pjg4njg6njgqTjg7Pjg5Hjg6njg6Hjg7zjgr/jgpLphY3liJfjgaflj5blvpfjgZnjgosKCSAqIEByZXR1cm4gYXJyYXkg44GZ44G544Gm44Gu44Kz44Oe44Oz44OJ44Op44Kk44Oz44OR44Op44Oh44O844K/CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfY2xpX3BhcmFtcygpewoJCXJldHVybiAkdGhpcy0+Y2xpX3BhcmFtczsKCX0KCgoKCS8vIC0tLS0tIGNvb2tpZXMgLS0tLS0KCgkvKioKCSAqIOOCr+ODg+OCreODvOaDheWgseOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGtleSDjgq/jg4Pjgq3jg7zlkI0KCSAqIEByZXR1cm4gbWl4ZWQg44Kv44OD44Kt44O844Gu5YCkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfY29va2llKCAka2V5ICl7CgkJaWYoICFpc3NldCggJF9DT09LSUVbJGtleV0gKSApewoJCQlyZXR1cm4gbnVsbDsKCQl9CgkJcmV0dXJuICRfQ09PS0lFWyRrZXldOwoJfQoKCS8qKgoJICog44Kv44OD44Kt44O85oOF5aCx44KS44K744OD44OI44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAka2V5IOOCr+ODg+OCreODvOWQjQoJICogQHBhcmFtIHN0cmluZyAkdmFsIOOCr+ODg+OCreODvOWApAoJICogQHBhcmFtIHN0cmluZyAkZXhwaXJlc19vcl9vcHRpb25zIOOCr+ODg+OCreODvOOBruacieWKueacn+mZkOOAggoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDjgrXjg7zjg5Djg7zkuIrjgafjga7jgIHjgq/jg4Pjgq3jg7zjgpLmnInlirnjgajjgZfjgZ/jgYTjg5HjgrnjgILjg4fjg5Xjgqnjg6vjg4jjga8gYC9gCgkgKiBAcGFyYW0gc3RyaW5nICRkb21haW4g44Kv44OD44Kt44O844GM5pyJ5Yq544Gq44OJ44Oh44Kk44Oz44CCCgkgKiBAcGFyYW0gYm9vbCAkc2VjdXJlIGB0cnVlYCDjgpLoqK3lrprjgZfjgIHjgq/jg6njgqTjgqLjg7Pjg4jjgYvjgonjga7jgrvjgq3jg6XjgqLjgaogSFRUUFMg5o6l57aa44Gu5aC05ZCI44Gr44Gu44G/44Kv44OD44Kt44O844GM6YCB5L+h44GV44KM44KL44KI44GG44Gr44GX44G+44GZ44CC44OH44OV44Kp44Or44OI44GvIGB0cnVlYAoJICogQHBhcmFtIGJvb2wgJGh0dHBvbmx5IGB0cnVlYCDjgpLoqK3lrprjgZfjgIFIVFRQ44Gn44Gu6YCB5L+h44Gu44G/6Kix5Y+v44GX44CBSmF2YVNjcmlwdOOBi+OCieWPgueFp+OBp+OBjeOBquOBhOOCiOOBhuOBq+OBl+OBvuOBmeOAguODh+ODleOCqeODq+ODiOOBryBgdHJ1ZWAKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYIgYHRydWVg44CB5aSx5pWX5pmCIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBzZXRfY29va2llKCAka2V5ICwgJHZhbCAsICRleHBpcmVzX29yX29wdGlvbnMgPSBudWxsICwgJHBhdGggPSBudWxsICwgJGRvbWFpbiA9IG51bGwgLCAkc2VjdXJlID0gdHJ1ZSwgJGh0dHBvbmx5ID0gdHJ1ZSApewoJCSRvcHRpb25zID0gYXJyYXkoKTsKCQlpZiggaXNfYXJyYXkoJGV4cGlyZXNfb3Jfb3B0aW9ucykgKXsKCQkJJG9wdGlvbnMgPSAkZXhwaXJlc19vcl9vcHRpb25zOwoJCX1lbHNlaWYoIGlzX2ludCgkZXhwaXJlc19vcl9vcHRpb25zKSApewoJCQkkb3B0aW9uc1snZXhwaXJlcyddID0gJGV4cGlyZXNfb3Jfb3B0aW9uczsKCQl9CgkJJG9wdGlvbnNbJ2V4cGlyZXMnXSA9ICRvcHRpb25zWydleHBpcmVzJ10gPz8gJHRoaXMtPmNvbmYtPmNvb2tpZV9kZWZhdWx0X2V4cGlyZTsKCQkkb3B0aW9uc1snZXhwaXJlcyddICs9IHRpbWUoKTsKCQkkb3B0aW9uc1sncGF0aCddID0gJG9wdGlvbnNbJ3BhdGgnXSA/PyAkcGF0aCA/PyAkdGhpcy0+Z2V0X3BhdGhfY3VycmVudF9kaXIoKSA/PyAnLyc7CgoJCWlmKCAhaXNzZXQoJG9wdGlvbnNbJ2RvbWFpbiddKSAmJiBzdHJsZW4oJGRvbWFpbiA/PyAnJykgKXsKCQkJJG9wdGlvbnNbJ2RvbWFpbiddID0gJGRvbWFpbjsKCQl9CgkJaWYoICFzdHJsZW4oJG9wdGlvbnNbJ2RvbWFpbiddID8/ICcnKSApewoJCQkkb3B0aW9uc1snZG9tYWluJ10gPSAkdGhpcy0+Y29uZi0+Y29va2llX2RlZmF1bHRfZG9tYWluOwoJCX0KCQlpZiggIWlzc2V0KCRvcHRpb25zWydzZWN1cmUnXSkgJiYgIWlzX251bGwoJHNlY3VyZSkgKXsKCQkJJG9wdGlvbnNbJ3NlY3VyZSddID0gISEkc2VjdXJlOwoJCX0KCQlpZiggIWlzc2V0KCRvcHRpb25zWydodHRwb25seSddKSAmJiAhaXNfbnVsbCgkaHR0cG9ubHkpICl7CgkJCSRvcHRpb25zWydodHRwb25seSddID0gISEkaHR0cG9ubHk7CgkJfQoKCQlpZiggIUBzZXRjb29raWUoICRrZXksICR2YWwgPz8gJycsICRvcHRpb25zICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJJF9DT09LSUVbJGtleV0gPSAkdmFsOyAvLyDnj77lnKjjga7lh6bnkIbjgYvjgonjgoLlkbzjgbPlh7rjgZvjgovjgojjgYbjgasKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvKioKCSAqIOOCr+ODg+OCreODvOaDheWgseOCkuWJiumZpOOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGtleSDjgq/jg4Pjgq3jg7zlkI0KCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYIgYHRydWVg44CB5aSx5pWX5pmCIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkZWxldGVfY29va2llKCAka2V5ICl7CgkJaWYoICFAc2V0Y29va2llKCAka2V5ICwgJycsIDAgKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCXVuc2V0KCAkX0NPT0tJRVska2V5XSApOwoJCXJldHVybiB0cnVlOwoJfQoKCgoJLy8gLS0tLS0gc2Vzc2lvbiAtLS0tLQoKCS8qKgoJICog44K744OD44K344On44Oz44KS6ZaL5aeL44GZ44KL44CCCgkgKgoJICogQHJldHVybiBib29sIOOCu+ODg+OCt+ODp+ODs+OBjOato+W4uOOBq+mWi+Wni+OBl+OBn+WgtOWQiOOBqyBgdHJ1ZWDjgIHjgZ3jgozku6XlpJbjga7loLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBzZXNzaW9uX3N0YXJ0KCl7CgkJaWYoICR0aGlzLT5pc19jbWQoKSApewoJCQkvLyBDTEnjgafjga/jgrvjg4Pjgrfjg6fjg7PjgpLplovlp4vjgZfjgarjgYQKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZihpc3NldCgkX1NFU1NJT04pKXsKCQkJLy8g44GZ44Gn44Gr44K744OD44K344On44Oz44GM6ZaL5aeL44GV44KM44Gm44GE44Gf44KJ44CB44GT44GT44Gn57WC5LqG44GZ44KL44CCCgkJCXJldHVybiB0cnVlOwoJCX0KCgkJJGV4cGlyZSA9IGludHZhbCgkdGhpcy0+Y29uZi0+c2Vzc2lvbl9leHBpcmUpOwoJCSRzZXNzaW9uX25hbWUgPSAnU0VTU0lEJzsKCQlpZiggc3RybGVuKCAkdGhpcy0+Y29uZi0+c2Vzc2lvbl9uYW1lID8/ICcnICkgKXsKCQkJJHNlc3Npb25fbmFtZSA9ICR0aGlzLT5jb25mLT5zZXNzaW9uX25hbWU7CgkJfQoJCSRwYXRoID0gJHRoaXMtPmNvbmYtPmNvb2tpZV9kZWZhdWx0X3BhdGg7CgkJaWYoICFzdHJsZW4oICRwYXRoID8/ICcnICkgKXsKCQkJJHBhdGggPSAkdGhpcy0+Z2V0X3BhdGhfY3VycmVudF9kaXIoKTsKCQl9CgkJaWYoICFzdHJsZW4oICRwYXRoID8/ICcnICkgKXsKCQkJJHBhdGggPSAnLyc7CgkJfQoKCQlAc2Vzc2lvbl9uYW1lKCAkc2Vzc2lvbl9uYW1lICk7CgkJQHNlc3Npb25fc2V0X2Nvb2tpZV9wYXJhbXMoICRleHBpcmUsICRwYXRoICk7CgoJCS8vIOOCu+ODg+OCt+ODp+ODs+OCkumWi+WniwoJCSRydG4gPSBAc2Vzc2lvbl9zdGFydCgpOwoKCQkvLyDjgrvjg4Pjgrfjg6fjg7Pjga7mnInlirnmnJ/pmZDjgpLoqZXkvqEKCQkkbGFzdF9tb2RpZmllZF90aW1lX2tleSA9ICdTRVNTSU9OX1NUQVJURURfQVQnOwoJCWlmKCBzdHJsZW4oICR0aGlzLT5nZXRfc2Vzc2lvbiggJGxhc3RfbW9kaWZpZWRfdGltZV9rZXkgKSA/PyAnJyApICl7CgkJCSRsYXN0X21vZGlmaWVkX3RpbWUgPSBpbnR2YWwoICR0aGlzLT5nZXRfc2Vzc2lvbiggJGxhc3RfbW9kaWZpZWRfdGltZV9rZXkgKSApOwoJCQlpZiggJGxhc3RfbW9kaWZpZWRfdGltZSA8IGludHZhbCggdGltZSgpIC0gJGV4cGlyZSApICl7CgkJCQkvLyDjgrvjg4Pjgrfjg6fjg7Pjga7mnInlirnmnJ/pmZDjgYzliIfjgozjgabjgYTjgZ/jgonjgIHjgrvjg4Pjgrfjg6fjg7PjgpLnoLTlo4rjgZnjgovjgIIKCQkJCSRfU0VTU0lPTiA9IGFycmF5KCk7CgkJCX1lbHNlaWYoICRsYXN0X21vZGlmaWVkX3RpbWUgPCBpbnR2YWwoIHRpbWUoKSAtICgkZXhwaXJlLzIpICkgKXsKCQkJCS8vIOOCu+ODg+OCt+ODp+ODs+OBruacieWKueacn+mZkOOBjOaui+OCiiDljYrliIYg44KS5YiH44Gj44Gm44GE44Gf44KJ44CB44K744OD44K344On44Oz44KS5YaN55m66KGM44GX5bu26ZW344GZ44KL44CCCgkJCQkkdGhpcy0+c2Vzc2lvbl91cGRhdGUoKTsKCQkJCSR0aGlzLT5kZWxldGVfc2Vzc2lvbiggJGxhc3RfbW9kaWZpZWRfdGltZV9rZXkgKTsgLy8g5LiA5pem5YmK6ZmkCgkJCX0KCQl9CgkJaWYoICFzdHJsZW4oICR0aGlzLT5nZXRfc2Vzc2lvbiggJGxhc3RfbW9kaWZpZWRfdGltZV9rZXkgKSA/PyAnJyApICl7CgkJCSR0aGlzLT5zZXRfc2Vzc2lvbiggJGxhc3RfbW9kaWZpZWRfdGltZV9rZXksIHRpbWUoKSApOwoJCX0KCgkJcmV0dXJuICRydG47Cgl9CgoJLyoqCgkgKiDjgrvjg4Pjgrfjg6fjg7PjgpLmm7TmlrDjgZnjgovjgIIKCSAqCgkgKiBAcmV0dXJuIGJvb2xlYW4g5oiQ5Yqf44GX44Gf5aC05ZCI44GrIGB0cnVlYCDjgpLjgIHlpLHmlZfjgZfjgZ/loLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIgCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBzZXNzaW9uX3VwZGF0ZSgpewoJCSRkZXN0cm95ZWRfdGltZV9rZXkgPSAnU0VTU0lPTl9ERVNUUk9ZRURfQVQnOwoJCSRfU0VTU0lPTlskZGVzdHJveWVkX3RpbWVfa2V5XSA9IHRpbWUoKTsKCQkkcmVzdWx0ID0gc2Vzc2lvbl9yZWdlbmVyYXRlX2lkKCk7CgkJdW5zZXQoJF9TRVNTSU9OWyRkZXN0cm95ZWRfdGltZV9rZXldKTsKCQlyZXR1cm4gJHJlc3VsdDsKCX0KCgkvKioKCSAqIOOCu+ODg+OCt+ODp+ODs0lE44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHJldHVybiBzdHJpbmcg44K744OD44K344On44OzSUQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9zZXNzaW9uX2lkKCl7CgkJcmV0dXJuIHNlc3Npb25faWQoKTsKCX0KCgkvKioKCSAqIOOCu+ODg+OCt+ODp+ODs+aDheWgseOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGtleSDjgrvjg4Pjgrfjg6fjg7Pjgq3jg7wKCSAqIEByZXR1cm4gbWl4ZWQgYCRrZXlgIOOBq+WvvuW/nOOBmeOCi+OCu+ODg+OCt+ODp+ODs+WApAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3Nlc3Npb24oICRrZXkgKXsKCQlpZiggIWlzc2V0KCAkX1NFU1NJT05bJGtleV0gKSApewoJCQlyZXR1cm4gbnVsbDsKCQl9CgkJcmV0dXJuICRfU0VTU0lPTlska2V5XTsKCX0KCgkvKioKCSAqIOOCu+ODg+OCt+ODp+ODs+aDheWgseOCkuOCu+ODg+ODiOOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGtleSDjgrvjg4Pjgrfjg6fjg7Pjgq3jg7wKCSAqIEBwYXJhbSBtaXhlZCAkdmFsIGAka2V5YCDjgavlr77lv5zjgZnjgovjgrvjg4Pjgrfjg6fjg7PlgKQKCSAqIEByZXR1cm4gYm9vbCDluLjjgasgYHRydWVgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gc2V0X3Nlc3Npb24oICRrZXkgLCAkdmFsICl7CgkJJF9TRVNTSU9OWyRrZXldID0gJHZhbDsKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvKioKCSAqIOOCu+ODg+OCt+ODp+ODs+aDheWgseOCkuWJiumZpOOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGtleSDjgrvjg4Pjgrfjg6fjg7Pjgq3jg7wKCSAqIEByZXR1cm4gYm9vbCDluLjjgasgYHRydWVgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gZGVsZXRlX3Nlc3Npb24oICRrZXkgKXsKCQl1bnNldCggJF9TRVNTSU9OWyRrZXldICk7CgkJcmV0dXJuIHRydWU7Cgl9CgoKCS8vIC0tLS0tIHVwbG9hZCBmaWxlIGFjY2VzcyAtLS0tLQoKCS8qKgoJICog44Ki44OD44OX44Ot44O844OJ44GV44KM44Gf44OV44Kh44Kk44Or44KS44K744OD44K344On44Oz44Gr5L+d5a2Y44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAka2V5IOOCu+ODg+OCt+ODp+ODs+OCreODvAoJICogQHBhcmFtIGFycmF5ICR1bGZpbGVpbmZvIOOCouODg+ODl+ODreODvOODieODleOCoeOCpOODq+aDheWgsQoJICogQHJldHVybiBib29sIOaIkOWKn+aZgiBgdHJ1ZWDjgIHlpLHmlZfmmYIgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHNhdmVfdXBsb2FkZmlsZSggJGtleSAsICR1bGZpbGVpbmZvICl7CgkJLy8gYmFzZTY044Gn44Ko44Oz44Kz44O844OJ44GX44Gm44CB44OQ44Kk44OK44Oq44OH44O844K/44KS5oyB44Gh44G+44GZ44CCCgkJLy8gJHVsZmlsZWluZm9bJ2NvbnRlbnQnXSDjgavjg5DjgqTjg4rjg6rjgpLmoLzntI3jgZfjgabmuKHjgZnjgYvjgIEKCQkvLyAkdWxmaWxlaW5mb1sndG1wX25hbWUnXSDjgb7jgZ/jga8gJHVsZmlsZWluZm9bJ3BhdGgnXSDjga7jgYTjgZrjgozjgYvjgavjgIEKCQkvLyDjgqLjg4Pjg5fjg63jg7zjg4njg5XjgqHjgqTjg6vjga7jg5HjgrnjgpLmjIflrprjgZfjgabjgY/jgaDjgZXjgYTjgIIKCQkkZmlsZWluZm8gPSBhcnJheSgpOwoJCSRmaWxlaW5mb1snbmFtZSddID0gJHVsZmlsZWluZm9bJ25hbWUnXTsKCQkkZmlsZWluZm9bJ3R5cGUnXSA9ICR1bGZpbGVpbmZvWyd0eXBlJ107CgoJCWlmKCAkdWxmaWxlaW5mb1snY29udGVudCddICl7CgkJCSRmaWxlaW5mb1snY29udGVudCddID0gYmFzZTY0X2VuY29kZSggJHVsZmlsZWluZm9bJ2NvbnRlbnQnXSApOwoJCX1lbHNlewoJCQkkZmlsZXBhdGggPSAnJzsKCQkJaWYoIEBpc19maWxlKCAkdWxmaWxlaW5mb1sndG1wX25hbWUnXSApICl7CgkJCQkkZmlsZXBhdGggPSAkdWxmaWxlaW5mb1sndG1wX25hbWUnXTsKCQkJfWVsc2VpZiggQGlzX2ZpbGUoICR1bGZpbGVpbmZvWydwYXRoJ10gKSApewoJCQkJJGZpbGVwYXRoID0gJHVsZmlsZWluZm9bJ3BhdGgnXTsKCQkJfWVsc2V7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQkJJGZpbGVpbmZvWydjb250ZW50J10gPSBiYXNlNjRfZW5jb2RlKCBmaWxlX2dldF9jb250ZW50cyggJGZpbGVwYXRoICkgKTsKCQl9CgoJCWlmKCAhaXNfYXJyYXkoICRfU0VTU0lPTiApICl7CgkJCSRfU0VTU0lPTiA9IGFycmF5KCk7CgkJfQoJCWlmKCAhaXNzZXQoJF9TRVNTSU9OWydGSUxFJ10pICl7CgkJCSRfU0VTU0lPTlsnRklMRSddID0gYXJyYXkoKTsKCQl9CgoJCSRfU0VTU0lPTlsnRklMRSddWyRrZXldID0gJGZpbGVpbmZvOwoJCXJldHVybiB0cnVlOwoJfQoJLyoqCgkgKiDjgrvjg4Pjgrfjg6fjg7Pjgavkv53lrZjjgZXjgozjgZ/jg5XjgqHjgqTjg6vmg4XloLHjgpLlj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44K744OD44K344On44Oz44Kt44O8CgkgKiBAcmV0dXJuIGFycmF5fGJvb2xlYW4g5oiQ5Yqf5pmC44CB44OV44Kh44Kk44Or5oOF5aCxIOOCkuagvOe0jeOBl+OBn+mAo+aDs+mFjeWIl+OAgeWkseaVl+aZgiBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3VwbG9hZGZpbGUoICRrZXkgKXsKCQlpZiggIXN0cmxlbigka2V5ID8/ICcnICkpewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAhaXNzZXQoJF9TRVNTSU9OWydGSUxFJ11bJGtleV0pICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCSRydG4gPSAkX1NFU1NJT05bJ0ZJTEUnXVska2V5XTsKCQlpZiggIWlzc2V0KCAkcnRuWydjb250ZW50J10gKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQkkcnRuWydjb250ZW50J10gPSBiYXNlNjRfZGVjb2RlKCAkcnRuWydjb250ZW50J10gKTsKCQlyZXR1cm4gJHJ0bjsKCX0KCS8qKgoJICog44K744OD44K344On44Oz44Gr5L+d5a2Y44GV44KM44Gf44OV44Kh44Kk44Or5oOF5aCx44Gu5LiA6Kan44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHJldHVybiBhcnJheSDjg5XjgqHjgqTjg6vmg4XloLEg44KS5qC857SN44GX44Gf6YCj5oOz6YWN5YiXCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfdXBsb2FkZmlsZV9saXN0KCl7CgkJaWYoICFpc3NldCgkX1NFU1NJT05bJ0ZJTEUnXSkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlyZXR1cm4gYXJyYXlfa2V5cyggJF9TRVNTSU9OWydGSUxFJ10gKTsKCX0KCS8qKgoJICog44K744OD44K344On44Oz44Gr5L+d5a2Y44GV44KM44Gf44OV44Kh44Kk44Or44KS5YmK6Zmk44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAka2V5IOOCu+ODg+OCt+ODp+ODs+OCreODvAoJICogQHJldHVybiBib29sIOW4uOOBqyBgdHJ1ZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkZWxldGVfdXBsb2FkZmlsZSggJGtleSApewoJCWlmKCAhaXNzZXQoJF9TRVNTSU9OWydGSUxFJ10pICl7CgkJCXJldHVybiB0cnVlOwoJCX0KCQl1bnNldCggJF9TRVNTSU9OWydGSUxFJ11bJGtleV0gKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCS8qKgoJICog44K744OD44K344On44Oz44Gr5L+d5a2Y44GV44KM44Gf44OV44Kh44Kk44Or44KS5YWo44Gm5YmK6Zmk44GZ44KL44CCCgkgKgoJICogQHJldHVybiBib29sIOW4uOOBqyBgdHJ1ZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkZWxldGVfdXBsb2FkZmlsZV9hbGwoKXsKCQlyZXR1cm4gJHRoaXMtPmRlbGV0ZV9zZXNzaW9uKCAnRklMRScgKTsKCX0KCgoJLy8gLS0tLS0gdXRpbHMgLS0tLS0KCgkvKioKCSAqIFVTRVJfQUdFTlQg44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHJldHVybiBzdHJpbmcgVVNFUl9BR0VOVAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3VzZXJfYWdlbnQoKXsKCQlyZXR1cm4gJHRoaXMtPmNvbmYtPnNlcnZlclsnSFRUUF9VU0VSX0FHRU5UJ10gPz8gbnVsbDsKCX0KCgkvKioKCSAqIOODquOCr+OCqOOCueODiOODkeOCueOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEByZXR1cm4gc3RyaW5nIOODquOCr+OCqOOCueODiOODkeOCuQoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3JlcXVlc3RfZmlsZV9wYXRoKCl7CgkJcmV0dXJuICR0aGlzLT5yZXF1ZXN0X2ZpbGVfcGF0aDsKCX0KCgkvKioKCSAqICBTU0zpgJrkv6HjgYvoqr/jgbnjgosKCSAqCgkgKiBAcmV0dXJuIGJvb2wgU1NM6YCa5L+h44Gu5aC05ZCIIGB0cnVlYOOAgeOBneOCjOS7peWkluOBruWgtOWQiCBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNfc3NsKCl7CgkJaWYoICgkdGhpcy0+Y29uZi0+c2VydmVyWydIVFRQX1NTTCddID8/IG51bGwpIHx8ICgkdGhpcy0+Y29uZi0+c2VydmVyWydIVFRQUyddID8/IG51bGwpICl7CgkJCS8vIFNTTOmAmuS/oeOBjOacieWKueOBi+WQpuOBi+WIpOaWrQoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJcmV0dXJuIGZhbHNlOwoJfQoKCS8qKgoJICog44Kz44Oe44Oz44OJ44Op44Kk44Oz44Gr44KI44KL5a6f6KGM44GL56K66KqN44GZ44KL44CCCgkgKgoJICogQHJldHVybiBib29sIOOCs+ODnuODs+ODieOBi+OCieOBruWun+ihjOOBruWgtOWQiCBgdHJ1ZWDjgIHjgqbjgqfjg5bjgYvjgonjga7lrp/ooYzjga7loLTlkIggYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2NtZCgpewoJCWlmKCBpc3NldCggJHRoaXMtPmNvbmYtPnNlcnZlclsnUkVNT1RFX0FERFInXSApICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJcmV0dXJuIHRydWU7Cgl9CgoKCS8vIC0tLS0tIHByaXZhdGUgLS0tLS0KCgkvKioKCSAqIOWPl+OBkeWPluOBo+OBn+ODhuOCreOCueODiOOCkuOAgeaMh+WumuOBruaWh+Wtl+OCu+ODg+ODiOOBq+WkieaPm+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBtaXhlZCAkdGV4dCDjg4bjgq3jgrnjg4gKCSAqIEBwYXJhbSBzdHJpbmcgJGVuY29kZSDlpInmj5vlvozjga7mloflrZfjgrvjg4Pjg4jjgILnnIHnlaXmmYLjgIFgbWJfaW50ZXJuYWxfZW5jb2RpbmcoKWAg44GL44KJ5Y+W5b6XCgkgKiBAcGFyYW0gc3RyaW5nICRlbmNvZGVmcm9tIOWkieaPm+WJjeOBruaWh+Wtl+OCu+ODg+ODiOOAguecgeeVpeaZguOAgeiHquWLleaknOWHugoJICogQHJldHVybiBzdHJpbmcg5paH5a2X44K744OD44OI5aSJ5o+b5b6M44Gu44OG44Kt44K544OICgkgKi8KCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGNvbnZlcnRfZW5jb2RpbmcoICR0ZXh0LCAkZW5jb2RlID0gbnVsbCwgJGVuY29kZWZyb20gPSBudWxsICl7CgkJaWYoICFpc19jYWxsYWJsZSggJ21iX2ludGVybmFsX2VuY29kaW5nJyApICl7CgkJCXJldHVybiAkdGV4dDsKCQl9CgkJaWYoICFzdHJsZW4oICRlbmNvZGVmcm9tID8/ICcnICkgKXsKCQkJJGVuY29kZWZyb20gPSBtYl9pbnRlcm5hbF9lbmNvZGluZygpLicsVVRGLTgsU0pJUy13aW4sZXVjSlAtd2luLFNKSVMsRVVDLUpQLEpJUyxBU0NJSSc7CgkJfQoJCWlmKCAhc3RybGVuKCAkZW5jb2RlID8/ICcnICkgKXsKCQkJJGVuY29kZSA9IG1iX2ludGVybmFsX2VuY29kaW5nKCk7CgkJfQoKCQlpZiggaXNfYXJyYXkoICR0ZXh0ICkgKXsKCQkJJHJ0biA9IGFycmF5KCk7CgkJCWlmKCAhY291bnQoICR0ZXh0ICkgKXsKCQkJCXJldHVybiAkdGV4dDsKCQkJfQoJCQkkVEVYVF9LRVlTID0gYXJyYXlfa2V5cyggJHRleHQgKTsKCQkJZm9yZWFjaCggJFRFWFRfS0VZUyBhcyAkTGluZSApewoJCQkJJEtFWSA9IG1iX2NvbnZlcnRfZW5jb2RpbmcoICRMaW5lICwgJGVuY29kZSAsICRlbmNvZGVmcm9tICk7CgkJCQlpZiggaXNfYXJyYXkoICR0ZXh0WyRMaW5lXSApICl7CgkJCQkJJHJ0blskS0VZXSA9IHNlbGY6OmNvbnZlcnRfZW5jb2RpbmcoICR0ZXh0WyRMaW5lXSA/PyBhcnJheSgpICwgJGVuY29kZSAsICRlbmNvZGVmcm9tICk7CgkJCQl9ZWxzZXsKCQkJCQkkcnRuWyRLRVldID0gbWJfY29udmVydF9lbmNvZGluZyggJHRleHRbJExpbmVdID8/ICcnICwgJGVuY29kZSAsICRlbmNvZGVmcm9tICk7CgkJCQl9CgkJCX0KCQl9ZWxzZXsKCQkJaWYoICFzdHJsZW4oICR0ZXh0ID8/ICcnICkgKXsKCQkJCXJldHVybiAkdGV4dDsKCQkJfQoJCQkkcnRuID0gbWJfY29udmVydF9lbmNvZGluZyggJHRleHQgPz8gJycgLCAkZW5jb2RlICwgJGVuY29kZWZyb20gKTsKCQl9CgkJcmV0dXJuICRydG47Cgl9CgoJLyoqCgkgKiDjgq/jgqnjg7zjg4jjgZXjgozjgZ/mloflrZfliJfjga7jgq/jgqnjg7zjg4jpg6jliIbjgpLlj5bjgorpmaTjgY/jgIIKCSAqCgkgKiDjgZPjga7plqLmlbDjga/jgIFQSFDjga4gYHN0cmlwc2xhc2hlcygpYCDjga7jg6njg4Pjg5Hjg7zjgafjgZnjgIIKCSAqIOmFjeWIl+OCkuWPl+OBkeWPluOCi+OBqOWGjeW4sOeahOOBq+aWh+Wtl+WIl+OCkuWkieaPm+OBl+OBpui/lOOBl+OBvuOBmeOAggoJICoKCSAqIEBwYXJhbSBtaXhlZCAkdGV4dCDjg4bjgq3jgrnjg4gKCSAqIEByZXR1cm4gc3RyaW5nIOOCr+OCqeODvOODiOOBjOWFg+OBq+aIu+OBleOCjOOBn+ODhuOCreOCueODiAoJICovCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBzdHJpcHNsYXNoZXMoICR0ZXh0ICl7CgkJaWYoIGlzX2FycmF5KCAkdGV4dCApICl7CgkJCS8vIOmFjeWIl+OBquOCiQoJCQlmb3JlYWNoKCAkdGV4dCBhcyAka2V5PT4kdmFsICl7CgkJCQkkdGV4dFska2V5XSA9IHNlbGY6OnN0cmlwc2xhc2hlcyggJHZhbCApOwoJCQl9CgkJfWVsc2VpZiggaXNfc3RyaW5nKCAkdGV4dCApICl7CgkJCS8vIOaWh+Wtl+WIl+OBquOCiQoJCQkkdGV4dCA9IHN0cmlwc2xhc2hlcyggJHRleHQgKTsKCQl9CgkJcmV0dXJuICR0ZXh0OwoJfQoKCS8qKgoJICog44Kr44Os44Oz44OI44OH44Kj44Os44Kv44OI44Oq44Gu44OR44K544KS5Y+W5b6XCgkgKiBAcmV0dXJuIHN0cmluZyDjg4njgq3jg6Xjg6Hjg7Pjg4jjg6vjg7zjg4jjgYvjgonjga7jg5Hjgrko44K544Op44OD44K344Ol6ZaJ44GYKQoJICovCglwcml2YXRlIGZ1bmN0aW9uIGdldF9wYXRoX2N1cnJlbnRfZGlyKCl7CgkJLy8gIOeSsOWig+WkieaVsOOBi+OCieiHquWLleeahOOBq+WIpOaWreOAggoJCSRydG4gPSBkaXJuYW1lKCAkdGhpcy0+Y29uZi0+c2VydmVyWydTQ1JJUFRfTkFNRSddICk7CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCAnUkVNT1RFX0FERFInICwgJHRoaXMtPmNvbmYtPnNlcnZlciApICl7CgkJCS8vICBDVUnjgYvjgonotbfli5XjgZXjgozjgZ/loLTlkIgKCQkJLy8gIOODieOCreODpeODoeODs+ODiOODq+ODvOODiOOBjOWIpOWumuOBp+OBjeOBquOBhOOBruOBp+OAgQoJCQkvLyAg44OJ44Kt44Ol44Oh44Oz44OI44Or44O844OI55u05LiL44Gr44GC44KL44KC44Gu44Go44GZ44KL44CCCgkJCSRydG4gPSAnLyc7CgkJfQoJCSRydG4gPSBzdHJfcmVwbGFjZSgnXFwnLCcvJywkcnRuKTsKCQkkcnRuIC49ICgkcnRuIT0nLyc/Jy8nOicnKTsKCQlyZXR1cm4gJHJ0bjsKCX0KCn0KPz4=',
           "auth" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiBhdXRoIGNsYXNzCiAqCiAqIEBhdXRob3IgVG9tb3lhIEtveWFuYWdpIDx0b21rNzlAZ21haWwuY29tPgogKi8KY2xhc3MgYXV0aHsKCXByaXZhdGUgJHJlbmNvbjsKCXByaXZhdGUgJGFwcF9pbmZvOwoKCS8qKiDnrqHnkIbjg6bjg7zjgrbjg7zlrprnvqnjg4fjgqPjg6zjgq/jg4jjg6ogKi8KCXByaXZhdGUgJHJlYWxwYXRoX2FkbWluX3VzZXJzOwoKCS8qKiBDU1JG44OI44O844Kv44Oz44Gu5pyJ5Yq55pyf6ZmQICovCglwcml2YXRlICRjc3JmX3Rva2VuX2V4cGlyZSA9IDYwICogNjA7CgoJLyoqCgkgKiBDb25zdHJ1Y3RvcgoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoICRyZW5jb24sICRhcHBfaW5mbyApewoJCSR0aGlzLT5yZW5jb24gPSAkcmVuY29uOwoJCSR0aGlzLT5hcHBfaW5mbyA9IChvYmplY3QpICRhcHBfaW5mbzsKCgkJLy8g566h55CG44Om44O844K244O85a6a576p44OH44Kj44Os44Kv44OI44OqCgkJJHRoaXMtPnJlYWxwYXRoX2FkbWluX3VzZXJzID0gJHRoaXMtPnJlbmNvbi0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpcignL2FkbWluX3VzZXJzLycpOwoJCWlmKCBpc19zdHJpbmcoJHRoaXMtPnJlYWxwYXRoX2FkbWluX3VzZXJzID8/IG51bGwpICYmICFpc19kaXIoJHRoaXMtPnJlYWxwYXRoX2FkbWluX3VzZXJzKSApewoJCQkkdGhpcy0+cmVuY29uLT5mcygpLT5ta2Rpcl9yKCR0aGlzLT5yZWFscGF0aF9hZG1pbl91c2Vycyk7CgkJfQoJfQoKCS8qKgoJICog6KqN6Ki844OX44Ot44K744K5CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBhdXRoKCl7CgoJCWlmKCAhJHRoaXMtPmlzX2xvZ2luX3JlcXVpcmVkKCkgKXsKCQkJLy8g44Om44O844K244O844GM6Kit5a6a44GV44KM44Gm44GE44Gq44GR44KM44Gw44CB44Ot44Kw44Kk44Oz44Gu6KmV5L6h44KS6KGM44KP44Gq44GE44CCCgkJCXJldHVybjsKCQl9CgoJCSR1c2VycyA9IChhcnJheSkgJHRoaXMtPnJlbmNvbi0+Y29uZigpLT51c2VyczsKCQkkc2VzX2lkID0gJHRoaXMtPnJlbmNvbi0+YXBwX2lkKCkuJ19zZXNfbG9naW5faWQnOwoJCSRzZXNfcHcgPSAkdGhpcy0+cmVuY29uLT5hcHBfaWQoKS4nX3Nlc19sb2dpbl9wdyc7CgoJCWlmKCAkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X3BhcmFtKCdBRE1JTl9VU0VSX0ZMRycpICl7CgkJCSRsb2dpbl9jaGFsbGVuZ2VyX2lkID0gJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9wYXJhbSgnQURNSU5fVVNFUl9JRCcpOwoJCQkkbG9naW5fY2hhbGxlbmdlcl9wdyA9ICR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfcGFyYW0oJ0FETUlOX1VTRVJfUFcnKTsKCgkJCSR1c2VyX2luZm8gPSAkdGhpcy0+Z2V0X2FkbWluX3VzZXJfaW5mbyggJGxvZ2luX2NoYWxsZW5nZXJfaWQgKTsKCQkJaWYoICFpc19vYmplY3QoJHVzZXJfaW5mbykgKXsKCQkJCS8vIOS4jeato+OBquODpuODvOOCtuODvOODh+ODvOOCvwoJCQkJJHRoaXMtPmxvZ2luX3BhZ2UoJ2ZhaWxlZCcpOwoJCQkJZXhpdDsKCQkJfQoJCQkkYWRtaW5faWQgPSAkdXNlcl9pbmZvLT5pZDsKCQkJJGFkbWluX3B3ID0gJHVzZXJfaW5mby0+cHc7CgoJCQlpZiggc3RybGVuKCRsb2dpbl9jaGFsbGVuZ2VyX2lkID8/ICcnKSAmJiBzdHJsZW4oJGxvZ2luX2NoYWxsZW5nZXJfcHcgPz8gJycpICl7CgkJCQkvLyDjg63jgrDjgqTjg7PoqZXkvqEKCQkJCWlmKCAkbG9naW5fY2hhbGxlbmdlcl9pZCA9PSAkYWRtaW5faWQgJiYgKHBhc3N3b3JkX3ZlcmlmeSgkbG9naW5fY2hhbGxlbmdlcl9wdywgJHVzZXJfaW5mby0+cHcpIHx8IHNoYTEoJGxvZ2luX2NoYWxsZW5nZXJfcHcpID09ICR1c2VyX2luZm8tPnB3KSApewoJCQkJCSR0aGlzLT5yZW5jb24tPnJlcSgpLT5zZXRfc2Vzc2lvbigkc2VzX2lkLCAkbG9naW5fY2hhbGxlbmdlcl9pZCk7CgkJCQkJJHRoaXMtPnJlbmNvbi0+cmVxKCktPnNldF9zZXNzaW9uKCRzZXNfcHcsICR1c2VyX2luZm8tPnB3KTsKCQkJCQloZWFkZXIoJ0xvY2F0aW9uOiA/YT0nLnVybGVuY29kZSgkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X3BhcmFtKCdhJykgPz8gJycpKTsKCQkJCQlleGl0OwoJCQkJfQoJCQl9CgoKCQkJJGxvZ2luX2lkID0gJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9zZXNzaW9uKCRzZXNfaWQpOwoJCQkkbG9naW5fcHdfaGFzaCA9ICR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfc2Vzc2lvbigkc2VzX3B3KTsKCQkJaWYoIHN0cmxlbigkbG9naW5faWQgPz8gJycpICYmIHN0cmxlbigkbG9naW5fcHdfaGFzaCA/PyAnJykgKXsKCQkJCS8vIOODreOCsOOCpOODs+a4iOOBv+OBi+ipleS+oQoJCQkJaWYoIGFycmF5X2tleV9leGlzdHMoJGxvZ2luX2lkLCAkdXNlcnMpICYmICR1c2Vyc1skbG9naW5faWRdID09ICRsb2dpbl9wd19oYXNoICl7CgkJCQkJcmV0dXJuOwoJCQkJfQoJCQkJJHRoaXMtPnJlbmNvbi0+cmVxKCktPmRlbGV0ZV9zZXNzaW9uKCRzZXNfaWQpOwoJCQkJJHRoaXMtPnJlbmNvbi0+cmVxKCktPmRlbGV0ZV9zZXNzaW9uKCRzZXNfcHcpOwoJCQkJJHRoaXMtPnJlbmNvbi0+Zm9yYmlkZGVuKCk7CgkJCQlleGl0OwoJCQl9CgoJCQkkYWN0aW9uID0gJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9wYXJhbSgnYScpID8/IG51bGw7CgkJCWlmKCAkYWN0aW9uID09ICdsb2dvdXQnIHx8ICRhY3Rpb24gPT0gJ2xvZ2luJyApewoJCQkJJHRoaXMtPnJlbmNvbi0+cmVxKCktPnNldF9wYXJhbSgnYScsIG51bGwpOwoJCQl9CgkJCSR0aGlzLT5sb2dpbl9wYWdlKCk7CgkJCWV4aXQ7CgkJfQoKCQlpZiggISR0aGlzLT5pc19sb2dpbigpICl7CgkJCSR0aGlzLT5sb2dpbl9wYWdlKCk7CgkJCWV4aXQ7CgkJfQoKCQlyZXR1cm47Cgl9CgoJLyoqCgkgKiDjg63jgrDjgqTjg7PnlLvpnaLjgpLooajnpLrjgZfjgabntYLkuobjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGxvZ2luX3BhZ2UoICRlcnJvcl9tZXNzYWdlID0gbnVsbCApewoJCWhlYWRlcignQ29udGVudC10eXBlOiB0ZXh0L2h0bWwnKTsKCi8qIHJvdXRlcjpsb2dpbiAqLwoKCQlvYl9zdGFydCgpOwoJCT8+CjwhZG9jdHlwZSBodG1sPgo8aHRtbD4KCTxoZWFkPgoJCTxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPgoJCTx0aXRsZT48Pz0gaHRtbHNwZWNpYWxjaGFycyggJHRoaXMtPmFwcF9pbmZvLT5uYW1lID8/ICcnICkgPz48L3RpdGxlPgogICAgICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSIgLz4KCQk8bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQ9Im5vZm9sbG93LCBub2luZGV4LCBub2FyY2hpdmUiIC8+CgkJPD89ICR0aGlzLT5ta19jc3MoKSA/PgoJPC9oZWFkPgoJPGJvZHk+CgkJPGRpdiBjbGFzcz0idGhlbWUtY29udGFpbmVyIj4KCQkJPGgxPjw/PSBodG1sc3BlY2lhbGNoYXJzKCAkdGhpcy0+YXBwX2luZm8tPm5hbWUgPz8gJycgKSA/PjwvaDE+CgkJCTw/cGhwIGlmKCBzdHJsZW4oJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9wYXJhbSgnQURNSU5fVVNFUl9GTEcnKSA/PyAnJykgKXsgPz4KCQkJCTxkaXYgY2xhc3M9ImFsZXJ0IGFsZXJ0LWRhbmdlciIgcm9sZT0iYWxlcnQiPgoJCQkJCTxkaXY+SUTjgb7jgZ/jga/jg5Hjgrnjg6/jg7zjg4njgYzpgZXjgYTjgb7jgZnjgII8L2Rpdj4KCQkJCTwvZGl2PgoJCQk8P3BocCB9ID8+CgkJCTw/cGhwIGlmKCBzdHJsZW4oJGVycm9yX21lc3NhZ2UgPz8gJycpICl7ID8+CgkJCQk8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC1kYW5nZXIiIHJvbGU9ImFsZXJ0Ij4KCQkJCQk8ZGl2Pjw/PSBodG1sc3BlY2lhbGNoYXJzKCRlcnJvcl9tZXNzYWdlID8/ICcnKSA/PjwvZGl2PgoJCQkJPC9kaXY+CgkJCTw/cGhwIH0gPz4KCgkJCTxmb3JtIGFjdGlvbj0iPyIgbWV0aG9kPSJwb3N0Ij4KPHRhYmxlPgoJPHRyPgoJCTx0aD5JRDo8L3RoPgoJCTx0ZD48aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iQURNSU5fVVNFUl9JRCIgdmFsdWU9IiIgLz48L3RkPgoJPC90cj4KCTx0cj4KCQk8dGg+UGFzc3dvcmQ6PC90aD4KCQk8dGQ+PGlucHV0IHR5cGU9InBhc3N3b3JkIiBuYW1lPSJBRE1JTl9VU0VSX1BXIiB2YWx1ZT0iIiAvPjwvdGQ+Cgk8L3RyPgo8L3RhYmxlPgo8cD48YnV0dG9uIHR5cGU9InN1Ym1pdCI+TG9naW48L2J1dHRvbj48L3A+CjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IkFETUlOX1VTRVJfRkxHIiB2YWx1ZT0iMSIgLz4KPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iQ1NSRl9UT0tFTiIgdmFsdWU9Ijw/PSBodG1sc3BlY2lhbGNoYXJzKCR0aGlzLT5nZXRfY3NyZl90b2tlbigpKSA/PiIgLz4KPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iYSIgdmFsdWU9Ijw/PSBodG1sc3BlY2lhbGNoYXJzKCR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfcGFyYW0oJ2EnKSA/PyAnJykgPz4iIC8+CgkJCTwvZm9ybT4KCQk8L2Rpdj4KCTwvYm9keT4KPC9odG1sPgo8P3BocAoJCSRydG4gPSBvYl9nZXRfY2xlYW4oKTsKCQlwcmludCAkcnRuOwoJCWV4aXQ7Cgl9CgoJLyoqCgkgKiDjg63jgrDjgqLjgqbjg4jjgZfjgabntYLkuobjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGxvZ291dCgpewoJCSR0aGlzLT5yZW5jb24tPnJlcSgpLT5kZWxldGVfc2Vzc2lvbigkdGhpcy0+cmVuY29uLT5hcHBfaWQoKS4nX3Nlc19sb2dpbl9pZCcpOwoJCSR0aGlzLT5yZW5jb24tPnJlcSgpLT5kZWxldGVfc2Vzc2lvbigkdGhpcy0+cmVuY29uLT5hcHBfaWQoKS4nX3Nlc19sb2dpbl9wdycpOwoKLyogcm91dGVyOmxvZ291dCAqLwoKCQloZWFkZXIoJ0NvbnRlbnQtdHlwZTogdGV4dC9odG1sJyk7CgkJb2Jfc3RhcnQoKTsKCQk/Pgo8IWRvY3R5cGUgaHRtbD4KPGh0bWw+Cgk8aGVhZD4KCQk8bWV0YSBjaGFyc2V0PSJVVEYtOCIgLz4KCQk8dGl0bGU+PD89IGh0bWxzcGVjaWFsY2hhcnMoICR0aGlzLT5hcHBfaW5mby0+bmFtZSA/PyAnJyApID8+PC90aXRsZT4KICAgICAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiIC8+CgkJPG1ldGEgbmFtZT0icm9ib3RzIiBjb250ZW50PSJub2ZvbGxvdywgbm9pbmRleCwgbm9hcmNoaXZlIiAvPgoJCTw/PSAkdGhpcy0+bWtfY3NzKCkgPz4KCTwvaGVhZD4KCTxib2R5PgoJCTxkaXYgY2xhc3M9InRoZW1lLWNvbnRhaW5lciI+CgkJCTxoMT48Pz0gaHRtbHNwZWNpYWxjaGFycyggJHRoaXMtPmFwcF9pbmZvLT5uYW1lID8/ICcnICkgPz48L2gxPgoJCQk8cD5Mb2dnZWQgb3V0LjwvcD4KCQkJPHA+PGEgaHJlZj0iPyI+QmFjayB0byBIb21lPC9hPjwvcD4KCQk8L2Rpdj4KCTwvYm9keT4KPC9odG1sPgo8P3BocAoJCSRydG4gPSBvYl9nZXRfY2xlYW4oKTsKCQlwcmludCAkcnRuOwoJCWV4aXQ7Cgl9CgoKCS8qKgoJICogQ1NT44KS55Sf5oiQCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gbWtfY3NzKCl7CgkJb2Jfc3RhcnQoKTs/PgoJCTxzdHlsZT4KCQkJaHRtbCwgYm9keSB7CgkJCQliYWNrZ3JvdW5kLWNvbG9yOiAjZTdlN2U3OwoJCQkJY29sb3I6ICMzMzM7CgkJCQlmb250LXNpemU6IDE2cHg7CgkJCQltYXJnaW46IDA7CgkJCQlwYWRkaW5nOiAwOwoJCQl9CgkJCWJvZHksaW5wdXQsdGV4dGFyZWEsc2VsZWN0LG9wdGlvbixidXR0b257CgkJCQlmb250LWZhbWlseTogIkhlbHZldGljYSBOZXVlIiwgQXJpYWwsICJIaXJhZ2lubyBLYWt1IEdvdGhpYyBQcm9OIiwgIkhpcmFnaW5vIFNhbnMiLCBNZWlyeW8sIHNhbnMtc2VyaWYsIHN5c3RlbS11aTsKCQkJfQoJCQkudGhlbWUtY29udGFpbmVyIHsKCQkJCWJveC1zaXppbmc6IGJvcmRlci1ib3g7CgkJCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJCQlwYWRkaW5nOiA0ZW0gMjBweDsKCQkJCW1hcmdpbjogMzBweCBhdXRvOwoJCQkJd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpOwoJCQkJbWF4LXdpZHRoOiA2MDBweDsKCQkJCWJhY2tncm91bmQtY29sb3I6ICNmNmY2ZjY7CgkJCQlib3JkZXI6IDFweCBzb2xpZCAjYmJiOwoJCQkJYm9yZGVyLXJhZGl1czogNXB4OwoJCQkJYm94LXNoYWRvdzogMCAycHggMTJweCByZ2JhKDAsMCwwLDAuMSk7CgkJCX0KCQkJaDEgewoJCQkJZm9udC1zaXplOiAyMnB4OwoJCQl9CgkJCXRhYmxlewoJCQkJbWFyZ2luOiAwIGF1dG87CgkJCQltYXgtd2lkdGg6IDEwMCU7CgkJCX0KCQkJdGggewoJCQkJdGV4dC1hbGlnbjogcmlnaHQ7CgkJCQlwYWRkaW5nOiAzcHg7CgkJCX0KCQkJdGQgewoJCQkJdGV4dC1hbGlnbjogbGVmdDsKCQkJCXBhZGRpbmc6IDNweDsKCQkJfQoJCQlpbnB1dFt0eXBlPXRleHRdLAoJCQlpbnB1dFt0eXBlPXBhc3N3b3JkXXsKCQkJCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCQkJCWJveC1zaXppbmc6IGJvcmRlci1ib3g7CgkJCQl3aWR0aDogMTYwcHg7CgkJCQltaW4td2lkdGg6IDUwcHg7CgkJCQltYXgtd2lkdGg6IDEwMCU7CgkJCQlwYWRkaW5nOiAuMzc1cmVtIC43NXJlbTsKCQkJCWZvbnQtc2l6ZTogMWVtOwoJCQkJZm9udC13ZWlnaHQ6IG5vcm1hbDsKCQkJCWxpbmUtaGVpZ2h0OiAxLjU7CgkJCQljb2xvcjogIzMzMzsKCQkJCWJhY2tncm91bmQtY29sb3I6ICNmNmY2ZjY7CgkJCQliYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94OwoJCQkJYm9yZGVyOiAxcHggc29saWQgI2NlZDRkYTsKCQkJCWJvcmRlci1yYWRpdXM6IC4yNXJlbTsKCQkJCXRyYW5zaXRpb246IGJvcmRlci1jb2xvciAuMTVzIGVhc2UtaW4tb3V0LGJveC1zaGFkb3cgLjE1cyBlYXNlLWluLW91dDsKCQkJfQoJCQlpbnB1dFt0eXBlPXRleHRdOmZvY3VzLAoJCQlpbnB1dFt0eXBlPXBhc3N3b3JkXTpmb2N1c3sKCQkJCWNvbG9yOiAjMzMzOwoJCQkJYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKCQkJCWJvcmRlci1jb2xvcjogIzgwYmRmZjsKCQkJCW91dGxpbmU6IDA7CgkJCQlib3gtc2hhZG93OiAwIDAgMCAuMnJlbSByZ2JhKDAsMTIzLDI1NSwuMjUpOwoJCQl9CgoJCQlidXR0b24gewoJCQkJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJCQkJYm9yZGVyLXJhZGl1czogM3B4OwoJCQkJYmFja2dyb3VuZC1jb2xvcjogI2Y1ZmJmZTsKCQkJCWNvbG9yOiAjMDBhMGU2OwoJCQkJYm9yZGVyOiAxcHggc29saWQgIzAwYTBlNjsKCQkJCWJveC1zaGFkb3c6IDAgMnB4IDBweCByZ2JhKDAsMCwwLDAuMSk7CgkJCQlwYWRkaW5nOiAwLjVlbSAyZW07CgkJCQlmb250LXNpemU6MWVtOwoJCQkJZm9udC13ZWlnaHQ6IG5vcm1hbDsKCQkJCWxpbmUtaGVpZ2h0OiAxOwoJCQkJdGV4dC1kZWNvcmF0aW9uOiBub25lOwoJCQkJdGV4dC1hbGlnbjogY2VudGVyOwoJCQkJY3Vyc29yOiBwb2ludGVyOwoJCQkJYm94LXNpemluZzogYm9yZGVyLWJveDsKCQkJCWFsaWduLWl0ZW1zOiBzdHJldGNoOwoJCQkJdHJhbnNpdGlvbjoKCQkJCQljb2xvciAwLjFzLAoJCQkJCWJhY2tncm91bmQtY29sb3IgMC4xcywKCQkJCQl0cmFuc2Zvcm0gMC4xcwoJCQkJOwoJCQl9CgkJCWJ1dHRvbjpmb2N1cywKCQkJYnV0dG9uOmhvdmVyewoJCQkJYmFja2dyb3VuZC1jb2xvcjogI2Q5ZjFmYjsKCQkJfQoJCQlidXR0b246aG92ZXJ7CgkJCQliYWNrZ3JvdW5kLWNvbG9yOiAjY2NlY2ZhOwoJCQl9CgkJCWJ1dHRvbjphY3RpdmV7CgkJCQliYWNrZ3JvdW5kLWNvbG9yOiAjMDBhMGU2OwoJCQkJY29sb3I6ICNmZmY7CgkJCX0KCgkJPC9zdHlsZT4KCgkJPD9waHAKCQkkc3JjID0gb2JfZ2V0X2NsZWFuKCk7CgkJcmV0dXJuICRzcmM7Cgl9CgoJLyoqCgkgKiDjg63jgrDjgqTjg7PjgYzlv4XopoHjgYvvvJ8KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2xvZ2luX3JlcXVpcmVkKCl7CgkJaWYoICgKCQkJCSFpc19hcnJheSgkdGhpcy0+cmVuY29uLT5jb25mKCktPnVzZXJzID8/IG51bGwpCgkJCQkmJiAhaXNfb2JqZWN0KCR0aGlzLT5yZW5jb24tPmNvbmYoKS0+dXNlcnMgPz8gbnVsbCkKCQkJKSAmJiAoCgkJCQlpc19udWxsKCR0aGlzLT5yZW5jb24tPmNvbmYoKS0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpcikKCQkJCXx8ICFpc19kaXIoJHRoaXMtPnJlbmNvbi0+Y29uZigpLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyKQoJCQkpICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkgKiDjg63jgrDjgqTjg7PjgZfjgabjgYTjgovjgYvnorroqo3jgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2xvZ2luKCl7CgkJJHNlc19pZCA9ICR0aGlzLT5yZW5jb24tPmFwcF9pZCgpLidfc2VzX2xvZ2luX2lkJzsKCQkkc2VzX3B3ID0gJHRoaXMtPnJlbmNvbi0+YXBwX2lkKCkuJ19zZXNfbG9naW5fcHcnOwoKCQkkQURNSU5fVVNFUl9JRCA9ICR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfc2Vzc2lvbigkc2VzX2lkKTsKCQkkQURNSU5fVVNFUl9QVyA9ICR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfc2Vzc2lvbigkc2VzX3B3KTsKCQlpZiggIWlzX3N0cmluZygkQURNSU5fVVNFUl9JRCkgfHwgIXN0cmxlbigkQURNSU5fVVNFUl9JRCkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZiggJHRoaXMtPmlzX2NzcmZfdG9rZW5fcmVxdWlyZWQoKSAmJiAhJHRoaXMtPmlzX3ZhbGlkX2NzcmZfdG9rZW5fZ2l2ZW4oKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQkkYWRtaW5fdXNlcl9pbmZvID0gJHRoaXMtPmdldF9hZG1pbl91c2VyX2luZm8oICRBRE1JTl9VU0VSX0lEICk7CgkJaWYoICFpc19vYmplY3QoJGFkbWluX3VzZXJfaW5mbykgfHwgIWlzc2V0KCRhZG1pbl91c2VyX2luZm8tPmlkKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAkQURNSU5fVVNFUl9JRCAhPSRhZG1pbl91c2VyX2luZm8tPmlkICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJaWYoICRBRE1JTl9VU0VSX1BXICE9ICRhZG1pbl91c2VyX2luZm8tPnB3ICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkgKiDnrqHnkIbjg6bjg7zjgrbjg7zjgpLkvZzmiJDjgZnjgosKCSAqCgkgKiBAcGFyYW0gYXJyYXl8b2JqZWN0ICR1c2VyX2luZm8g5L2c5oiQ44GZ44KL44Om44O844K244O85oOF5aCxCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBjcmVhdGVfYWRtaW5fdXNlciggJHVzZXJfaW5mbyApewoJCSRyZXN1bHQgPSAob2JqZWN0KSBhcnJheSgKCQkJJ3Jlc3VsdCcgPT4gdHJ1ZSwKCQkJJ21lc3NhZ2UnID0+ICdPSycsCgkJCSdlcnJvcnMnID0+IChvYmplY3QpIGFycmF5KCksCgkJKTsKCQkkdXNlcl9pbmZvID0gKG9iamVjdCkgJHVzZXJfaW5mbzsKCgkJJHVzZXJfaW5mb192YWxpZGF0ZWQgPSAkdGhpcy0+dmFsaWRhdGVfYWRtaW5fdXNlcl9pbmZvKCR1c2VyX2luZm8pOwoJCWlmKCAhJHVzZXJfaW5mb192YWxpZGF0ZWQtPmlzX3ZhbGlkICl7CgkJCS8vIOS4jeato+OBquW9ouW8j+OBruODpuODvOOCtuODvOaDheWgsQoJCQlyZXR1cm4gKG9iamVjdCkgYXJyYXkoCgkJCQkncmVzdWx0JyA9PiBmYWxzZSwKCQkJCSdtZXNzYWdlJyA9PiAkdXNlcl9pbmZvX3ZhbGlkYXRlZC0+bWVzc2FnZSwKCQkJCSdlcnJvcnMnID0+ICR1c2VyX2luZm9fdmFsaWRhdGVkLT5lcnJvcnMsCgkJCSk7CgkJfQoKCQlpZiggJHRoaXMtPmFkbWluX3VzZXJfZGF0YV9leGlzdHMoICR1c2VyX2luZm8tPmlkICkgKXsKCQkJcmV0dXJuIChvYmplY3QpIGFycmF5KAoJCQkJJ3Jlc3VsdCcgPT4gZmFsc2UsCgkJCQknbWVzc2FnZScgPT4gJ+OBneOBruODpuODvOOCtuODvElE44Gv44GZ44Gn44Gr5a2Y5Zyo44GX44G+44GZ44CCJywKCQkJCSdlcnJvcnMnID0+IChvYmplY3QpIGFycmF5KCksCgkJCSk7CgkJfQoKCQkkdXNlcl9pbmZvLT5wdyA9ICR0aGlzLT5wYXNzd29yZF9oYXNoKCR1c2VyX2luZm8tPnB3KTsKCQlpZiggISR0aGlzLT53cml0ZV9hZG1pbl91c2VyX2RhdGEoJHVzZXJfaW5mby0+aWQsICR1c2VyX2luZm8pICl7CgkJCXJldHVybiAob2JqZWN0KSBhcnJheSgKCQkJCSdyZXN1bHQnID0+IGZhbHNlLAoJCQkJJ21lc3NhZ2UnID0+ICfjg6bjg7zjgrbjg7zmg4XloLHjga7kv53lrZjjgavlpLHmlZfjgZfjgb7jgZfjgZ/jgIInLAoJCQkJJ2Vycm9ycycgPT4gKG9iamVjdCkgYXJyYXkoKSwKCQkJKTsKCQl9CgkJcmV0dXJuICRyZXN1bHQ7Cgl9CgoJLyoqCgkgKiDnrqHnkIbogIXjg6bjg7zjgrbjg7zjga7mg4XloLHjgpLlj5blvpfjgZnjgosKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga7miLvjgorlgKTjgavjga/jgIHjg5Hjgrnjg6/jg7zjg4njg4/jg4Pjgrfjg6XjgYzlkKvjgb7jgozjgb7jgZnjgIIKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBnZXRfYWRtaW5fdXNlcl9pbmZvKCR1c2VyX2lkKXsKCQlpZiggISR0aGlzLT52YWxpZGF0ZV9hZG1pbl91c2VyX2lkKCR1c2VyX2lkKSApewoJCQkvLyDkuI3mraPjgarlvaLlvI/jga5JRAoJCQlyZXR1cm4gbnVsbDsKCQl9CgoJCSR1c2VycyA9IChhcnJheSkgJHRoaXMtPnJlbmNvbi0+Y29uZigpLT51c2VyczsKCQlpZiggaXNfc3RyaW5nKCR1c2Vyc1skdXNlcl9pZF0gPz8gbnVsbCkgKXsKCQkJcmV0dXJuIChvYmplY3QpIGFycmF5KAoJCQkJIm5hbWUiID0+ICR1c2VyX2lkLAoJCQkJImlkIiA9PiAkdXNlcl9pZCwKCQkJCSJwdyIgPT4gJHVzZXJzWyR1c2VyX2lkXSwKCQkJCSJsYW5nIiA9PiBudWxsLAoJCQkJImVtYWlsIiA9PiBudWxsLAoJCQkJInJvbGUiID0+ICJhZG1pbiIsCgkJCSk7CgkJfWVsc2VpZiggaXNfYXJyYXkoJHVzZXJzWyR1c2VyX2lkXSA/PyBudWxsKSB8fCBpc19vYmplY3QoJHVzZXJzWyR1c2VyX2lkXSA/PyBudWxsKSApewoJCQlyZXR1cm4gKG9iamVjdCkgJHVzZXJzWyR1c2VyX2lkXTsKCQl9CgoJCSR1c2VyX2luZm8gPSBudWxsOwoJCWlmKCBzdHJsZW4oJHRoaXMtPnJlYWxwYXRoX2FkbWluX3VzZXJzID8/ICcnKSAmJiBpc19kaXIoJHRoaXMtPnJlYWxwYXRoX2FkbWluX3VzZXJzKSAmJiAkdGhpcy0+cmVuY29uLT5mcygpLT5scygkdGhpcy0+cmVhbHBhdGhfYWRtaW5fdXNlcnMpICl7CgkJCWlmKCAkdGhpcy0+YWRtaW5fdXNlcl9kYXRhX2V4aXN0cyggJHVzZXJfaWQgKSApewoJCQkJJHVzZXJfaW5mbyA9ICR0aGlzLT5yZWFkX2FkbWluX3VzZXJfZGF0YSggJHVzZXJfaWQgKTsKCQkJCWlmKCAhaXNzZXQoJHVzZXJfaW5mby0+aWQpIHx8ICR1c2VyX2luZm8tPmlkICE9ICR1c2VyX2lkICl7CgkJCQkJLy8gSUTlgKTjgYzkuI3kuIDoh7TjgaDjgaPjgZ/jgokKCQkJCQlyZXR1cm4gbnVsbDsKCQkJCX0KCQkJfQoJCX0KCQlyZXR1cm4gaXNfbnVsbCgkdXNlcl9pbmZvKSA/ICR1c2VyX2luZm8gOiAob2JqZWN0KSAkdXNlcl9pbmZvOwoJfQoKCS8qKgoJICogVmFsaWRhdGlvbjog44Om44O844K244O8SUQKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiB2YWxpZGF0ZV9hZG1pbl91c2VyX2lkKCAkdXNlcl9pZCApewoJCWlmKCAhaXNfc3RyaW5nKCR1c2VyX2lkKSB8fCAhc3RybGVuKCR1c2VyX2lkKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAhcHJlZ19tYXRjaCgnL15bYS16QS1aMC05XF9cLV0rJC8nLCAkdXNlcl9pZCkgKXsKCQkJLy8g5LiN5q2j44Gq5b2i5byPCgkJCXJldHVybiBmYWxzZTsKCQl9CgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkgKiBWYWxpZGF0aW9uOiDjg6bjg7zjgrbjg7zmg4XloLEKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiB2YWxpZGF0ZV9hZG1pbl91c2VyX2luZm8oICR1c2VyX2luZm8gKXsKCQkkcnRuID0gKG9iamVjdCkgYXJyYXkoCgkJCSdpc192YWxpZCcgPT4gdHJ1ZSwKCQkJJ21lc3NhZ2UnID0+IG51bGwsCgkJCSdlcnJvcnMnID0+IChvYmplY3QpIGFycmF5KCksCgkJKTsKCQkkdXNlcl9pbmZvID0gKG9iamVjdCkgJHVzZXJfaW5mbzsKCgkJaWYoICFzdHJsZW4oJHVzZXJfaW5mby0+aWQgPz8gJycpICl7CgkJCS8vIElE44GM5pyq5oyH5a6aCgkJCSRydG4tPmlzX3ZhbGlkID0gZmFsc2U7CgkJCSRydG4tPmVycm9ycy0+aWQgPSBhcnJheSgnVXNlciBJRCBpcyByZXF1aXJlZC4nKTsKCQl9ZWxzZWlmKCAhJHRoaXMtPnZhbGlkYXRlX2FkbWluX3VzZXJfaWQoJHVzZXJfaW5mby0+aWQpICl7CgkJCS8vIOS4jeato+OBquW9ouW8j+OBrklECgkJCSRydG4tPmlzX3ZhbGlkID0gZmFsc2U7CgkJCSRydG4tPmVycm9ycy0+aWQgPSBhcnJheSgnTWFsZm9ybWVkIFVzZXIgSUQuJyk7CgkJfQoJCWlmKCAhaXNzZXQoJHVzZXJfaW5mby0+bmFtZSkgfHwgIXN0cmxlbigkdXNlcl9pbmZvLT5uYW1lKSApewoJCQkkcnRuLT5pc192YWxpZCA9IGZhbHNlOwoJCQkkcnRuLT5lcnJvcnMtPm5hbWUgPSBhcnJheSgnVGhpcyBpcyByZXF1aXJlZC4nKTsKCQl9CgkJaWYoICFpc3NldCgkdXNlcl9pbmZvLT5wdykgfHwgIXN0cmxlbigkdXNlcl9pbmZvLT5wdykgKXsKCQkJJHJ0bi0+aXNfdmFsaWQgPSBmYWxzZTsKCQkJJHJ0bi0+ZXJyb3JzLT5wdyA9IGFycmF5KCdUaGlzIGlzIHJlcXVpcmVkLicpOwoJCX0KCQlpZiggaXNzZXQoJHVzZXJfaW5mby0+ZW1haWwpICYmIGlzX3N0cmluZygkdXNlcl9pbmZvLT5lbWFpbCkgJiYgc3RybGVuKCR1c2VyX2luZm8tPmVtYWlsKSApewoJCQlpZiggIXByZWdfbWF0Y2goJy9eW15AXC9cXFxcXStcQFteQFwvXFxcXF0rJC8nLCAkdXNlcl9pbmZvLT5lbWFpbCkgKXsKCQkJCSRydG4tPmlzX3ZhbGlkID0gZmFsc2U7CgkJCQkkcnRuLT5lcnJvcnMtPmVtYWlsID0gYXJyYXkoJ01hbGZvcm1lZCBFLW1haWwgYWRkcmVzcy4nKTsKCQkJfQoJCX0KCQlpZiggJHJ0bi0+aXNfdmFsaWQgKXsKCQkJJHJ0bi0+bWVzc2FnZSA9ICdPSyc7CgkJfWVsc2V7CgkJCSRydG4tPm1lc3NhZ2UgPSAnVGhlcmUgaXMgYSBwcm9ibGVtIHdpdGggdGhlIGlucHV0IGNvbnRlbnQuJzsKCQl9CgkJcmV0dXJuICRydG47Cgl9CgoJLyoqCgkgKiDnrqHnkIbjg6bjg7zjgrbjg7zjg4fjg7zjgr/jg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZnjgovjgYvnorroqo3jgZnjgosKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBhZG1pbl91c2VyX2RhdGFfZXhpc3RzKCAkdXNlcl9pZCApewoJCSRyZWFscGF0aF9qc29uID0gJHRoaXMtPnJlYWxwYXRoX2FkbWluX3VzZXJzLnVybGVuY29kZSgkdXNlcl9pZCkuJy5qc29uJzsKCQkkcmVhbHBhdGhfanNvbl9waHAgPSAkcmVhbHBhdGhfanNvbi4nLnBocCc7CgkJaWYoIGlzX2ZpbGUoICRyZWFscGF0aF9qc29uICkgfHwgaXNfZmlsZSgkcmVhbHBhdGhfanNvbl9waHApICl7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgoJLyoqCgkgKiDjg5Hjgrnjg6/jg7zjg4njgpLjg4/jg4Pjgrfjg6XljJbjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHBhc3N3b3JkX2hhc2goJHBhc3N3b3JkKXsKCQlpZiggIWlzX3N0cmluZygkcGFzc3dvcmQpICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJcmV0dXJuIHBhc3N3b3JkX2hhc2goJHBhc3N3b3JkLCBQQVNTV09SRF9CQ1JZUFQpOwoJfQoKCS8qKgoJICog566h55CG44Om44O844K244O844OH44O844K/44OV44Kh44Kk44Or44Gu5pu444GN6L6844G/CgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gd3JpdGVfYWRtaW5fdXNlcl9kYXRhKCAkdXNlcl9pZCwgJGRhdGEgKXsKCQkkcmVhbHBhdGhfanNvbiA9ICR0aGlzLT5yZWFscGF0aF9hZG1pbl91c2Vycy51cmxlbmNvZGUoJHVzZXJfaWQpLicuanNvbic7CgkJJHJlYWxwYXRoX2pzb25fcGhwID0gJHJlYWxwYXRoX2pzb24uJy5waHAnOwoJCSRyZXN1bHQgPSBkYXRhRG90UGhwOjp3cml0ZV9qc29uKCRyZWFscGF0aF9qc29uX3BocCwgJGRhdGEpOwoJCWlmKCAhJHJlc3VsdCApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCSR0aGlzLT5yZW5jb24tPmZzKCktPmNobW9kX3IoJHRoaXMtPnJlYWxwYXRoX2FkbWluX3VzZXJzLCAwNzAwLCAwNzAwKTsKCgkJaWYoIGlzX2ZpbGUoJHJlYWxwYXRoX2pzb24pICl7CgkJCXVubGluaygkcmVhbHBhdGhfanNvbik7IC8vIOe0oOOBrkpTT07jgYzjgYLjgaPjgZ/jgonliYrpmaTjgZnjgosKCQl9CgkJcmV0dXJuICRyZXN1bHQ7Cgl9CgoKCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyDnrqHnkIbjg6bjg7zjgrbjg7zjg4fjg7zjgr/jg5XjgqHjgqTjg6vjga7oqq3jgb/mm7jjgY0KCgkvKioKCSAqIOeuoeeQhuODpuODvOOCtuODvOODh+ODvOOCv+ODleOCoeOCpOODq+OBruiqreOBv+i+vOOBvwoJICovCglwcml2YXRlIGZ1bmN0aW9uIHJlYWRfYWRtaW5fdXNlcl9kYXRhKCAkdXNlcl9pZCApewoJCSRyZWFscGF0aF9qc29uID0gJHRoaXMtPnJlYWxwYXRoX2FkbWluX3VzZXJzLnVybGVuY29kZSgkdXNlcl9pZCkuJy5qc29uJzsKCQkkcmVhbHBhdGhfanNvbl9waHAgPSAkcmVhbHBhdGhfanNvbi4nLnBocCc7CgkJaWYoIGlzX2ZpbGUoJHJlYWxwYXRoX2pzb25fcGhwKSApewoJCQkkZGF0YSA9IGRhdGFEb3RQaHA6OnJlYWRfanNvbigkcmVhbHBhdGhfanNvbl9waHApOwoJCQlyZXR1cm4gJGRhdGE7CgkJfQoJCWlmKCBpc19maWxlKCRyZWFscGF0aF9qc29uKSApewoJCQkkZGF0YSA9IGpzb25fZGVjb2RlKGZpbGVfZ2V0X2NvbnRlbnRzKCRyZWFscGF0aF9qc29uKSk7CgkJCXJldHVybiAkZGF0YTsKCQl9CgkJcmV0dXJuIGZhbHNlOwoJfQoKCgkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJLy8gQ1NSRuODiOODvOOCr+ODswoKCS8qKgoJICogQ1NSRuODiOODvOOCr+ODs+OCkuWPluW+l+OBmeOCiwoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2NzcmZfdG9rZW4oKXsKCQkkQ1NSRl9UT0tFTiA9ICR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfc2Vzc2lvbignQ1NSRl9UT0tFTicpOwoJCWlmKCAhaXNfYXJyYXkoJENTUkZfVE9LRU4pICl7CgkJCSRDU1JGX1RPS0VOID0gYXJyYXkoKTsKCQl9CgkJaWYoICFjb3VudCgkQ1NSRl9UT0tFTikgKXsKCQkJcmV0dXJuICR0aGlzLT5jcmVhdGVfY3NyZl90b2tlbigpOwoJCX0KCQlmb3JlYWNoKCAkQ1NSRl9UT0tFTiBhcyAkdG9rZW4gKXsKCQkJaWYoICR0b2tlblsnY3JlYXRlZF9hdCddIDwgdGltZSgpIC0gKCR0aGlzLT5jc3JmX3Rva2VuX2V4cGlyZSAvIDIpICl7CgkJCQljb250aW51ZTsgLy8g5pyJ5Yq55pyf6ZmQ44GM5YiH44KM44Gm44GE44Gf44KJ6KmV5L6h44Gn44GN44Gq44GECgkJCX0KCQkJcmV0dXJuICR0b2tlblsnaGFzaCddOwoJCX0KCQlyZXR1cm4gJHRoaXMtPmNyZWF0ZV9jc3JmX3Rva2VuKCk7Cgl9CgoJLyoqCgkgKiDmlrDjgZfjgYRDU1JG44OI44O844Kv44Oz44KS55m66KGM44GZ44KLCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gY3JlYXRlX2NzcmZfdG9rZW4oKXsKCQkkQ1NSRl9UT0tFTiA9ICR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfc2Vzc2lvbignQ1NSRl9UT0tFTicpOwoJCWlmKCAhaXNfYXJyYXkoJENTUkZfVE9LRU4pICl7CgkJCSRDU1JGX1RPS0VOID0gYXJyYXkoKTsKCQl9CgoJCSRpZCA9ICR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfcGFyYW0oJ0FETUlOX1VTRVJfSUQnKTsKCQkkcmFuZCA9IHVuaXFpZCgnY2xvdmVyJy4kaWQsIHRydWUpOwoJCSRoYXNoID0gbWQ1KCAkcmFuZCApOwoJCWFycmF5X3B1c2goJENTUkZfVE9LRU4sIGFycmF5KAoJCQknaGFzaCcgPT4gJGhhc2gsCgkJCSdjcmVhdGVkX2F0JyA9PiB0aW1lKCksCgkJKSk7CgkJJHRoaXMtPnJlbmNvbi0+cmVxKCktPnNldF9zZXNzaW9uKCdDU1JGX1RPS0VOJywgJENTUkZfVE9LRU4pOwoJCXJldHVybiAkaGFzaDsKCX0KCgkvKioKCSAqIENTUkbjg4jjg7zjgq/jg7Pjga7mpJzoqLzjgpLooYzjgo/jgarjgYTmnaHku7bjgpLoqr/mn7sKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBpc19jc3JmX3Rva2VuX3JlcXVpcmVkKCl7CgkJaWYoICRfU0VSVkVSWydSRVFVRVNUX01FVEhPRCddID09ICdHRVQnICl7CgkJCS8vIFBY44Kz44Oe44Oz44OJ44Gq44GX44GuR0VU44Gu44Oq44Kv44Ko44K544OI44Gn44Gv44CBQ1NSRuODiOODvOOCr+ODs+OCkuimgeaxguOBl+OBquOBhAoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCXJldHVybiB0cnVlOwoJfQoKCS8qKgoJICog5pyJ5Yq544GqQ1NSRuODiOODvOOCr+ODs+OCkuWPl+S/oeOBl+OBn+OBiwoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNfdmFsaWRfY3NyZl90b2tlbl9naXZlbigpewoKCQkkY3NyZl90b2tlbiA9ICR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfcGFyYW0oJ0NTUkZfVE9LRU4nKTsKCQlpZiggISRjc3JmX3Rva2VuICl7CgkJCSRoZWFkZXJzID0gZ2V0YWxsaGVhZGVycygpOwoJCQlmb3JlYWNoKCRoZWFkZXJzIGFzICRoZWFkZXJfbmFtZT0+JGhlYWRlcl92YWwpewoJCQkJaWYoIHN0cnRvbG93ZXIoJGhlYWRlcl9uYW1lKSA9PSAneC1weDItY2xvdmVyLWFkbWluLWNzcmYtdG9rZW4nICl7CgkJCQkJJGNzcmZfdG9rZW4gPSAkaGVhZGVyX3ZhbDsKCQkJCQlicmVhazsKCQkJCX0KCQkJfQoJCX0KCQlpZiggISRjc3JmX3Rva2VuICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCSRDU1JGX1RPS0VOID0gJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9zZXNzaW9uKCdDU1JGX1RPS0VOJyk7CgkJaWYoICFpc19hcnJheSgkQ1NSRl9UT0tFTikgKXsKCQkJJENTUkZfVE9LRU4gPSBhcnJheSgpOwoJCX0KCQlmb3JlYWNoKCAkQ1NSRl9UT0tFTiBhcyAkdG9rZW4gKXsKCQkJaWYoICR0b2tlblsnY3JlYXRlZF9hdCddIDwgdGltZSgpIC0gJHRoaXMtPmNzcmZfdG9rZW5fZXhwaXJlICl7CgkJCQljb250aW51ZTsgLy8g5pyJ5Yq55pyf6ZmQ44GM5YiH44KM44Gm44GE44Gf44KJ6KmV5L6h44Gn44GN44Gq44GECgkJCX0KCQkJaWYoICR0b2tlblsnaGFzaCddID09ICRjc3JmX3Rva2VuICl7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoJCX0KCgkJcmV0dXJuIGZhbHNlOwoJfQp9Cj8+',
           "user" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiB1c2VyIGNsYXNzCiAqCiAqIEBhdXRob3IgVG9tb3lhIEtveWFuYWdpIDx0b21rNzlAZ21haWwuY29tPgogKi8KY2xhc3MgdXNlciB7Cglwcml2YXRlICRyZW5jb247CgoJLyoqCgkgKiBDb25zdHJ1Y3RvcgoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoICRyZW5jb24gKXsKCQkkdGhpcy0+cmVuY29uID0gJHJlbmNvbjsKCX0KCgkvKioKCSAqIOODreOCsOOCpOODs+OBl+OBpuOBhOOCi+OBiwoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNfbG9naW4oKXsKCQkkbG9naW5faWQgPSAkdGhpcy0+Z2V0X3VzZXJfaWQoKTsKCQlyZXR1cm4gISFzdHJsZW4oJGxvZ2luX2lkID8/ICcnKTsKCX0KCgkvKioKCSAqIOODpuODvOOCtuODvElE44KS5Y+W5b6XCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfdXNlcl9pZCgpewoJCSRsb2dpbl9pZCA9ICR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfc2Vzc2lvbigkdGhpcy0+cmVuY29uLT5hcHBfaWQoKS4nX3Nlc19sb2dpbl9pZCcpOwoJCXJldHVybiAkbG9naW5faWQ7Cgl9Cgp9Cj8+',
           "initializer" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiBpbml0aWFsaXplcgogKi8KY2xhc3MgaW5pdGlhbGl6ZXIgewoKCS8qKiByZW5jb27jgqrjg5bjgrjjgqfjgq/jg4ggKi8KCXByaXZhdGUgJHJlbmNvbjsKCgkvKiog566h55CG44OH44O844K/5a6a576p44OH44Kj44Os44Kv44OI44OqICovCglwcml2YXRlICRyZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyOwoKCS8qKgoJICogQ29uc3RydWN0b3IKCSAqCgkgKiBAcGFyYW0gb2JqZWN0ICRyZW5jb24gJHJlbmNvbuOCquODluOCuOOCp+OCr+ODiAoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoICRyZW5jb24gKXsKCQkkdGhpcy0+cmVuY29uID0gJHJlbmNvbjsKCQkkdGhpcy0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpciA9ICRyZW5jb24tPmNvbmYoKS0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpcjsKCX0KCgoJLyoqCgkgKiDliJ3mnJ/ljJbjg5fjg63jgrvjgrkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGluaXRpYWxpemUoKXsKCQlpZiggaXNfc3RyaW5nKCR0aGlzLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyKSAmJiBzdHJsZW4oJHRoaXMtPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIpICl7CgkJCWlmKCAhaXNfZGlyKCR0aGlzLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyKSApewoJCQkJJHRoaXMtPnJlbmNvbi0+ZnMoKS0+bWtkaXJfcigkdGhpcy0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2Rpcik7CgkJCX0KCgkJCWlmKCAhaXNfZmlsZSgkdGhpcy0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2Rpci4nLmh0YWNjZXNzJykgKXsKCQkJCW9iX3N0YXJ0KCk7ID8+ClJld3JpdGVFbmdpbmUgb2ZmCkRlbnkgZnJvbSBhbGwKPD9waHAKCQkJCSRzcmNfaHRhY2Nlc3MgPSBvYl9nZXRfY2xlYW4oKTsKCQkJCSR0aGlzLT5yZW5jb24tPmZzKCktPnNhdmVfZmlsZSggJHRoaXMtPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIuJy5odGFjY2VzcycsICRzcmNfaHRhY2Nlc3MgKTsKCQkJfQoKCQkJLy8g566h55CG44Om44O844K244O844OH44O844K/CgkJCWlmKCAhaXNfZGlyKCR0aGlzLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyLidhZG1pbl91c2Vycy8nKSApewoJCQkJJHRoaXMtPnJlbmNvbi0+ZnMoKS0+bWtkaXJfcigkdGhpcy0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2Rpci4nYWRtaW5fdXNlcnMvJyk7CgkJCX0KCQkJaWYoICFpc19kaXIoJHRoaXMtPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIuJ2FkbWluX3VzZXJzLycpIHx8ICFjb3VudCggJHRoaXMtPnJlbmNvbi0+ZnMoKS0+bHMoJHRoaXMtPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIuJ2FkbWluX3VzZXJzLycpICkgKXsKCQkJCSR0aGlzLT5pbml0aWFsaXplX2FkbWluX3VzZXJfcGFnZSgpOwoJCQkJZXhpdDsKCQkJfQoJCX0KCX0KCgkvKioKCSAqIOeuoeeQhuODpuODvOOCtuODvOODh+ODvOOCv+OCkuWIneacn+WMluOBmeOCi+eUu+mdogoJICovCglwcml2YXRlIGZ1bmN0aW9uIGluaXRpYWxpemVfYWRtaW5fdXNlcl9wYWdlKCl7CgkJJHJlc3VsdCA9IChvYmplY3QpIGFycmF5KAoJCQkicmVzdWx0IiA9PiBudWxsLAoJCQkibWVzc2FnZSIgPT4gbnVsbCwKCQkJImVycm9ycyIgPT4gKG9iamVjdCkgYXJyYXkoKSwKCQkpOwoJCWlmKCAkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X21ldGhvZCgpID09ICdwb3N0JyApewoJCQkkdXNlcl9pbmZvID0gYXJyYXkoCgkJCQknbmFtZScgPT4gJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9wYXJhbSgnQURNSU5fVVNFUl9OQU1FJyksCgkJCQknaWQnID0+ICR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfcGFyYW0oJ0FETUlOX1VTRVJfSUQnKSwKCQkJCSdwdycgPT4gJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9wYXJhbSgnQURNSU5fVVNFUl9QVycpLAoJCQkJJ2xhbmcnID0+ICR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfcGFyYW0oJ0FETUlOX1VTRVJfTEFORycpLAoJCQkJJ2VtYWlsJyA9PiAkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X3BhcmFtKCdhZG1pbl91c2VyX2VtYWlsJyksCgkJCQkncm9sZScgPT4gJ2FkbWluJywKCQkJKTsKCQkJJHJlc3VsdCA9ICR0aGlzLT5yZW5jb24tPmF1dGgoKS0+Y3JlYXRlX2FkbWluX3VzZXIoICR1c2VyX2luZm8gKTsKCQkJaWYoICRyZXN1bHQtPnJlc3VsdCApewoJCQkJaGVhZGVyKCdMb2NhdGlvbjonLic/YT0nKTsKCQkJCWV4aXQ7CgkJCX0KCQl9CgoJCWhlYWRlcignQ29udGVudC10eXBlOiB0ZXh0L2h0bWwnKTsKCQlvYl9zdGFydCgpOwoJCT8+CjwhZG9jdHlwZSBodG1sPgo8aHRtbD4KCTxoZWFkPgoJCTxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPgoJCTx0aXRsZT48Pz0gaHRtbHNwZWNpYWxjaGFycyggJHRoaXMtPmFwcF9pbmZvLT5uYW1lID8/ICcnICkgPz48L3RpdGxlPgogICAgICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSIgLz4KCQk8bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQ9Im5vZm9sbG93LCBub2luZGV4LCBub2FyY2hpdmUiIC8+CgkJPD89ICR0aGlzLT5ta19jc3MoKSA/PgoJPC9oZWFkPgoJPGJvZHk+CgkJPGRpdiBjbGFzcz0idGhlbWUtY29udGFpbmVyIj4KCQkJPGgxPjw/PSBodG1sc3BlY2lhbGNoYXJzKCAkdGhpcy0+YXBwX2luZm8tPm5hbWUgPz8gJycgKSA/PjwvaDE+CgkJCTw/cGhwIGlmKCBzdHJsZW4oJHJlc3VsdC0+bWVzc2FnZSA/PyAnJykgKXsgPz4KCQkJCTxkaXYgY2xhc3M9ImFsZXJ0IGFsZXJ0LWRhbmdlciIgcm9sZT0iYWxlcnQiPgoJCQkJCTxkaXY+PD89IGh0bWxzcGVjaWFsY2hhcnMoJHJlc3VsdC0+bWVzc2FnZSkgPz48L2Rpdj4KCQkJCTwvZGl2PgoJCQk8P3BocCB9ID8+CgoJCQk8Zm9ybSBhY3Rpb249Ij8iIG1ldGhvZD0icG9zdCI+Cjx0YWJsZT4KCTx0cj4KCQk8dGg+TmFtZTo8L3RoPgoJCTx0ZD48aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iQURNSU5fVVNFUl9OQU1FIiB2YWx1ZT0iPD89IGh0bWxzcGVjaWFsY2hhcnMoJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9wYXJhbSgnQURNSU5fVVNFUl9OQU1FJykgPz8gJycpID8+IiAvPgoJCQk8P3BocCBpZiggc3RybGVuKCAkcmVzdWx0LT5lcnJvcnMtPm5hbWVbMF0gPz8gJycgKSApeyA/PgoJCQk8cD48Pz0gaHRtbHNwZWNpYWxjaGFycyggJHJlc3VsdC0+ZXJyb3JzLT5uYW1lWzBdID8/ICcnICkgPz48L3A+CgkJCTw/cGhwIH0gPz4KCQk8L3RkPgoJPC90cj4KCTx0cj4KCQk8dGg+SUQ6PC90aD4KCQk8dGQ+PGlucHV0IHR5cGU9InRleHQiIG5hbWU9IkFETUlOX1VTRVJfSUQiIHZhbHVlPSI8Pz0gaHRtbHNwZWNpYWxjaGFycygkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X3BhcmFtKCdBRE1JTl9VU0VSX0lEJykgPz8gJycpID8+IiAvPgoJCQk8P3BocCBpZiggc3RybGVuKCAkcmVzdWx0LT5lcnJvcnMtPmlkWzBdID8/ICcnICkgKXsgPz4KCQkJPHA+PD89IGh0bWxzcGVjaWFsY2hhcnMoICRyZXN1bHQtPmVycm9ycy0+aWRbMF0gPz8gJycgKSA/PjwvcD4KCQkJPD9waHAgfSA/PgoJCTwvdGQ+Cgk8L3RyPgoJPHRyPgoJCTx0aD5QYXNzd29yZDo8L3RoPgoJCTx0ZD48aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9IkFETUlOX1VTRVJfUFciIHZhbHVlPSIiIC8+CgkJCTw/cGhwIGlmKCBzdHJsZW4oICRyZXN1bHQtPmVycm9ycy0+cHdbMF0gPz8gJycgKSApeyA/PgoJCQk8cD48Pz0gaHRtbHNwZWNpYWxjaGFycyggJHJlc3VsdC0+ZXJyb3JzLT5wd1swXSA/PyAnJyApID8+PC9wPgoJCQk8P3BocCB9ID8+CgkJPC90ZD4KCTwvdHI+CjwvdGFibGU+CjxwPjxidXR0b24gdHlwZT0ic3VibWl0Ij5DcmVhdGUgVXNlcjwvYnV0dG9uPjwvcD4KPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iYSIgdmFsdWU9Ijw/PSBodG1sc3BlY2lhbGNoYXJzKCR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfcGFyYW0oJ2EnKSA/PyAnJykgPz4iIC8+CgkJCTwvZm9ybT4KCQk8L2Rpdj4KCTwvYm9keT4KPC9odG1sPgo8P3BocAoJCSRydG4gPSBvYl9nZXRfY2xlYW4oKTsKCQlwcmludCAkcnRuOwoJCWV4aXQ7Cgl9CgoJLyoqCgkgKiBDU1PjgpLnlJ/miJAKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBta19jc3MoKXsKCQlvYl9zdGFydCgpOz8+CgkJPHN0eWxlPgoJCQlodG1sLCBib2R5IHsKCQkJCWJhY2tncm91bmQtY29sb3I6ICNlN2U3ZTc7CgkJCQljb2xvcjogIzMzMzsKCQkJCWZvbnQtc2l6ZTogMTZweDsKCQkJCW1hcmdpbjogMDsKCQkJCXBhZGRpbmc6IDA7CgkJCX0KCQkJYm9keSxpbnB1dCx0ZXh0YXJlYSxzZWxlY3Qsb3B0aW9uLGJ1dHRvbnsKCQkJCWZvbnQtZmFtaWx5OiAiSGVsdmV0aWNhIE5ldWUiLCBBcmlhbCwgIkhpcmFnaW5vIEtha3UgR290aGljIFByb04iLCAiSGlyYWdpbm8gU2FucyIsIE1laXJ5bywgc2Fucy1zZXJpZiwgc3lzdGVtLXVpOwoJCQl9CgkJCS50aGVtZS1jb250YWluZXIgewoJCQkJYm94LXNpemluZzogYm9yZGVyLWJveDsKCQkJCXRleHQtYWxpZ246IGNlbnRlcjsKCQkJCXBhZGRpbmc6IDRlbSAyMHB4OwoJCQkJbWFyZ2luOiAzMHB4IGF1dG87CgkJCQl3aWR0aDogY2FsYygxMDAlIC0gMjBweCk7CgkJCQltYXgtd2lkdGg6IDYwMHB4OwoJCQkJYmFja2dyb3VuZC1jb2xvcjogI2Y2ZjZmNjsKCQkJCWJvcmRlcjogMXB4IHNvbGlkICNiYmI7CgkJCQlib3JkZXItcmFkaXVzOiA1cHg7CgkJCQlib3gtc2hhZG93OiAwIDJweCAxMnB4IHJnYmEoMCwwLDAsMC4xKTsKCQkJfQoJCQloMSB7CgkJCQlmb250LXNpemU6IDIycHg7CgkJCX0KCQkJdGFibGV7CgkJCQltYXJnaW46IDAgYXV0bzsKCQkJCW1heC13aWR0aDogMTAwJTsKCQkJfQoJCQl0aCB7CgkJCQl0ZXh0LWFsaWduOiByaWdodDsKCQkJCXBhZGRpbmc6IDNweDsKCQkJfQoJCQl0ZCB7CgkJCQl0ZXh0LWFsaWduOiBsZWZ0OwoJCQkJcGFkZGluZzogM3B4OwoJCQl9CgkJCWlucHV0W3R5cGU9dGV4dF0sCgkJCWlucHV0W3R5cGU9cGFzc3dvcmRdewoJCQkJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJCQkJYm94LXNpemluZzogYm9yZGVyLWJveDsKCQkJCXdpZHRoOiAxNjBweDsKCQkJCW1pbi13aWR0aDogNTBweDsKCQkJCW1heC13aWR0aDogMTAwJTsKCQkJCXBhZGRpbmc6IC4zNzVyZW0gLjc1cmVtOwoJCQkJZm9udC1zaXplOiAxZW07CgkJCQlmb250LXdlaWdodDogbm9ybWFsOwoJCQkJbGluZS1oZWlnaHQ6IDEuNTsKCQkJCWNvbG9yOiAjMzMzOwoJCQkJYmFja2dyb3VuZC1jb2xvcjogI2Y2ZjZmNjsKCQkJCWJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3g7CgkJCQlib3JkZXI6IDFweCBzb2xpZCAjY2VkNGRhOwoJCQkJYm9yZGVyLXJhZGl1czogLjI1cmVtOwoJCQkJdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIC4xNXMgZWFzZS1pbi1vdXQsYm94LXNoYWRvdyAuMTVzIGVhc2UtaW4tb3V0OwoJCQl9CgkJCWlucHV0W3R5cGU9dGV4dF06Zm9jdXMsCgkJCWlucHV0W3R5cGU9cGFzc3dvcmRdOmZvY3VzewoJCQkJY29sb3I6ICMzMzM7CgkJCQliYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwoJCQkJYm9yZGVyLWNvbG9yOiAjODBiZGZmOwoJCQkJb3V0bGluZTogMDsKCQkJCWJveC1zaGFkb3c6IDAgMCAwIC4ycmVtIHJnYmEoMCwxMjMsMjU1LC4yNSk7CgkJCX0KCgkJCWJ1dHRvbiB7CgkJCQlkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CgkJCQlib3JkZXItcmFkaXVzOiAzcHg7CgkJCQliYWNrZ3JvdW5kLWNvbG9yOiAjZjVmYmZlOwoJCQkJY29sb3I6ICMwMGEwZTY7CgkJCQlib3JkZXI6IDFweCBzb2xpZCAjMDBhMGU2OwoJCQkJYm94LXNoYWRvdzogMCAycHggMHB4IHJnYmEoMCwwLDAsMC4xKTsKCQkJCXBhZGRpbmc6IDAuNWVtIDJlbTsKCQkJCWZvbnQtc2l6ZToxZW07CgkJCQlmb250LXdlaWdodDogbm9ybWFsOwoJCQkJbGluZS1oZWlnaHQ6IDE7CgkJCQl0ZXh0LWRlY29yYXRpb246IG5vbmU7CgkJCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJCQljdXJzb3I6IHBvaW50ZXI7CgkJCQlib3gtc2l6aW5nOiBib3JkZXItYm94OwoJCQkJYWxpZ24taXRlbXM6IHN0cmV0Y2g7CgkJCQl0cmFuc2l0aW9uOgoJCQkJCWNvbG9yIDAuMXMsCgkJCQkJYmFja2dyb3VuZC1jb2xvciAwLjFzLAoJCQkJCXRyYW5zZm9ybSAwLjFzCgkJCQk7CgkJCX0KCQkJYnV0dG9uOmZvY3VzLAoJCQlidXR0b246aG92ZXJ7CgkJCQliYWNrZ3JvdW5kLWNvbG9yOiAjZDlmMWZiOwoJCQl9CgkJCWJ1dHRvbjpob3ZlcnsKCQkJCWJhY2tncm91bmQtY29sb3I6ICNjY2VjZmE7CgkJCX0KCQkJYnV0dG9uOmFjdGl2ZXsKCQkJCWJhY2tncm91bmQtY29sb3I6ICMwMGEwZTY7CgkJCQljb2xvcjogI2ZmZjsKCQkJfQoKCQk8L3N0eWxlPgoKCQk8P3BocAoJCSRzcmMgPSBvYl9nZXRfY2xlYW4oKTsKCQlyZXR1cm4gJHNyYzsKCX0KCn0KPz4=',
           "resources" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiByZXNvdXJjZU1nciBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIHJlc291cmNlc3sKCXByaXZhdGUgJG1haW47CgoJLyoqCgkgKiBDb25zdHJ1Y3RvcgoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoICRtYWluICl7CgkJJHRoaXMtPm1haW4gPSAkbWFpbjsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZWNob19yZXNvdXJjZSggJHBhdGggKXsKCQkkZXh0ID0gbnVsbDsKCQlpZiggcHJlZ19tYXRjaCgnL1wuKFthLXpBLVowLTlcX1wtXSopJC8nLCAkcGF0aCwgJG1hdGNoZWQpICl7CgkJCSRleHQgPSAkbWF0Y2hlZFsxXTsKCQkJJGV4dCA9IHN0cnRvbG93ZXIoJGV4dCk7CgkJCSRtaW1lID0gJHRoaXMtPmdldF9taW1lX3R5cGUoJGV4dCk7CgkJCWlmKCAhJG1pbWUgKXsgJG1pbWUgPSAndGV4dC9odG1sJzsgfQoJCQloZWFkZXIoJ0NvbnRlbnQtdHlwZTogJy4kbWltZSk7CgkJfQoJCWVjaG8gJHRoaXMtPmdldCgkcGF0aCk7CgkJZXhpdDsKCX0KCgkvKioKCSAqIOODquOCveODvOOCueOCkuWPluW+lwoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0KCAkcGF0aCApewoJCSRwYXRoID0gcHJlZ19yZXBsYWNlKCAnLyQoPzpcLyp8XC5cLj9cLykqLycsICcnLCAkcGF0aCApOwoKCQkkcmVzb3VyY2VzID0gYXJyYXkoCgovKiBmdW5jdGlvbiByZXNvdXJjZSgpICovCgoJCSk7CgoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cygkcGF0aCwgJHJlc291cmNlcykgKXsgcmV0dXJuIGZhbHNlOyB9CgkJcmV0dXJuIGJhc2U2NF9kZWNvZGUoJHJlc291cmNlc1skcGF0aF0pOwoJfQoKCS8qKgoJICog5ouh5by15a2Q44GL44KJIG1pbWUtdHlwZSDjgpLlvpfjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9taW1lX3R5cGUoJGV4dCl7CgkJc3dpdGNoKCAkZXh0ICl7CgkJCWNhc2UgJ2h0bWwnOgoJCQljYXNlICdodG0nOgoJCQkJcmV0dXJuICd0ZXh0L2h0bWwnOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ2pzJzoKCQkJCXJldHVybiAndGV4dC9qYXZhc2NyaXB0JzsKCQkJCWJyZWFrOwoJCQljYXNlICdjc3MnOgoJCQljYXNlICdzY3NzJzoKCQkJCXJldHVybiAndGV4dC9jc3MnOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ2dpZic6CgkJCQlyZXR1cm4gJ2ltYWdlL2dpZic7CgkJCQlicmVhazsKCQkJY2FzZSAncG5nJzoKCQkJCXJldHVybiAnaW1hZ2UvcG5nJzsKCQkJCWJyZWFrOwoJCQljYXNlICdqcGcnOgoJCQljYXNlICdqcGVnJzoKCQkJY2FzZSAnanBlJzoKCQkJCXJldHVybiAnaW1hZ2UvanBlZyc7CgkJCQlicmVhazsKCQkJY2FzZSAnc3ZnJzoKCQkJCXJldHVybiAnaW1hZ2Uvc3ZnK3htbCAnOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ3RleHQnOgoJCQljYXNlICd0eHQnOgoJCQljYXNlICdsb2cnOgoJCQljYXNlICdzaCc6CgkJCWNhc2UgJ2JhdCc6CgkJCWNhc2UgJ3BocCc6CgkJCWNhc2UgJ2pzb24nOgoJCQljYXNlICd5bWwnOgoJCQljYXNlICd5bWwnOgoJCQljYXNlICdodGFjY2Vzcyc6CgkJCQlyZXR1cm4gJ3RleHQvcGxhaW4nOwoJCQkJYnJlYWs7CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCn0KPz4=',
           "theme" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiB0aGVtZSBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIHRoZW1lewoJcHJpdmF0ZSAkcmVuY29uOwoJcHJpdmF0ZSAkYXBwX2luZm87Cglwcml2YXRlICRjdXJyZW50X3BhZ2VfaW5mbzsKCgkvKioKCSAqIENvbnN0cnVjdG9yCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCggJHJlbmNvbiwgJGFwcF9pbmZvLCAkY3VycmVudF9wYWdlX2luZm8gPSBhcnJheSgpICl7CgkJJHRoaXMtPnJlbmNvbiA9ICRyZW5jb247CgkJJHRoaXMtPmFwcF9pbmZvID0gKG9iamVjdCkgJGFwcF9pbmZvOwoJCSR0aGlzLT5jdXJyZW50X3BhZ2VfaW5mbyA9IChvYmplY3QpICRjdXJyZW50X3BhZ2VfaW5mbzsKCX0KCgkvKioKCSAqIOODmuODvOOCuOaDheWgsQoJICovCglwdWJsaWMgZnVuY3Rpb24gc2V0X2N1cnJlbnRfcGFnZV9pbmZvKCAkcGFnZV9pbmZvICl7CgkJJHRoaXMtPmN1cnJlbnRfcGFnZV9pbmZvID0gKG9iamVjdCkgYXJyYXlfbWVyZ2UoKGFycmF5KSAkdGhpcy0+Y3VycmVudF9wYWdlX2luZm8sIChhcnJheSkgJHBhZ2VfaW5mbyk7CgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkgKiDjgqLjg5fjg6rjgrHjg7zjgrfjg6fjg7Pmg4XloLHjgpLlj5blvpcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGFwcF9pbmZvKCl7CgkJcmV0dXJuICR0aGlzLT5hcHBfaW5mbzsKCX0KCgkvKioKCSAqIOODmuODvOOCuOaDheWgseOCkuWPluW+lwoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2N1cnJlbnRfcGFnZV9pbmZvKCl7CgkJcmV0dXJuICR0aGlzLT5jdXJyZW50X3BhZ2VfaW5mbzsKCX0KCgkvKioKCSAqIOODhuODvOODnuOBq+OCs+ODs+ODhuODs+ODhOOCkuWMheOCk+OBp+i/lOOBmQoJICovCglwdWJsaWMgZnVuY3Rpb24gYmluZCggJGNvbnRlbnQgKXsKCQkkYWN0aW9uX2FyeSA9IGV4cGxvZGUoJy4nLCAkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X3BhcmFtKCdhJykgPz8gJycpOwoJCWlmKCAhaXNfYXJyYXkoJGFjdGlvbl9hcnkpIHx8ICFjb3VudCgkYWN0aW9uX2FyeSkgKXsKCQkJJGFjdGlvbl9hcnlbMF0gPSAnJzsKCQl9CgkJJGNsYXNzX2FjdGl2ZVsnYWN0aXZlJ10gPSAkYWN0aW9uX2FyeVswXTsKCQkkcmVuY29uID0gJHRoaXMtPnJlbmNvbjsKCgkJb2Jfc3RhcnQoKTsKCQk/Pi8qIHRoZW1lIHRlbXBsYXRlICovPD9waHAKCQkkcnRuID0gb2JfZ2V0X2NsZWFuKCk7CgoJCXJldHVybiAkcnRuOwoJfQp9Cj8+',
       );
       return base64_decode($files[$className]);
   }
}
