<?php
namespace tomk79\renconBuilder;

class framework_files {
   public function get( $className ) {
       $files = array(
           "rencon" => 'PD9waHAKLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIDwhLS0gYXBwX25hbWUgLS0+IHY8IS0tIHZlcnNpb24gLS0+CgotLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KCm5hbWVzcGFjZSByZW5jb25GcmFtZXdvcms7CgovLyA9LT0tPS09LT0tPS09LT0tPS09LT0tPSBDb25maWd1cmF0aW9uIFNUQVJUID0tPS09LT0tPS09LT0tPS09LT0tPS09CgovKi0tIGNvbmZpZyAtLSovCgovLyA9LT0tPS09LT0tPS09LT0tPS09LT0tPSAvIENvbmZpZ3VyYXRpb24gRU5EID0tPS09LT0tPS09LT0tPS09LT0tPS09CgoKJHJlbmNvbiA9IG5ldyByZW5jb24oICRjb25mICk7CiRyZW5jb24tPnJ1bigpOwoKY2xhc3MgcmVuY29uIHsKCglwcml2YXRlICRjb25mOwoJcHJpdmF0ZSAkZnM7Cglwcml2YXRlICRyZXE7Cglwcml2YXRlICR1c2VyOwoJcHJpdmF0ZSAkdGhlbWU7Cglwcml2YXRlICRyZXNvdXJjZXM7CgoJcHJpdmF0ZSAkYXBwX2lkID0gJzwhLS0gYXBwX2lkIC0tPic7Cglwcml2YXRlICRhcHBfbmFtZSA9ICc8IS0tIGFwcF9uYW1lIC0tPic7CgoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCAkY29uZiApewoJCSR0aGlzLT5jb25mID0gbmV3IGNvbmYoICRjb25mICk7CgkJJHRoaXMtPmZzID0gbmV3IGZpbGVzeXN0ZW0oKTsKCQkkdGhpcy0+cmVxID0gbmV3IHJlcXVlc3QoKTsKCQkkdGhpcy0+dXNlciA9IG5ldyB1c2VyKCR0aGlzKTsKCQkkdGhpcy0+cmVzb3VyY2VzID0gbmV3IHJlc291cmNlcygkdGhpcyk7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGNvbmYoKXsgcmV0dXJuICR0aGlzLT5jb25mOyB9CglwdWJsaWMgZnVuY3Rpb24gZnMoKXsgcmV0dXJuICR0aGlzLT5mczsgfQoJcHVibGljIGZ1bmN0aW9uIHJlcSgpeyByZXR1cm4gJHRoaXMtPnJlcTsgfQoJcHVibGljIGZ1bmN0aW9uIHVzZXIoKXsgcmV0dXJuICR0aGlzLT51c2VyOyB9CglwdWJsaWMgZnVuY3Rpb24gdGhlbWUoKXsgcmV0dXJuICR0aGlzLT50aGVtZTsgfQoJcHVibGljIGZ1bmN0aW9uIHJlc291cmNlcygpeyByZXR1cm4gJHRoaXMtPnJlc291cmNlczsgfQoKCXB1YmxpYyBmdW5jdGlvbiBhcHBfaWQoKXsgcmV0dXJuICR0aGlzLT5hcHBfaWQ7IH0KCXB1YmxpYyBmdW5jdGlvbiBhcHBfbmFtZSgpeyByZXR1cm4gJHRoaXMtPmFwcF9uYW1lOyB9CgoJcHVibGljIGZ1bmN0aW9uIHJ1bigpewoJCWhlYWRlcignQ29udGVudC10eXBlOiB0ZXh0L2h0bWwnKTsgLy8gZGVmYXVsdAoKCQkkcm91dGUgPSBhcnJheSgKCi8qIHJvdXRlciAqLwoKCQkpOwoKCQkkYWN0aW9uID0gJHRoaXMtPnJlcS0+Z2V0X3BhcmFtKCdhJyk7CgkJJHJlc291cmNlID0gJHRoaXMtPnJlcS0+Z2V0X3BhcmFtKCdyZXMnKTsKCQkkY29udHJvbGxlciA9IG51bGw7CgkJJGFwcF9pbmZvID0gYXJyYXkoCgkJCSdpZCcgPT4gJHRoaXMtPmFwcF9pZCwKCQkJJ25hbWUnID0+ICR0aGlzLT5hcHBfbmFtZSwKCQkJJ3BhZ2VzJyA9PiAkcm91dGUsCgkJKTsKCQkkcGFnZV9pbmZvID0gYXJyYXkoCgkJCSdpZCcgPT4gJGFjdGlvbiwKCQkJJ3RpdGxlJyA9PiAnSG9tZScsCgkJKTsKCQkkdGhpcy0+dGhlbWUgPSBuZXcgdGhlbWUoICR0aGlzLCAkYXBwX2luZm8sICRwYWdlX2luZm8gKTsKCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkvLyDjg6rjgr3jg7zjgrnjgbjjga7jg6rjgq/jgqjjgrnjg4jjgpLlh6bnkIYKCQlpZiggc3RybGVuKCRyZXNvdXJjZSkgKXsKCQkJJHRoaXMtPnJlc291cmNlcy0+ZWNob19yZXNvdXJjZSggJHJlc291cmNlICk7CgkJCWV4aXQoKTsKCgkJfQoKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCS8vIOODreOCsOOCpOODs+WHpueQhgoJCSRsb2dpbiA9IG5ldyBsb2dpbigkdGhpcywgJGFwcF9pbmZvKTsKCgkJaWYoICRhY3Rpb24gPT0gJ2xvZ291dCcgKXsKCQkJJGxvZ2luLT5sb2dvdXQoKTsKCQkJZXhpdDsKCQl9CgoJCWlmKCAhJGxvZ2luLT5jaGVjaygpICl7CgkJCWlmKCAkYWN0aW9uID09ICdsb2dvdXQnIHx8ICRhY3Rpb24gPT0gJ2xvZ2luJyApewoJCQkJJHRoaXMtPnJlcSgpLT5zZXRfcGFyYW0oJ2EnLCBudWxsKTsKCQkJfQoJCQkkbG9naW4tPnBsZWFzZV9sb2dpbigpOwoJCQlleGl0OwoJCX0KCgkJaWYoICRhY3Rpb24gPT0gJ2xvZ291dCcgfHwgJGFjdGlvbiA9PSAnbG9naW4nICl7CgkJCSR0aGlzLT5yZXEoKS0+c2V0X3BhcmFtKCdhJywgbnVsbCk7CgkJfQoKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCS8vIG1pZGRsZXdhcmUKCgkJJG1pZGRsZXdhcmUgPSBhcnJheSgvKiBtaWRkbGV3YXJlICovKTsKCgkJZm9yZWFjaCggJG1pZGRsZXdhcmUgYXMgJG1ldGhvZCApewoJCQlsaXN0KCAkY2xhc3NOYW1lLCAkZnVuY05hbWUgKSA9IGV4cGxvZGUoJzo6JywgJG1ldGhvZCk7CgkJCSR0bXBfb2JqID0gbmV3ICRjbGFzc05hbWUoKTsKCQkJY2FsbF91c2VyX2Z1bmMoIGFycmF5KCR0bXBfb2JqLCAkZnVuY05hbWUpLCAkdGhpcyApOwoJCX0KCgoKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCS8vIOOCs+ODs+ODhuODs+ODhOOCkuWHpueQhgoJCWlmKCBhcnJheV9rZXlfZXhpc3RzKCAkYWN0aW9uLCAkcm91dGUgKSApewoJCQkkY29udHJvbGxlciA9ICRyb3V0ZVskYWN0aW9uXTsKCQkJJHBhZ2VfaW5mb1sndGl0bGUnXSA9ICRjb250cm9sbGVyLT50aXRsZTsKCQkJJHRoaXMtPnRoZW1lKCktPnNldF9jdXJyZW50X3BhZ2VfaW5mbyggJHBhZ2VfaW5mbyApOwoKCQkJb2Jfc3RhcnQoKTsKCQkJY2FsbF91c2VyX2Z1bmMoICRjb250cm9sbGVyLT5wYWdlLCAkdGhpcyApOwoJCQkkY29udGVudCA9IG9iX2dldF9jbGVhbigpOwoKCgkJCSRodG1sID0gJHRoaXMtPnRoZW1lKCktPmJpbmQoICRjb250ZW50ICk7CgkJCWVjaG8gJGh0bWw7CgoJCX1lbHNlewoJCQkkdGhpcy0+bm90Zm91bmQoKTsKCQl9CgkJZXhpdCgpOwoJfQoKCgkvKioKCSAqIE5vdCBGb3VuZCDjg5rjg7zjgrjjgpLooajnpLrjgZfjgabntYLkuobjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIG5vdGZvdW5kKCl7CgkJJHBhZ2VfaW5mb1sndGl0bGUnXSA9ICdOb3QgRm91bmQnOwoJCSR0aGlzLT50aGVtZSgpLT5zZXRfY3VycmVudF9wYWdlX2luZm8oICRwYWdlX2luZm8gKTsKCgkJJGNvbnRlbnQgPSAnPHA+NDA0OiBOb3QgRm91bmQ8L3A+JzsKCQkkaHRtbCA9ICR0aGlzLT50aGVtZSgpLT5iaW5kKCAkY29udGVudCApOwoJCWVjaG8gJGh0bWw7CgkJZXhpdDsKCX0KCgkvKioKCSAqIEZvcmJpZGRlbiDjg5rjg7zjgrjjgpLooajnpLrjgZfjgabntYLkuobjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGZvcmJpZGRlbigpewoJCSRwYWdlX2luZm9bJ3RpdGxlJ10gPSAnRm9yYmlkZGVuJzsKCQkkdGhpcy0+dGhlbWUoKS0+c2V0X2N1cnJlbnRfcGFnZV9pbmZvKCAkcGFnZV9pbmZvICk7CgoJCSRjb250ZW50ID0gJzxwPjQwMzogRm9yYmlkZGVuPC9wPic7CgkJJGh0bWwgPSAkdGhpcy0+dGhlbWUoKS0+YmluZCggJGNvbnRlbnQgKTsKCQllY2hvICRodG1sOwoJCWV4aXQ7Cgl9Cgp9Cj8+',
           "conf" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiByZW5jb24gY29uZiBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIGNvbmZ7Cglwcml2YXRlICRjb25mOwoJcHVibGljICR1c2VyczsKCXB1YmxpYyAkZGF0YWJhc2VzOwoKCS8qKgoJICogQ29uc3RydWN0b3IKCSAqLwoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCAkY29uZiApewoJCSR0aGlzLT5jb25mID0gKG9iamVjdCkgJGNvbmY7CgkJZm9yZWFjaCggJHRoaXMtPmNvbmYgYXMgJGtleT0+JHZhbCApewoJCQkkdGhpcy0+eyRrZXl9ID0gJHZhbDsKCQl9CgoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJLy8gJGNvbmYtPnVzZXJzCgkJJHRoaXMtPnVzZXJzID0gbnVsbDsKCQlpZiggcHJvcGVydHlfZXhpc3RzKCAkY29uZiwgJ3VzZXJzJyApICYmICFpc19udWxsKCAkY29uZi0+dXNlcnMgKSApewoJCQkkdGhpcy0+dXNlcnMgPSAoYXJyYXkpICRjb25mLT51c2VyczsKCQl9CgoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJLy8gJGNvbmYtPmRhdGFiYXNlcwoJCSR0aGlzLT5kYXRhYmFzZXMgPSBudWxsOwoJCWlmKCBwcm9wZXJ0eV9leGlzdHMoICRjb25mLCAnZGF0YWJhc2VzJyApICYmICFpc19udWxsKCAkY29uZi0+ZGF0YWJhc2VzICkgKXsKCQkJJHRoaXMtPmRhdGFiYXNlcyA9IChhcnJheSkgJGNvbmYtPmRhdGFiYXNlczsKCQl9CgoJfQoKCS8qKgoJICog44Kz44Oz44OV44Kj44Kw5YCk44KS5Y+W5b6X44GZ44KLCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXQoICRrZXkgPSBudWxsICl7CgkJaWYoIGlzX251bGwoICRrZXkgKSApewoJCQlyZXR1cm4gJHRoaXMtPmNvbmY7CgkJfQoJCWlmKCBwcm9wZXJ0eV9leGlzdHMoICR0aGlzLT5jb25mLCAka2V5ICkgKXsKCQkJcmV0dXJuICR0aGlzLT5jb25mLT57JGtleX07CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCgkvKioKCSAqIOODreOCsOOCpOODs+OBjOW/heimgeOBi++8nwoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNfbG9naW5fcmVxdWlyZWQoKXsKCQlpZiggIWlzX2FycmF5KCR0aGlzLT51c2VycykgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlyZXR1cm4gdHJ1ZTsKCX0KCn0KPz4=',
           "filesystem" => 'PD9waHAKLyoqCiAqIHRvbWs3OS9maWxlc3lzdGVtCiAqCiAqIEBhdXRob3IgVG9tb3lhIEtveWFuYWdpIDx0b21rNzlAZ21haWwuY29tPgogKi8KCm5hbWVzcGFjZSByZW5jb25GcmFtZXdvcms7CgovKioKICogdG9tazc5L2ZpbGVzeXN0ZW0gY29yZSBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIGZpbGVzeXN0ZW17CgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgYrjgojjgbPjg4fjgqPjg6zjgq/jg4jjg6rmk43kvZzmmYLjga7jg4fjg5Xjgqnjg6vjg4jjg5Hjg7zjg5/jg4Pjgrfjg6fjg7MKCSAqLwoJcHJpdmF0ZSAkZGVmYXVsdF9wZXJtaXNzaW9uID0gYXJyYXkoJ2Rpcic9PjA3NzUsJ2ZpbGUnPT4wNzc1KTsKCS8qKgoJICog44OV44Kh44Kk44Or44K344K544OG44Og44Gu5paH5a2X44K744OD44OICgkgKi8KCXByaXZhdGUgJGZpbGVzeXN0ZW1fZW5jb2RpbmcgPSBudWxsOwoKCS8qKgoJICog44Kz44Oz44K544OI44Op44Kv44K/CgkgKgoJICogQHBhcmFtIG9iamVjdCAkY29uZiDoqK3lrprjgqrjg5bjgrjjgqfjgq/jg4gKCSAqLwoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRjb25mPW51bGwpewoJCSRjb25mID0ganNvbl9kZWNvZGUoIGpzb25fZW5jb2RlKCRjb25mKSwgdHJ1ZSApOwoJCWlmKCFpc19hcnJheSgkY29uZikpewoJCQkkY29uZiA9IGFycmF5KCk7CgkJfQoJCWlmKCBhcnJheV9rZXlfZXhpc3RzKCdmaWxlX2RlZmF1bHRfcGVybWlzc2lvbicsICRjb25mKSAmJiBzdHJsZW4oICRjb25mWydmaWxlX2RlZmF1bHRfcGVybWlzc2lvbiddICkgKXsKCQkJJHRoaXMtPmRlZmF1bHRfcGVybWlzc2lvblsnZmlsZSddID0gb2N0ZGVjKCAkY29uZlsnZmlsZV9kZWZhdWx0X3Blcm1pc3Npb24nXSApOwoJCX0KCQlpZiggYXJyYXlfa2V5X2V4aXN0cygnZGlyX2RlZmF1bHRfcGVybWlzc2lvbicsICRjb25mKSAmJiBzdHJsZW4oICRjb25mWydkaXJfZGVmYXVsdF9wZXJtaXNzaW9uJ10gKSApewoJCQkkdGhpcy0+ZGVmYXVsdF9wZXJtaXNzaW9uWydkaXInXSA9IG9jdGRlYyggJGNvbmZbJ2Rpcl9kZWZhdWx0X3Blcm1pc3Npb24nXSApOwoJCX0KCQlpZiggYXJyYXlfa2V5X2V4aXN0cygnZmlsZXN5c3RlbV9lbmNvZGluZycsICRjb25mKSAmJiBzdHJsZW4oICRjb25mWydmaWxlc3lzdGVtX2VuY29kaW5nJ10gKSApewoJCQkkdGhpcy0+ZmlsZXN5c3RlbV9lbmNvZGluZyA9IHRyaW0oICRjb25mWydmaWxlc3lzdGVtX2VuY29kaW5nJ10gKTsKCQl9Cgl9CgoJLyoqCgkgKiDmm7jjgY3ovrzjgb8v5LiK5pu444GN44GX44Gm44KI44GE44Ki44Kk44OG44Og44GL5qSc6Ki844GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDmpJzoqLzlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gYm9vbCDmm7jjgY3ovrzjgb/lj6/og73jgarloLTlkIggYHRydWVg44CB5LiN5Y+v6IO944Gq5aC05ZCI44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc193cml0YWJsZSggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCQlpZiggISR0aGlzLT5pc19maWxlKCRwYXRoKSApewoJCQlyZXR1cm4gaXNfd3JpdGFibGUoIGRpcm5hbWUoJHBhdGgpICk7CgkJfQoJCXJldHVybiBpc193cml0YWJsZSggJHBhdGggKTsKCX0gLy8gaXNfd3JpdGFibGUoKQoKCS8qKgoJICog6Kqt44G/6L6844KT44Gn44KI44GE44Ki44Kk44OG44Og44GL5qSc6Ki844GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDmpJzoqLzlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gYm9vbCDoqq3jgb/ovrzjgb/lj6/og73jgarloLTlkIggYHRydWVg44CB5LiN5Y+v6IO944Gq5aC05ZCI44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc19yZWFkYWJsZSggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCQlyZXR1cm4gaXNfcmVhZGFibGUoICRwYXRoICk7Cgl9Ly9pc19yZWFkYWJsZSgpCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOODleOCoeOCpOODq+OBjOWtmOWcqOOBmeOCi+WgtOWQiCBgdHJ1ZWDjgIHlrZjlnKjjgZfjgarjgYTloLTlkIjjgIHjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rjgYzlrZjlnKjjgZnjgovloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2ZpbGUoICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgkJcmV0dXJuIGlzX2ZpbGUoICRwYXRoICk7Cgl9Ly9pc19maWxlKCkKCgkvKioKCSAqIOOCt+ODs+ODnOODquODg+OCr+ODquODs+OCr+OBi+OBqeOBhuOBi+iqv+OBueOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5qSc6Ki85a++6LGh44Gu44OR44K5CgkgKiBAcmV0dXJuIGJvb2wg44OV44Kh44Kk44Or44GM44K344Oz44Oc44Oq44OD44Kv44Oq44Oz44Kv44Gu5aC05ZCIIGB0cnVlYOOAgeWtmOWcqOOBl+OBquOBhOWgtOWQiOOAgeOBneOCjOS7peWkluOBruWgtOWQiOOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNfbGluayggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCQlyZXR1cm4gaXNfbGluayggJHBhdGggKTsKCX0vL2lzX2xpbmsoKQoKCS8qKgoJICog44OH44Kj44Os44Kv44OI44Oq44GM5a2Y5Zyo44GZ44KL44GL44Gp44GG44GL6Kq/44G544KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDmpJzoqLzlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gYm9vbCDjg4fjgqPjg6zjgq/jg4jjg6rjgYzlrZjlnKjjgZnjgovloLTlkIggYHRydWVg44CB5a2Y5Zyo44GX44Gq44GE5aC05ZCI44CB44G+44Gf44Gv44OV44Kh44Kk44Or44GM5a2Y5Zyo44GZ44KL5aC05ZCI44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc19kaXIoICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgkJcmV0dXJuIGlzX2RpciggJHBhdGggKTsKCX0vL2lzX2RpcigpCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOODleOCoeOCpOODq+OBvuOBn+OBr+ODh+OCo+ODrOOCr+ODiOODquOBjOWtmOWcqOOBmeOCi+WgtOWQiCBgdHJ1ZWDjgIHlrZjlnKjjgZfjgarjgYTloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGZpbGVfZXhpc3RzKCAkcGF0aCApewoJCSRwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGgpOwoJCXJldHVybiBmaWxlX2V4aXN0cyggJHBhdGggKTsKCX0gLy8gZmlsZV9leGlzdHMoKQoKCS8qKgoJICog44OH44Kj44Os44Kv44OI44Oq44KS5L2c5oiQ44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkZGlycGF0aCDkvZzmiJDjgZnjgovjg4fjgqPjg6zjgq/jg4jjg6rjga7jg5HjgrkKCSAqIEBwYXJhbSBpbnQgJHBlcm0g5L2c5oiQ44GZ44KL44OH44Kj44Os44Kv44OI44Oq44Gr5LiO44GI44KL44OR44O844Of44OD44K344On44OzCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gbWtkaXIoICRkaXJwYXRoICwgJHBlcm0gPSBudWxsICl7CgkJJGRpcnBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkZGlycGF0aCk7CgoJCWlmKCAkdGhpcy0+aXNfZGlyKCAkZGlycGF0aCApICl7CgkJCS8vIOaXouOBq+ODh+OCo+ODrOOCr+ODiOODquOBjOOBguOBo+OBn+OCieOAgeS9nOaIkOOCkuippuOBv+OBquOBhOOAggoJCQkkdGhpcy0+Y2htb2QoICRkaXJwYXRoICwgJHBlcm0gKTsKCQkJcmV0dXJuIHRydWU7CgkJfQoJCSRyZXN1bHQgPSBAbWtkaXIoICRkaXJwYXRoICk7CgkJJHRoaXMtPmNobW9kKCAkZGlycGF0aCAsICRwZXJtICk7CgkJY2xlYXJzdGF0Y2FjaGUoKTsKCQlyZXR1cm4JJHJlc3VsdDsKCX0vL21rZGlyKCkKCgkvKioKCSAqIOODh+OCo+ODrOOCr+ODiOODquOCkuS9nOaIkOOBmeOCiyjkuIrlsaTjg4fjgqPjg6zjgq/jg4jjg6rjgoLlhajjgabkvZzmiJApCgkgKgoJICogQHBhcmFtIHN0cmluZyAkZGlycGF0aCDkvZzmiJDjgZnjgovjg4fjgqPjg6zjgq/jg4jjg6rjga7jg5HjgrkKCSAqIEBwYXJhbSBpbnQgJHBlcm0g5L2c5oiQ44GZ44KL44OH44Kj44Os44Kv44OI44Oq44Gr5LiO44GI44KL44OR44O844Of44OD44K344On44OzCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gbWtkaXJfciggJGRpcnBhdGggLCAkcGVybSA9IG51bGwgKXsKCQkkZGlycGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRkaXJwYXRoKTsKCQlpZiggJHRoaXMtPmlzX2RpciggJGRpcnBhdGggKSApewoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJaWYoICR0aGlzLT5pc19maWxlKCAkZGlycGF0aCApICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJJHBhdGhhcnJheSA9IGV4cGxvZGUoIERJUkVDVE9SWV9TRVBBUkFUT1IgLCAkdGhpcy0+bG9jYWxpemVfcGF0aCggJHRoaXMtPmdldF9yZWFscGF0aCgkZGlycGF0aCkgKSApOwoJCSR0YXJnZXRwYXRoID0gJyc7CgkJZm9yZWFjaCggJHBhdGhhcnJheSBhcyAkaWR4PT4kTGluZSApewoJCQlpZiggIXN0cmxlbiggJExpbmUgKSB8fCAkTGluZSA9PSAnLicgfHwgJExpbmUgPT0gJy4uJyApeyBjb250aW51ZTsgfQoJCQlpZighKCRpZHg9PT0wICYmIERJUkVDVE9SWV9TRVBBUkFUT1IgPT0gJ1xcJyAmJiBwcmVnX21hdGNoKCcvXlthLXpBLVpdXDokL3MnLCAkTGluZSkpKXsKCQkJCSR0YXJnZXRwYXRoIC49IERJUkVDVE9SWV9TRVBBUkFUT1I7CgkJCX0KCQkJJHRhcmdldHBhdGggLj0gJExpbmU7CgoJCQkvLyBjbGVhcnN0YXRjYWNoZSgpOwoJCQlpZiggISR0aGlzLT5pc19kaXIoICR0YXJnZXRwYXRoICkgKXsKCQkJCSR0YXJnZXRwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoICR0YXJnZXRwYXRoICk7CgkJCQlpZiggISR0aGlzLT5ta2RpciggJHRhcmdldHBhdGggLCAkcGVybSApICl7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQl9CgkJfQoJCXJldHVybiB0cnVlOwoJfS8vbWtkaXJfcigpCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgoTjg4fjgqPjg6zjgq/jg4jjg6rjgpLkuK3ouqvjgZTjgajlrozlhajjgavliYrpmaTjgZnjgovjgIIKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jgIHjg5XjgqHjgqTjg6vjgoTjgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jgoLliYrpmaTjgZfjgb7jgZnjgIIKCSAqIOODh+OCo+ODrOOCr+ODiOODquOCkuWJiumZpOOBmeOCi+WgtOWQiOOBr+OAgeS4rei6q+OBlOOBqOWujOWFqOOBq+WJiumZpOOBl+OBvuOBmeOAggoJICog44K344Oz44Oc44Oq44OD44Kv44Oq44Oz44Kv44Gv44CB44Gd44Gu5YWI44KS6L+944KP44Ga44CB44K344Oz44Oc44Oq44OD44Kv44Oq44Oz44Kv5pys5L2T44Gu44G/44KS5YmK6Zmk44GX44G+44GZ44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBybSggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCQljbGVhcnN0YXRjYWNoZSgpOwoKCQlpZiggISR0aGlzLT5pc193cml0YWJsZSggJHBhdGggKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJHBhdGggKSB8fCAkdGhpcy0+aXNfbGluayggJHBhdGggKSApewoJCQkvLyDjg5XjgqHjgqTjg6vjgb7jgZ/jga/jgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jga7loLTlkIjjga7lh6bnkIYKCQkJJHJlc3VsdCA9IHVubGluayggJHBhdGggKTsKCQkJcmV0dXJuCSRyZXN1bHQ7CgoJCX1lbHNlaWYoICR0aGlzLT5pc19kaXIoICRwYXRoICkgKXsKCQkJLy8g44OH44Kj44Os44Kv44OI44Oq44Gu5Yem55CGCgkJCSRmbGlzdCA9ICR0aGlzLT5scyggJHBhdGggKTsKCQkJaWYoIGlzX2FycmF5KCRmbGlzdCkgKXsKCQkJCWZvcmVhY2ggKCAkZmxpc3QgYXMgJExpbmUgKXsKCQkJCQlpZiggJExpbmUgPT0gJy4nIHx8ICRMaW5lID09ICcuLicgKXsgY29udGludWU7IH0KCQkJCQkkdGhpcy0+cm0oICRwYXRoLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgKTsKCQkJCX0KCQkJfQoJCQkkcmVzdWx0ID0gcm1kaXIoICRwYXRoICk7CgkJCXJldHVybgkkcmVzdWx0OwoKCQl9CgoJCXJldHVybiBmYWxzZTsKCX0vL3JtKCkKCgkvKioKCSAqIOODh+OCo+ODrOOCr+ODiOODquOCkuWJiumZpOOBmeOCi+OAggoJICoKCSAqIOOBk+OBruODoeOCveODg+ODieOBr+ODh+OCo+ODrOOCr+ODiOODquOCkuWJiumZpOOBl+OBvuOBmeOAggoJICog5Lit6Lqr44Gu44Gq44GE44CB56m644Gu44OH44Kj44Os44Kv44OI44Oq5Lul5aSW44Gv5YmK6Zmk44Gn44GN44G+44Gb44KT44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjg4fjgqPjg6zjgq/jg4jjg6rjga7jg5HjgrkKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBybWRpciggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCgkJaWYoICEkdGhpcy0+aXNfd3JpdGFibGUoICRwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkcGF0aCA9IEByZWFscGF0aCggJHBhdGggKTsKCQlpZiggJHBhdGggPT09IGZhbHNlICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJaWYoICR0aGlzLT5pc19maWxlKCAkcGF0aCApIHx8ICR0aGlzLT5pc19saW5rKCAkcGF0aCApICl7CgkJCS8vIOODleOCoeOCpOODq+OBvuOBn+OBr+OCt+ODs+ODnOODquODg+OCr+ODquODs+OCr+OBruWgtOWQiOOBruWHpueQhgoJCQkvLyDjg4fjgqPjg6zjgq/jg4jjg6rku6XlpJbjga/liYrpmaTjgafjgY3jgb7jgZvjgpPjgIIKCQkJcmV0dXJuIGZhbHNlOwoKCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZGlyKCAkcGF0aCApICl7CgkJCS8vIOODh+OCo+ODrOOCr+ODiOODquOBruWHpueQhgoJCQkvLyBybWRpcigpIOOBr+WGjeW4sOeahOWJiumZpOOCkuihjOOBhOOBvuOBm+OCk+OAggoJCQkvLyDlho3luLDnmoTjgavliYrpmaTjgZfjgZ/jgYTloLTlkIjjga/jgIHku6Pjgo/jgorjgasgYHJtKClgIOOBvuOBn+OBryBgcm1kaXJfcigpYCDjgpLkvb/nlKjjgZfjgb7jgZnjgIIKCQkJcmV0dXJuIEBybWRpciggJHBhdGggKTsKCQl9CgoJCXJldHVybiBmYWxzZTsKCX0vL3JtZGlyKCkKCgkvKioKCSAqIOODh+OCo+ODrOOCr+ODiOODquOCkuWGjeW4sOeahOOBq+WJiumZpOOBmeOCi+OAggoJICoKCSAqIOOBk+OBruODoeOCveODg+ODieOBr+ODh+OCo+ODrOOCr+ODiOODquOCkuWGjeW4sOeahOOBq+WJiumZpOOBl+OBvuOBmeOAggoJICog5Lit6Lqr44Gu44Gq44GE44CB56m644Gu44OH44Kj44Os44Kv44OI44Oq5Lul5aSW44Gv5YmK6Zmk44Gn44GN44G+44Gb44KT44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjg4fjgqPjg6zjgq/jg4jjg6rjga7jg5HjgrkKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBybWRpcl9yKCAkcGF0aCApewoJCSRwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGgpOwoKCQlpZiggISR0aGlzLT5pc193cml0YWJsZSggJHBhdGggKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCSRwYXRoID0gQHJlYWxwYXRoKCAkcGF0aCApOwoJCWlmKCAkcGF0aCA9PT0gZmFsc2UgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZiggJHRoaXMtPmlzX2ZpbGUoICRwYXRoICkgfHwgJHRoaXMtPmlzX2xpbmsoICRwYXRoICkgKXsKCQkJLy8g44OV44Kh44Kk44Or44G+44Gf44Gv44K344Oz44Oc44Oq44OD44Kv44Oq44Oz44Kv44Gu5aC05ZCI44Gu5Yem55CGCgkJCS8vIOODh+OCo+ODrOOCr+ODiOODquS7peWkluOBr+WJiumZpOOBp+OBjeOBvuOBm+OCk+OAggoJCQlyZXR1cm4gZmFsc2U7CgoJCX1lbHNlaWYoICR0aGlzLT5pc19kaXIoICRwYXRoICkgKXsKCQkJLy8g44OH44Kj44Os44Kv44OI44Oq44Gu5Yem55CGCgkJCSRmaWxlbGlzdCA9ICR0aGlzLT5scygkcGF0aCk7CgkJCWlmKCBpc19hcnJheSgkZmlsZWxpc3QpICl7CgkJCQlmb3JlYWNoKCAkZmlsZWxpc3QgYXMgJGJhc2VuYW1lICl7CgkJCQkJaWYoICR0aGlzLT5pc19maWxlKCAkcGF0aC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRiYXNlbmFtZSApICl7CgkJCQkJCSR0aGlzLT5ybSggJHBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kYmFzZW5hbWUgKTsKCQkJCQl9ZWxzZSBpZiggISR0aGlzLT5ybWRpcl9yKCAkcGF0aC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRiYXNlbmFtZSApICl7CgkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQl9CgkJCQl9CgkJCX0KCQkJcmV0dXJuICR0aGlzLT5ybWRpciggJHBhdGggKTsKCQl9CgoJCXJldHVybiBmYWxzZTsKCX0vL3JtZGlyX3IoKQoKCgkvKioKCSAqIOODleOCoeOCpOODq+OCkuS4iuabuOOBjeS/neWtmOOBmeOCi+OAggoJICoKCSAqIOOBk+OBruODoeOCveODg+ODieOBr+OAgWAkZmlsZXBhdGhgIOOBq+ODh+ODvOOCv+OCkuS/neWtmOOBl+OBvuOBmeOAggoJICog44KC44Go44KC44Go5L+d5a2Y44GV44KM44Gm44GE44Gf5YaF5a6544Gv56C05qOE44GV44KM44CB5paw44GX44GE44OH44O844K/44Gn5LiK5pu444GN44GX44G+44GZ44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkZmlsZXBhdGgg5L+d5a2Y5YWI44OV44Kh44Kk44Or44Gu44OR44K5CgkgKiBAcGFyYW0gc3RyaW5nICRjb250ZW50IOS/neWtmOOBmeOCi+WGheWuuQoJICogQHBhcmFtIGludCAkcGVybSDkv53lrZjjgZnjgovjg5XjgqHjgqTjg6vjgavkuI7jgYjjgovjg5Hjg7zjg5/jg4Pjgrfjg6fjg7MKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBzYXZlX2ZpbGUoICRmaWxlcGF0aCAsICRjb250ZW50ICwgJHBlcm0gPSBudWxsICl7CgkJJGZpbGVwYXRoID0gJHRoaXMtPmdldF9yZWFscGF0aCgkZmlsZXBhdGgpOwoJCSRmaWxlcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRmaWxlcGF0aCk7CgoJCWlmKCAkdGhpcy0+aXNfZGlyKCAkZmlsZXBhdGggKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAhJHRoaXMtPmlzX3dyaXRhYmxlKCAkZmlsZXBhdGggKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQlpZiggIXN0cmxlbiggJGNvbnRlbnQgKSApewoJCQkvLyDnqbrnmb3jga7jg5XjgqHjgqTjg6vjgafkuIrmm7jjgY3jgZfjgZ/jgYTloLTlkIgKCQkJaWYoICR0aGlzLT5pc19maWxlKCAkZmlsZXBhdGggKSApewoJCQkJQHVubGluayggJGZpbGVwYXRoICk7CgkJCX0KCQkJQHRvdWNoKCAkZmlsZXBhdGggKTsKCQkJJHRoaXMtPmNobW9kKCAkZmlsZXBhdGggLCAkcGVybSApOwoJCQljbGVhcnN0YXRjYWNoZSgpOwoJCQlyZXR1cm4gJHRoaXMtPmlzX2ZpbGUoICRmaWxlcGF0aCApOwoJCX0KCgkJY2xlYXJzdGF0Y2FjaGUoKTsKCQkkZnAgPSBmb3BlbiggJGZpbGVwYXRoLCAndycgKTsKCQlpZiggIWlzX3Jlc291cmNlKCAkZnAgKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQlmb3IgKCR3cml0dGVuID0gMDsgJHdyaXR0ZW4gPCBzdHJsZW4oJGNvbnRlbnQpOyAkd3JpdHRlbiArPSAkZndyaXRlKSB7CgkJCSRmd3JpdGUgPSBmd3JpdGUoJGZwLCBzdWJzdHIoJGNvbnRlbnQsICR3cml0dGVuKSk7CgkJCWlmICgkZndyaXRlID09PSBmYWxzZSkgewoJCQkJYnJlYWs7CgkJCX0KCQl9CgoJCWZjbG9zZSgkZnApOwoKCQkkdGhpcy0+Y2htb2QoICRmaWxlcGF0aCAsICRwZXJtICk7CgkJY2xlYXJzdGF0Y2FjaGUoKTsKCQlyZXR1cm4gIWVtcHR5KCAkd3JpdHRlbiApOwoJfS8vc2F2ZV9maWxlKCkKCgkvKioKCSAqIOODleOCoeOCpOODq+OBruS4rei6q+OCkuaWh+Wtl+WIl+OBqOOBl+OBpuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg44OV44Kh44Kk44Or44Gu44OR44K5CgkgKiBAcmV0dXJuIHN0cmluZyDjg5XjgqHjgqTjg6sgYCRwYXRoYCDjga7lhoXlrrkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJlYWRfZmlsZSggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCQlyZXR1cm4gZmlsZV9nZXRfY29udGVudHMoICRwYXRoICk7Cgl9Ly9maWxlX2dldF9jb250ZW50cygpCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjga7mm7TmlrDml6XmmYLjgpLmr5TovIPjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoX2Eg5q+U6LyD5a++6LGhQQoJICogQHBhcmFtIHN0cmluZyAkcGF0aF9iIOavlOi8g+WvvuixoUIKCSAqIEByZXR1cm4gYm9vbHxudWxsCgkgKiBgJHBhdGhfYWAg44Gu5pa544GM5paw44GX44GL44Gj44Gf5aC05ZCI44GrIGB0cnVlYOOAgQoJICogYCRwYXRoX2JgIOOBruaWueOBjOaWsOOBl+OBi+OBo+OBn+WgtOWQiOOBqyBgZmFsc2Vg44CBCgkgKiDlkIzmmYLjgaDjgaPjgZ/loLTlkIjjgasgYG51bGxgIOOCkui/lOOBl+OBvuOBmeOAggoJICoKCSAqIOOBhOOBmuOCjOOBi+S4gOaWueOAgeOBvuOBn+OBr+S4oeaWueOBruODleOCoeOCpOODq+OBjOWtmOWcqOOBl+OBquOBhOWgtOWQiOOAgeasoeOBruOCiOOBhuOBq+aMr+OCi+iInuOBhOOBvuOBmeOAggoJICogLSDkuKHmlrnjga7jg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZfjgarjgYTloLTlkIggPSBgbnVsbGAKCSAqIC0gJHBhdGhfYSDjgYzlrZjlnKjjgZvjgZrjgIEkcGF0aF9iIOOBr+WtmOWcqOOBmeOCi+WgtOWQiCA9IGBmYWxzZWAKCSAqIC0gJHBhdGhfYSDjgYzlrZjlnKjjgZfjgIEkcGF0aF9iIOOBr+WtmOWcqOOBl+OBquOBhOWgtOWQiCA9IGB0cnVlYAoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNfbmV3ZXJfYV90aGFuX2IoICRwYXRoX2EgLCAkcGF0aF9iICl7CgkJJHBhdGhfYSA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoX2EpOwoJCSRwYXRoX2IgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aF9iKTsKCgkJLy8g5q+U6LyD44Gn44GN44Gq44GE5aC05ZCI44GrCgkJaWYoIWZpbGVfZXhpc3RzKCRwYXRoX2EpICYmICFmaWxlX2V4aXN0cygkcGF0aF9iKSl7cmV0dXJuIG51bGw7fQoJCWlmKCFmaWxlX2V4aXN0cygkcGF0aF9hKSl7cmV0dXJuIGZhbHNlO30KCQlpZighZmlsZV9leGlzdHMoJHBhdGhfYikpe3JldHVybiB0cnVlO30KCgkJJG10aW1lX2EgPSBmaWxlbXRpbWUoICRwYXRoX2EgKTsKCQkkbXRpbWVfYiA9IGZpbGVtdGltZSggJHBhdGhfYiApOwoJCWlmKCAkbXRpbWVfYSA+ICRtdGltZV9iICl7CgkJCXJldHVybiB0cnVlOwoJCX1lbHNlaWYoICRtdGltZV9hIDwgJG10aW1lX2IgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlyZXR1cm4gbnVsbDsKCX0vL2lzX25ld2VyX2FfdGhhbl9iKCkKCgkvKioKCSAqIOODleOCoeOCpOODq+WQjS/jg4fjgqPjg6zjgq/jg4jjg6rlkI3jgpLlpInmm7TjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRvcmlnaW5hbCDnj77lnKjjga7jg5XjgqHjgqTjg6vjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rlkI0KCSAqIEBwYXJhbSBzdHJpbmcgJG5ld25hbWUg5aSJ5pu05b6M44Gu44OV44Kh44Kk44Or44G+44Gf44Gv44OH44Kj44Os44Kv44OI44Oq5ZCNCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmCIGB0cnVlYOOAgeWkseaVl+aZgiBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gcmVuYW1lKCAkb3JpZ2luYWwgLCAkbmV3bmFtZSApewoJCSRvcmlnaW5hbCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRvcmlnaW5hbCk7CgkJJG5ld25hbWUgID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJG5ld25hbWUgKTsKCgkJaWYoICFmaWxlX2V4aXN0cyggJG9yaWdpbmFsICkgKXsgcmV0dXJuIGZhbHNlOyB9CgkJaWYoICEkdGhpcy0+aXNfd3JpdGFibGUoICRvcmlnaW5hbCApICl7IHJldHVybiBmYWxzZTsgfQoJCXJldHVybiByZW5hbWUoICRvcmlnaW5hbCAsICRuZXduYW1lICk7Cgl9Ly9yZW5hbWUoKQoKCS8qKgoJICog44OV44Kh44Kk44Or5ZCNL+ODh+OCo+ODrOOCr+ODiOODquWQjeOCkuW8t+WItueahOOBq+WkieabtOOBmeOCi+OAggoJICoKCSAqIOenu+WLleWFiOOBruimquODh+OCo+ODrOOCr+ODiOODquOBjOWtmOWcqOOBl+OBquOBhOWgtOWQiOOBq+OCguOAgeimquODh+OCo+ODrOOCr+ODiOODquOCkuS9nOaIkOOBl+OBpuenu+WLleOBmeOCi+OCiOOBhuippuOBv+OBvuOBmeOAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJG9yaWdpbmFsIOePvuWcqOOBruODleOCoeOCpOODq+OBvuOBn+OBr+ODh+OCo+ODrOOCr+ODiOODquWQjQoJICogQHBhcmFtIHN0cmluZyAkbmV3bmFtZSDlpInmm7Tlvozjga7jg5XjgqHjgqTjg6vjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rlkI0KCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYIgYHRydWVg44CB5aSx5pWX5pmCIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByZW5hbWVfZiggJG9yaWdpbmFsICwgJG5ld25hbWUgKXsKCQkkb3JpZ2luYWwgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkb3JpZ2luYWwpOwoJCSRuZXduYW1lICA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRuZXduYW1lICk7CgoJCWlmKCAhZmlsZV9leGlzdHMoICRvcmlnaW5hbCApICl7IHJldHVybiBmYWxzZTsgfQoJCWlmKCAhJHRoaXMtPmlzX3dyaXRhYmxlKCAkb3JpZ2luYWwgKSApeyByZXR1cm4gZmFsc2U7IH0KCQkkZGlybmFtZSA9IGRpcm5hbWUoICRuZXduYW1lICk7CgkJaWYoICEkdGhpcy0+aXNfZGlyKCAkZGlybmFtZSApICl7CgkJCWlmKCAhJHRoaXMtPm1rZGlyX3IoICRkaXJuYW1lICkgKXsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCX0KCQlyZXR1cm4gcmVuYW1lKCAkb3JpZ2luYWwgLCAkbmV3bmFtZSApOwoJfSAvLyByZW5hbWVfZigpCgoJLyoqCgkgKiDntbblr77jg5HjgrnjgpLlvpfjgovjgIIKCSAqCgkgKiDjg5Hjgrnmg4XloLHjgpLlj5fjgZHlj5bjgorjgIHjgrnjg6njg4Pjgrfjg6XjgYvjgonlp4vjgb7jgovjgrXjg7zjg5Djg7zlhoXpg6jntbblr77jg5HjgrnjgavlpInmj5vjgZfjgabov5TjgZfjgb7jgZnjgIIKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jgIFQSFDjga4gYHJlYWxwYXRoKClgIOOBqOeVsOOBquOCiuOAgeWtmOWcqOOBl+OBquOBhOODkeOCueOCgue1tuWvvuODkeOCueOBq+WkieaPm+OBl+OBvuOBmeOAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcGFyYW0gc3RyaW5nICRjZCDjgqvjg6zjg7Pjg4jjg4fjgqPjg6zjgq/jg4jjg6rjg5HjgrnjgIIKCSAqIOWun+WcqOOBmeOCi+acieWKueOBquODh+OCo+ODrOOCr+ODiOODquOBruODkeOCueOAgeOBvuOBn+OBr+e1tuWvvuODkeOCueOBruihqOePvuOBp+aMh+WumuOBleOCjOOCi+W/heimgeOBjOOBguOCiuOBvuOBmeOAggoJICog55yB55Wl5pmC44CB44Kr44Os44Oz44OI44OH44Kj44Os44Kv44OI44Oq44KS6Ieq5YuV5o6h55So44GX44G+44GZ44CCCgkgKiBAcmV0dXJuIHN0cmluZyDntbblr77jg5HjgrkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9yZWFscGF0aCggJHBhdGgsICRjZCA9ICcuJyApewoJCSRpc19kaXIgPSBmYWxzZTsKCQlpZiggcHJlZ19tYXRjaCggJy8oXC98XFxcXCkrJC9zJywgJHBhdGggKSApewoJCQkkaXNfZGlyID0gdHJ1ZTsKCQl9CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgkJaWYoIGlzX251bGwoJGNkKSApeyAkY2QgPSAnLic7IH0KCQkkY2QgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkY2QpOwoJCSRwcmVnX2RpcnNlcCA9IHByZWdfcXVvdGUoRElSRUNUT1JZX1NFUEFSQVRPUiwgJy8nKTsKCgkJaWYoICR0aGlzLT5pc19kaXIoJGNkKSApewoJCQkkY2QgPSByZWFscGF0aCgkY2QpOwoJCX1lbHNlaWYoICFwcmVnX21hdGNoKCcvXigoPzpbQS1aYS16XVxcOicuJHByZWdfZGlyc2VwLicpfCcuJHByZWdfZGlyc2VwLid7MSwyfSkoLio/KSQvJywgJGNkKSApewoJCQkkY2QgPSBmYWxzZTsKCQl9CgkJaWYoICRjZCA9PT0gZmFsc2UgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJJHByZWZpeCA9ICcnOwoJCSRsb2NhbHBhdGggPSAkcGF0aDsKCQlpZiggcHJlZ19tYXRjaCgnL14oKD86W0EtWmEtel1cXDonLiRwcmVnX2RpcnNlcC4nKXwnLiRwcmVnX2RpcnNlcC4nezEsMn0pKC4qPykkLycsICRwYXRoLCAkbWF0Y2hlZCkgKXsKCQkJLy8g44KC44Go44KC44Go57W25a++44OR44K544Gu5oyH5a6a44GL6Kq/44G544KLCgkJCSRwcmVmaXggPSBwcmVnX3JlcGxhY2UoJy8nLiRwcmVnX2RpcnNlcC4nJC8nLCAnJywgJG1hdGNoZWRbMV0pOwoJCQkkbG9jYWxwYXRoID0gJG1hdGNoZWRbMl07CgkJCSRjZCA9IG51bGw7IC8vIOWFg+OBruaMh+WumuOBjOe1tuWvvuODkeOCueOBoOOBo+OBn+OCieOAgeOCq+ODrOODs+ODiOODh+OCo+ODrOOCr+ODiOODquOBr+mWouS/guOBquOBhOOBruOBp+aNqOOBpuOCi+OAggoJCX0KCgkJJHBhdGggPSAkY2QuRElSRUNUT1JZX1NFUEFSQVRPUi4nLicuRElSRUNUT1JZX1NFUEFSQVRPUi4kbG9jYWxwYXRoOwoKCQlpZiggZmlsZV9leGlzdHMoICRwcmVmaXguJHBhdGggKSApewoJCQkkcnRuID0gcmVhbHBhdGgoICRwcmVmaXguJHBhdGggKTsKCQkJaWYoICRpc19kaXIgJiYgJHJ0biAhPSByZWFscGF0aCgnLycpICl7CgkJCQkkcnRuIC49IERJUkVDVE9SWV9TRVBBUkFUT1I7CgkJCX0KCQkJcmV0dXJuICRydG47CgkJfQoKCQkkcGF0aHMgPSBleHBsb2RlKCBESVJFQ1RPUllfU0VQQVJBVE9SLCAkcGF0aCApOwoJCSRwYXRoID0gJyc7CgkJZm9yZWFjaCggJHBhdGhzIGFzICRpZHg9PiRyb3cgKXsKCQkJaWYoICRyb3cgPT0gJycgfHwgJHJvdyA9PSAnLicgKXsKCQkJCWNvbnRpbnVlOwoJCQl9CgkJCWlmKCAkcm93ID09ICcuLicgKXsKCQkJCSRwYXRoID0gZGlybmFtZSgkcGF0aCk7CgkJCQlpZigkcGF0aCA9PSBESVJFQ1RPUllfU0VQQVJBVE9SKXsKCQkJCQkkcGF0aCA9ICcnOwoJCQkJfQoJCQkJY29udGludWU7CgkJCX0KCQkJaWYoISgkaWR4PT09MCAmJiBESVJFQ1RPUllfU0VQQVJBVE9SID09ICdcXCcgJiYgcHJlZ19tYXRjaCgnL15bYS16QS1aXVw6JC9zJywgJHJvdykpKXsKCQkJCSRwYXRoIC49IERJUkVDVE9SWV9TRVBBUkFUT1I7CgkJCX0KCQkJJHBhdGggLj0gJHJvdzsKCQl9CgoJCSRydG4gPSAkcHJlZml4LiRwYXRoOwoJCWlmKCAkaXNfZGlyICl7CgkJCSRydG4gLj0gRElSRUNUT1JZX1NFUEFSQVRPUjsKCQl9CgkJcmV0dXJuICRydG47Cgl9CgoJLyoqCgkgKiDnm7jlr77jg5HjgrnjgpLlvpfjgovjgIIKCSAqCgkgKiDjg5Hjgrnmg4XloLHjgpLlj5fjgZHlj5bjgorjgIHjg4njg4Pjg4jjgrnjg6njg4Pjgrfjg6XjgYvjgonlp4vjgb7jgovnm7jlr77ntbblr77jg5HjgrnjgavlpInmj5vjgZfjgabov5TjgZfjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeOBruODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkY2Qg44Kr44Os44Oz44OI44OH44Kj44Os44Kv44OI44Oq44OR44K544CCCgkgKiDlrp/lnKjjgZnjgovmnInlirnjgarjg4fjgqPjg6zjgq/jg4jjg6rjga7jg5HjgrnjgIHjgb7jgZ/jga/ntbblr77jg5Hjgrnjga7ooajnj77jgafmjIflrprjgZXjgozjgovlv4XopoHjgYzjgYLjgorjgb7jgZnjgIIKCSAqIOecgeeVpeaZguOAgeOCq+ODrOODs+ODiOODh+OCo+ODrOOCr+ODiOODquOCkuiHquWLleaOoeeUqOOBl+OBvuOBmeOAggoJICogQHJldHVybiBzdHJpbmcg55u45a++44OR44K5CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfcmVsYXRlZHBhdGgoICRwYXRoLCAkY2QgPSAnLicgKXsKCQkkaXNfZGlyID0gZmFsc2U7CgkJaWYoIHByZWdfbWF0Y2goICcvKFwvfFxcXFwpKyQvcycsICRwYXRoICkgKXsKCQkJJGlzX2RpciA9IHRydWU7CgkJfQoJCWlmKCAhc3RybGVuKCAkY2QgKSApewoJCQkkY2QgPSByZWFscGF0aCgnLicpOwoJCX1lbHNlaWYoICR0aGlzLT5pc19kaXIoJGNkKSApewoJCQkkY2QgPSByZWFscGF0aCgkY2QpOwoJCX1lbHNlaWYoICR0aGlzLT5pc19maWxlKCRjZCkgKXsKCQkJJGNkID0gcmVhbHBhdGgoZGlybmFtZSgkY2QpKTsKCQl9CgkJJHBhdGggPSAkdGhpcy0+Z2V0X3JlYWxwYXRoKCRwYXRoLCAkY2QpOwoKCQkkbm9ybWFsaXplID0gZnVuY3Rpb24oICR0bXBfcGF0aCwgJGZzICl7CgkJCSR0bXBfcGF0aCA9ICRmcy0+bG9jYWxpemVfcGF0aCggJHRtcF9wYXRoICk7CgkJCSRwcmVnX2RpcnNlcCA9IHByZWdfcXVvdGUoRElSRUNUT1JZX1NFUEFSQVRPUiwgJy8nKTsKCQkJaWYoIERJUkVDVE9SWV9TRVBBUkFUT1IgPT0gJ1xcJyApewoJCQkJJHRtcF9wYXRoID0gcHJlZ19yZXBsYWNlKCAnL15bYS16QS1aXVw6L3MnLCAnJywgJHRtcF9wYXRoICk7CgkJCX0KCQkJJHRtcF9wYXRoID0gcHJlZ19yZXBsYWNlKCAnL14oJy4kcHJlZ19kaXJzZXAuJykrL3MnLCAnJywgJHRtcF9wYXRoICk7CgkJCSR0bXBfcGF0aCA9IHByZWdfcmVwbGFjZSggJy8oJy4kcHJlZ19kaXJzZXAuJykrJC9zJywgJycsICR0bXBfcGF0aCApOwoJCQlpZiggc3RybGVuKCR0bXBfcGF0aCkgKXsKCQkJCSR0bXBfcGF0aCA9IGV4cGxvZGUoIERJUkVDVE9SWV9TRVBBUkFUT1IsICR0bXBfcGF0aCApOwoJCQl9ZWxzZXsKCQkJCSR0bXBfcGF0aCA9IGFycmF5KCk7CgkJCX0KCgkJCXJldHVybiAkdG1wX3BhdGg7CgkJfTsKCgkJJGNkID0gJG5vcm1hbGl6ZSgkY2QsICR0aGlzKTsKCQkkcGF0aCA9ICRub3JtYWxpemUoJHBhdGgsICR0aGlzKTsKCgkJJHJ0biA9IGFycmF5KCk7CgkJd2hpbGUoIDEgKXsKCQkJaWYoICFjb3VudCgkY2QpIHx8ICFjb3VudCgkcGF0aCkgKXsKCQkJCWJyZWFrOwoJCQl9CgkJCWlmKCAkY2RbMF0gPT09ICRwYXRoWzBdICl7CgkJCQlhcnJheV9zaGlmdCggJGNkICk7CgkJCQlhcnJheV9zaGlmdCggJHBhdGggKTsKCQkJCWNvbnRpbnVlOwoJCQl9CgkJCWJyZWFrOwoJCX0KCQlpZiggY291bnQoJGNkKSApewoJCQlmb3JlYWNoKCRjZCBhcyAkZGlybmFtZSl7CgkJCQlhcnJheV9wdXNoKCAkcnRuLCAnLi4nICk7CgkJCX0KCQl9ZWxzZXsKCQkJYXJyYXlfcHVzaCggJHJ0biwgJy4nICk7CgkJfQoJCSRydG4gPSBhcnJheV9tZXJnZSggJHJ0biwgJHBhdGggKTsKCQkkcnRuID0gaW1wbG9kZSggRElSRUNUT1JZX1NFUEFSQVRPUiwgJHJ0biApOwoKCQlpZiggJGlzX2RpciApewoJCQkkcnRuIC49IERJUkVDVE9SWV9TRVBBUkFUT1I7CgkJfQoJCXJldHVybiAkcnRuOwoJfQoKCS8qKgoJICog44OR44K55oOF5aCx44KS5b6X44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gYXJyYXkg44OR44K55oOF5aCxCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBwYXRoaW5mbyggJHBhdGggKXsKCQlpZihzdHJwb3MoJHBhdGgsJyMnKSE9PWZhbHNlKXsgbGlzdCgkcGF0aCwgJGhhc2gpID0gZXhwbG9kZSggJyMnLCAkcGF0aCwgMiApOyB9CgkJaWYoc3RycG9zKCRwYXRoLCc/JykhPT1mYWxzZSl7IGxpc3QoJHBhdGgsICRxdWVyeSkgPSBleHBsb2RlKCAnPycsICRwYXRoLCAyICk7IH0KCgkJJHBhdGhpbmZvID0gcGF0aGluZm8oICRwYXRoICk7CgkJJHBhdGhpbmZvWydmaWxlbmFtZSddID0gJHRoaXMtPnRyaW1fZXh0ZW5zaW9uKCAkcGF0aGluZm9bJ2Jhc2VuYW1lJ10gKTsKCQkkcGF0aGluZm9bJ2V4dGVuc2lvbiddID0gJHRoaXMtPmdldF9leHRlbnNpb24oICRwYXRoaW5mb1snYmFzZW5hbWUnXSApOwoJCSRwYXRoaW5mb1sncXVlcnknXSA9IChpc3NldCgkcXVlcnkpJiZzdHJsZW4oJHF1ZXJ5KSA/ICc/Jy4kcXVlcnkgOiBudWxsKTsKCQkkcGF0aGluZm9bJ2hhc2gnXSA9IChpc3NldCgkaGFzaCkmJnN0cmxlbigkaGFzaCkgPyAnIycuJGhhc2ggOiBudWxsKTsKCQlyZXR1cm4gJHBhdGhpbmZvOwoJfQoKCS8qKgoJICog44OR44K55oOF5aCx44GL44KJ44CB44OV44Kh44Kk44Or5ZCN44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gc3RyaW5nIOaKnOOBjeWHuuOBleOCjOOBn+ODleOCoeOCpOODq+WQjQoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2Jhc2VuYW1lKCAkcGF0aCApewoJCSRwYXRoID0gcGF0aGluZm8oICRwYXRoICwgUEFUSElORk9fQkFTRU5BTUUgKTsKCQlpZiggIXN0cmxlbigkcGF0aCkgKXskcGF0aCA9IG51bGw7fQoJCXJldHVybiAkcGF0aDsKCX0KCgkvKioKCSAqIOODkeOCueaDheWgseOBi+OCieOAgeaLoeW8teWtkOOCkumZpOOBhOOBn+ODleOCoeOCpOODq+WQjeOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcmV0dXJuIHN0cmluZyDmi6HlvLXlrZDjgYzpmaTjgYvjgozjgZ/jg5HjgrkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHRyaW1fZXh0ZW5zaW9uKCAkcGF0aCApewoJCSRwYXRoaW5mbyA9IHBhdGhpbmZvKCAkcGF0aCApOwoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cygnZXh0ZW5zaW9uJywgJHBhdGhpbmZvKSApewoJCQkkcGF0aGluZm9bJ2V4dGVuc2lvbiddID0gJyc7CgkJfQoJCSRSVE4gPSBwcmVnX3JlcGxhY2UoICcvXC4nLnByZWdfcXVvdGUoICRwYXRoaW5mb1snZXh0ZW5zaW9uJ10sICcvJyApLickLycgLCAnJyAsICRwYXRoICk7CgkJcmV0dXJuICRSVE47Cgl9CgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vlkI3jgpLlkKvjgoDjg5Hjgrnmg4XloLHjgYvjgonjgIHjg5XjgqHjgqTjg6vjgYzmoLzntI3jgZXjgozjgabjgYTjgovjg4fjgqPjg6zjgq/jg4jjg6rlkI3jgpLlj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBzdHJpbmcg6Kaq44OH44Kj44Os44Kv44OI44Oq44Gu44OR44K5CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfZGlycGF0aCggJHBhdGggKXsKCQkkcGF0aCA9IHBhdGhpbmZvKCAkcGF0aCAsIFBBVEhJTkZPX0RJUk5BTUUgKTsKCQlpZiggIXN0cmxlbigkcGF0aCkgKXskcGF0aCA9IG51bGw7fQoJCXJldHVybiAkcGF0aDsKCX0KCgkvKioKCSAqIOODkeOCueaDheWgseOBi+OCieOAgeaLoeW8teWtkOOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcmV0dXJuIHN0cmluZyDmi6HlvLXlrZAKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9leHRlbnNpb24oICRwYXRoICl7CgkJJHBhdGggPSBwcmVnX3JlcGxhY2UoJy9cIy4qJC9zaScsICcnLCAkcGF0aCk7CgkJJHBhdGggPSBwcmVnX3JlcGxhY2UoJy9cPy4qJC9zaScsICcnLCAkcGF0aCk7CgkJJHBhdGggPSBwYXRoaW5mbyggJHBhdGggLCBQQVRISU5GT19FWFRFTlNJT04gKTsKCQlpZighc3RybGVuKCRwYXRoKSl7JHBhdGggPSBudWxsO30KCQlyZXR1cm4gJHBhdGg7Cgl9CgoKCS8qKgoJICogQ1NW44OV44Kh44Kk44Or44KS6Kqt44G/6L6844KA44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga5DU1bjg5XjgqHjgqTjg6vjga7jg5HjgrkKCSAqIEBwYXJhbSBhcnJheSAkb3B0aW9ucyDjgqrjg5fjgrfjg6fjg7MKCSAqIC0gZGVsaW1pdGVyID0g5Yy65YiH44KK5paH5a2XKOecgeeVpeaZguOAgeOCq+ODs+ODnikKCSAqIC0gZW5jbG9zdXJlID0g44Kv44Ot44O844K444Oj44O85paH5a2XKOecgeeVpeaZguOAgeODgOODluODq+OCr+OCquODvOODiCkKCSAqIC0gc2l6ZSA9IOS4gOW6puOBq+iqreOBv+i+vOOCgOOCteOCpOOCuijnnIHnlaXmmYLjgIExMDAwMCkKCSAqIC0gY2hhcnNldCA9IOaWh+Wtl+OCu+ODg+ODiCjnnIHnlaXmmYLjgIFVVEYtOCkKCSAqIEByZXR1cm4gYXJyYXl8Ym9vbCDoqq3jgb/ovrzjgb/jgavmiJDlip/jgZfjgZ/loLTlkIjjgIHooYzliJfjgpLmoLzntI3jgZfjgZ/phY3liJfjgIHlpLHmlZfjgZfjgZ/loLTlkIjjgavjga8gYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJlYWRfY3N2KCAkcGF0aCAsICRvcHRpb25zID0gYXJyYXkoKSApewoJCS8vICRvcHRpb25zWydjaGFyc2V0J10g44Gv44CB5L+d5a2Y44GV44KM44Gm44GE44KLQ1NW44OV44Kh44Kk44Or44Gu5paH5a2X44Ko44Oz44Kz44O844OJ44Gn44GZ44CCCgkJLy8g55yB55Wl5pmC44GvIFVURi04IOOBi+OCieOAgeWGhemDqOOCqOODs+OCs+ODvOODh+OCo+ODs+OCsOOBq+WkieaPm+OBl+OBvuOBmeOAggoKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCgkJaWYoICEkdGhpcy0+aXNfZmlsZSggJHBhdGggKSApewoJCQkvLyDjg5XjgqHjgqTjg6vjgYzjgarjgZHjgozjgbBmYWxzZeOCkui/lOOBmQoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQkvLyBOb3JtYWxpemUgJG9wdGlvbnMKCQlpZiggIWlzX2FycmF5KCRvcHRpb25zKSApewoJCQkkb3B0aW9ucyA9IGFycmF5KCk7CgkJfQoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cyggJ2NoYXJzZXQnLCAkb3B0aW9ucyApICl7ICRvcHRpb25zWydjaGFyc2V0J10gPSBudWxsOyB9CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCAnZGVsaW1pdGVyJywgJG9wdGlvbnMgKSApeyAkb3B0aW9uc1snZGVsaW1pdGVyJ10gPSBudWxsOyB9CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCAnZW5jbG9zdXJlJywgJG9wdGlvbnMgKSApeyAkb3B0aW9uc1snZW5jbG9zdXJlJ10gPSBudWxsOyB9CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCAnc2l6ZScsICRvcHRpb25zICkgKXsgJG9wdGlvbnNbJ3NpemUnXSA9IG51bGw7IH0KCQlpZiggIWFycmF5X2tleV9leGlzdHMoICdjaGFyc2V0JywgJG9wdGlvbnMgKSApeyAkb3B0aW9uc1snY2hhcnNldCddID0gbnVsbDsgfQoKCQlpZiggIXN0cmxlbiggQCRvcHRpb25zWydkZWxpbWl0ZXInXSApICkgICAgeyAkb3B0aW9uc1snZGVsaW1pdGVyJ10gPSAnLCc7IH0KCQlpZiggIXN0cmxlbiggQCRvcHRpb25zWydlbmNsb3N1cmUnXSApICkgICAgeyAkb3B0aW9uc1snZW5jbG9zdXJlJ10gPSAnIic7IH0KCQlpZiggIXN0cmxlbiggQCRvcHRpb25zWydzaXplJ10gKSApICAgICAgICAgeyAkb3B0aW9uc1snc2l6ZSddID0gMTAwMDA7IH0KCQlpZiggIXN0cmxlbiggQCRvcHRpb25zWydjaGFyc2V0J10gKSApICAgICAgeyAkb3B0aW9uc1snY2hhcnNldCddID0gJ1VURi04JzsgfS8v4oaQQ1NW44Gu5paH5a2X44K744OD44OICgoJCSRSVE4gPSBhcnJheSgpOwoJCSRmcCA9IGZvcGVuKCAkcGF0aCwgJ3InICk7CgkJaWYoICFpc19yZXNvdXJjZSggJGZwICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJd2hpbGUoICRTTU1FTU8gPSBmZ2V0Y3N2KCAkZnAgLCBpbnR2YWwoICRvcHRpb25zWydzaXplJ10gKSAsICRvcHRpb25zWydkZWxpbWl0ZXInXSAsICRvcHRpb25zWydlbmNsb3N1cmUnXSApICl7CgkJCWZvcmVhY2goICRTTU1FTU8gYXMgJGtleT0+JHJvdyApewoJCQkJJFNNTUVNT1ska2V5XSA9IG1iX2NvbnZlcnRfZW5jb2RpbmcoICRyb3cgLCBtYl9pbnRlcm5hbF9lbmNvZGluZygpICwgJG9wdGlvbnNbJ2NoYXJzZXQnXS4nLFVURi04LFNKSVMtd2luLGV1Y0pQLXdpbixTSklTLEVVQy1KUCcgKTsKCQkJfQoJCQlhcnJheV9wdXNoKCAkUlROICwgJFNNTUVNTyApOwoJCX0KCQlmY2xvc2UoJGZwKTsKCQlyZXR1cm4gJFJUTjsKCX0gLy8gcmVhZF9jc3YoKQoKCS8qKgoJICog6YWN5YiX44KSQ1NW5b2i5byP44Gr5aSJ5o+b44GZ44KL44CCCgkgKgoJICog5pS56KGM44Kz44O844OJ44GvTEbjgaflh7rlipvjgZXjgozjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gYXJyYXkgJGFycmF5IDLmrKHlhYPphY3liJcKCSAqIEBwYXJhbSBhcnJheSAkb3B0aW9ucyDjgqrjg5fjgrfjg6fjg7MKCSAqIC0gY2hhcnNldCA9IOaWh+Wtl+OCu+ODg+ODiCjnnIHnlaXmmYLjgIFVVEYtOCkKCSAqIEByZXR1cm4gc3RyaW5nIOeUn+aIkOOBleOCjOOBn0NTVuW9ouW8j+OBruODhuOCreOCueODiAoJICovCglwdWJsaWMgZnVuY3Rpb24gbWtfY3N2KCAkYXJyYXkgLCAkb3B0aW9ucyA9IGFycmF5KCkgKXsKCQkvLyAkb3B0aW9uc1snY2hhcnNldCddIOOBr+OAgeWHuuWKm+OBleOCjOOCi0NTVuW9ouW8j+OBruaWh+Wtl+OCqOODs+OCs+ODvOODieOCkuaMh+WumuOBl+OBvuOBmeOAggoJCS8vIOecgeeVpeaZguOBryBVVEYtOCDjgavlpInmj5vjgZfjgabov5TjgZfjgb7jgZnjgIIKCQlpZiggIWlzX2FycmF5KCAkYXJyYXkgKSApeyAkYXJyYXkgPSBhcnJheSgpOyB9CgoJCS8vIE5vcm1hbGl6ZSAkb3B0aW9ucwoJCWlmKCAhaXNfYXJyYXkoJG9wdGlvbnMpICl7CgkJCSRvcHRpb25zID0gYXJyYXkoKTsKCQl9CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCAnY2hhcnNldCcsICRvcHRpb25zICkgKXsKCQkJJG9wdGlvbnNbJ2NoYXJzZXQnXSA9IG51bGw7CgkJfQoJCWlmKCAhc3RybGVuKCAkb3B0aW9uc1snY2hhcnNldCddICkgKXsKCQkJJG9wdGlvbnNbJ2NoYXJzZXQnXSA9ICdVVEYtOCc7CgkJfQoKCQkkUlROID0gJyc7CgkJZm9yZWFjaCggJGFycmF5IGFzICRMaW5lICl7CgkJCWlmKCBpc19udWxsKCAkTGluZSApICl7IGNvbnRpbnVlOyB9CgkJCWlmKCAhaXNfYXJyYXkoICRMaW5lICkgKXsgJExpbmUgPSBhcnJheSgpOyB9CgkJCWZvcmVhY2goICRMaW5lIGFzICRjZWxsICl7CgkJCQkkY2VsbCA9IG1iX2NvbnZlcnRfZW5jb2RpbmcoICRjZWxsICwgJG9wdGlvbnNbJ2NoYXJzZXQnXSAsIG1iX2ludGVybmFsX2VuY29kaW5nKCkuJyxVVEYtOCxTSklTLXdpbixldWNKUC13aW4sU0pJUyxFVUMtSlAnICk7CgkJCQlpZiggcHJlZ19tYXRjaCggJy8iLycgLCAkY2VsbCApICl7CgkJCQkJJGNlbGwgPSBwcmVnX3JlcGxhY2UoICcvIi8nICwgJyIiJyAsICRjZWxsKTsKCQkJCX0KCQkJCWlmKCBzdHJsZW4oICRjZWxsICkgKXsKCQkJCQkkY2VsbCA9ICciJy4kY2VsbC4nIic7CgkJCQl9CgkJCQkkUlROIC49ICRjZWxsLicsJzsKCQkJfQoJCQkkUlROID0gcHJlZ19yZXBsYWNlKCAnLywkLycgLCAnJyAsICRSVE4gKTsKCQkJJFJUTiAuPSAiXG4iOwoJCX0KCQlyZXR1cm4gJFJUTjsKCX0gLy8gbWtfY3N2KCkKCgkvKioKCSAqIOODleOCoeOCpOODq+OCkuikh+ijveOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGZyb20g44Kz44OU44O85YWD44OV44Kh44Kk44Or44Gu44OR44K5CgkgKiBAcGFyYW0gc3RyaW5nICR0byDjgrPjg5Tjg7zlhYjjga7jg5HjgrkKCSAqIEBwYXJhbSBpbnQgJHBlcm0g5L+d5a2Y44GZ44KL44OV44Kh44Kk44Or44Gr5LiO44GI44KL44OR44O844Of44OD44K344On44OzCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gY29weSggJGZyb20gLCAkdG8gLCAkcGVybSA9IG51bGwgKXsKCQkkZnJvbSA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRmcm9tKTsKCQkkdG8gICA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCR0byAgKTsKCgkJaWYoICEkdGhpcy0+aXNfZmlsZSggJGZyb20gKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAhJHRoaXMtPmlzX3JlYWRhYmxlKCAkZnJvbSApICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJHRvICkgKXsKCQkJLy8J44G+44Gj44Gf44GP5ZCM44GY44OV44Kh44Kk44Or44Gg44Gj44Gf5aC05ZCI44Gv44CB6KSH6KO944GX44Gq44GE44GndHJ1ZeOCkui/lOOBmeOAggoJCQlpZiggbWQ1X2ZpbGUoICRmcm9tICkgPT0gbWQ1X2ZpbGUoICR0byApICYmIGZpbGVzaXplKCAkZnJvbSApID09IGZpbGVzaXplKCAkdG8gKSApewoJCQkJcmV0dXJuIHRydWU7CgkJCX0KCQl9CgkJaWYoICFAY29weSggJGZyb20gLCAkdG8gKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCSR0aGlzLT5jaG1vZCggJHRvICwgJHBlcm0gKTsKCQlyZXR1cm4gdHJ1ZTsKCX0vL2NvcHkoKQoKCS8qKgoJICog44OH44Kj44Os44Kv44OI44Oq44KS5YaN5biw55qE44Gr6KSH6KO944GZ44KLKOS4i+WxpOODh+OCo+ODrOOCr+ODiOODquOCguWFqOOBpuOCs+ODlOODvCkKCSAqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgpLjgIHlkKvjgb7jgozjgovlhoXlrrnjgZTjgajopIfoo73jgZfjgb7jgZnjgIIKCSAqIOWPl+OBkeWPluOBo+OBn+ODkeOCueOBjOODleOCoeOCpOODq+OBruWgtOWQiOOBr+OAgeWNmOS9k+OBruODleOCoeOCpOODq+OBjOikh+ijveOBleOCjOOBvuOBmeOAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGZyb20g44Kz44OU44O85YWD44OV44Kh44Kk44Or44Gu44OR44K5CgkgKiBAcGFyYW0gc3RyaW5nICR0byDjgrPjg5Tjg7zlhYjjga7jg5HjgrkKCSAqIEBwYXJhbSBpbnQgJHBlcm0g5L+d5a2Y44GZ44KL44OV44Kh44Kk44Or44Gr5LiO44GI44KL44OR44O844Of44OD44K344On44OzCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gY29weV9yKCAkZnJvbSAsICR0byAsICRwZXJtID0gbnVsbCApewoJCSRmcm9tID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJGZyb20pOwoJCSR0byAgID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHRvICApOwoKCQkkcmVzdWx0ID0gdHJ1ZTsKCgkJaWYoICR0aGlzLT5pc19maWxlKCAkZnJvbSApICl7CgkJCWlmKCAkdGhpcy0+bWtkaXJfciggZGlybmFtZSggJHRvICkgKSApewoJCQkJaWYoICEkdGhpcy0+Y29weSggJGZyb20gLCAkdG8gLCAkcGVybSApICl7CgkJCQkJJHJlc3VsdCA9IGZhbHNlOwoJCQkJfQoJCQl9ZWxzZXsKCQkJCSRyZXN1bHQgPSBmYWxzZTsKCQkJfQoJCX1lbHNlaWYoICR0aGlzLT5pc19kaXIoICRmcm9tICkgKXsKCQkJaWYoICEkdGhpcy0+aXNfZGlyKCAkdG8gKSApewoJCQkJaWYoICEkdGhpcy0+bWtkaXJfciggJHRvICkgKXsKCQkJCQkkcmVzdWx0ID0gZmFsc2U7CgkJCQl9CgkJCX0KCQkJJGl0ZW1saXN0ID0gJHRoaXMtPmxzKCAkZnJvbSApOwoJCQlpZiggaXNfYXJyYXkoJGl0ZW1saXN0KSApewoJCQkJZm9yZWFjaCggJGl0ZW1saXN0IGFzICRMaW5lICl7CgkJCQkJaWYoICRMaW5lID09ICcuJyB8fCAkTGluZSA9PSAnLi4nICl7IGNvbnRpbnVlOyB9CgkJCQkJaWYoICR0aGlzLT5pc19kaXIoICRmcm9tLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgKSApewoJCQkJCQlpZiggJHRoaXMtPmlzX2ZpbGUoICR0by5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQl9ZWxzZWlmKCAhJHRoaXMtPmlzX2RpciggJHRvLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgKSApewoJCQkJCQkJaWYoICEkdGhpcy0+bWtkaXJfciggJHRvLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgKSApewoJCQkJCQkJCSRyZXN1bHQgPSBmYWxzZTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQlpZiggISR0aGlzLT5jb3B5X3IoICRmcm9tLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgLCAkdG8uRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSAsICRwZXJtICkgKXsKCQkJCQkJCSRyZXN1bHQgPSBmYWxzZTsKCQkJCQkJfQoJCQkJCQljb250aW51ZTsKCQkJCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZmlsZSggJGZyb20uRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSApICl7CgkJCQkJCWlmKCAhJHRoaXMtPmNvcHlfciggJGZyb20uRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSAsICR0by5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICwgJHBlcm0gKSApewoJCQkJCQkJJHJlc3VsdCA9IGZhbHNlOwoJCQkJCQl9CgkJCQkJCWNvbnRpbnVlOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCgkJcmV0dXJuICRyZXN1bHQ7Cgl9IC8vIGNvcHlfcigpCgoJLyoqCgkgKiDjg5Hjg7zjg5/jg4Pjgrfjg6fjg7PjgpLlpInmm7TjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRmaWxlcGF0aCDlr77osaHjga7jg5HjgrkKCSAqIEBwYXJhbSBpbnQgJHBlcm0g5LiO44GI44KL44OR44O844Of44OD44K344On44OzCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gY2htb2QoICRmaWxlcGF0aCwgJHBlcm0gPSBudWxsICl7CgkJJGZpbGVwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJGZpbGVwYXRoKTsKCQlpZiggIWZpbGVfZXhpc3RzKCRmaWxlcGF0aCkgKXsKCQkJcmV0dXJuOwoJCX0KCgkJaWYoIGlzX251bGwoICRwZXJtICkgKXsKCQkJaWYoICR0aGlzLT5pc19kaXIoICRmaWxlcGF0aCApICl7CgkJCQkkcGVybSA9ICR0aGlzLT5kZWZhdWx0X3Blcm1pc3Npb25bJ2RpciddOwoJCQl9ZWxzZXsKCQkJCSRwZXJtID0gJHRoaXMtPmRlZmF1bHRfcGVybWlzc2lvblsnZmlsZSddOwoJCQl9CgkJfQoJCWlmKCBpc19udWxsKCAkcGVybSApICl7CgkJCSRwZXJtID0gMDc3NTsgLy8g44Kz44Oz44OV44Kj44Kw44Gr6Kit5a6a44Oi44Os44GM44GC44Gj44Gf5aC05ZCICgkJfQoJCXJldHVybiBjaG1vZCggJGZpbGVwYXRoICwgJHBlcm0gKTsKCX0gLy8gY2htb2QoKQoKCS8qKgoJICog44OR44O844Of44OD44K344On44Oz44KS5YaN5biw55qE44Gr5aSJ5pu044GZ44KL44CCKOS4i+WxpOOBruODleOCoeOCpOODq+OChOODh+OCo+ODrOOCr+ODiOODquOCguWFqOOBpikKCSAqCgkgKiBgJHBlcm1fZmlsZWAg44GoIGAkcGVybV9kaXJgIOOBjOecgeeVpeOBleOCjOOBn+WgtOWQiOOBr+OAgeS7o+OCj+OCiuOBq+WIneacn+WMluaZguOBq+eZu+mMsuOBleOCjOOBn+ODh+ODleOCqeODq+ODiOOBruODkeODvOODn+ODg+OCt+ODp+ODs+OBjOS4juOBiOOCieOCjOOBvuOBmeOAggoJICoKCSAqIOesrDLlvJXmlbAgYCRwZXJtX2RpcmAg44GM55yB55Wl44GV44KM44CB5pyA5Yid44Gu5byV5pWwIGAkcGVybV9maWxlYCDjgaDjgZHjgYzkuI7jgYjjgonjgozjgZ/loLTlkIjjga/jgIEg44OV44Kh44Kk44Or44Go44OH44Kj44Os44Kv44OI44Oq44Gu5Lih5pa544GrIGAkcGVybV9maWxlYCDjgYzpgannlKjjgZXjgozjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRmaWxlcGF0aCDlr77osaHjga7jg5HjgrkKCSAqIEBwYXJhbSBpbnQgJHBlcm1fZmlsZSDjg5XjgqHjgqTjg6vjgavkuI7jgYjjgovjg5Hjg7zjg5/jg4Pjgrfjg6fjg7MgKOecgeeVpeWPrykKCSAqIEBwYXJhbSBpbnQgJHBlcm1fZGlyIOODh+OCo+ODrOOCr+ODiOODquOBq+S4juOBiOOCi+ODkeODvOODn+ODg+OCt+ODp+ODsyAo55yB55Wl5Y+vKQoJICogQHJldHVybiBib29sIOaIkOWKn+aZguOBqyBgdHJ1ZWDjgIHlpLHmlZfmmYLjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNobW9kX3IoICRmaWxlcGF0aCwgJHBlcm1fZmlsZSA9IG51bGwsICRwZXJtX2RpciA9IG51bGwgKXsKCQkkZmlsZXBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkZmlsZXBhdGgpOwoJCWlmKCAhaXNfbnVsbCggJHBlcm1fZmlsZSApICYmIGlzX251bGwoJHBlcm1fZGlyKSApewoJCQkvLyDjg5Hjg7zjg5/jg4Pjgrfjg6fjg7PoqK3lrprlgKTjgYwx44Gk44Gg44GR5LiO44GI44KJ44KM44Gf5aC05ZCI44Gr44Gv44CBCgkJCS8vIOODleOCoeOCpOODq+OBq+OCguODh+OCo+ODrOOCr+ODiOODquOBq+OCgumBqeeUqOOBmeOCi+OAggoJCQkkcGVybV9kaXIgPSAkcGVybV9maWxlOwoJCX0KCgkJJHJlc3VsdCA9IHRydWU7CgoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJGZpbGVwYXRoICkgKXsKCQkJaWYoICEkdGhpcy0+Y2htb2QoICRmaWxlcGF0aCwgJHBlcm1fZmlsZSApICl7CgkJCQkkcmVzdWx0ID0gZmFsc2U7CgkJCX0KCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZGlyKCAkZmlsZXBhdGggKSApewoJCQkkaXRlbWxpc3QgPSAkdGhpcy0+bHMoICRmaWxlcGF0aCApOwoJCQlpZiggaXNfYXJyYXkoJGl0ZW1saXN0KSApewoJCQkJZm9yZWFjaCggJGl0ZW1saXN0IGFzICRMaW5lICl7CgkJCQkJaWYoICRMaW5lID09ICcuJyB8fCAkTGluZSA9PSAnLi4nICl7IGNvbnRpbnVlOyB9CgkJCQkJaWYoICR0aGlzLT5pc19kaXIoICRmaWxlcGF0aC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCQkJaWYoICEkdGhpcy0+Y2htb2QoICRmaWxlcGF0aC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lLCAkcGVybV9kaXIgKSApewoJCQkJCQkJJHJlc3VsdCA9IGZhbHNlOwoJCQkJCQl9CgkJCQkJCWlmKCAhJHRoaXMtPmNobW9kX3IoICRmaWxlcGF0aC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lLCAkcGVybV9maWxlLCAkcGVybV9kaXIgKSApewoJCQkJCQkJJHJlc3VsdCA9IGZhbHNlOwoJCQkJCQl9CgkJCQkJCWNvbnRpbnVlOwoJCQkJCX1lbHNlaWYoICR0aGlzLT5pc19maWxlKCAkZmlsZXBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSApICl7CgkJCQkJCWlmKCAhJHRoaXMtPmNobW9kKCAkZmlsZXBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSwgJHBlcm1fZmlsZSApICl7CgkJCQkJCQkkcmVzdWx0ID0gZmFsc2U7CgkJCQkJCX0KCQkJCQkJY29udGludWU7CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoKCQlyZXR1cm4gJHJlc3VsdDsKCX0gLy8gY2htb2RfcigpCgoKCS8qKgoJICog44OR44O844Of44OD44K344On44Oz5oOF5aCx44KS6Kq/44G544CBM+ahgeOBruaVsOWtl+OBp+i/lOOBmeOAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcmV0dXJuIGludHxib29sIOaIkOWKn+aZguOBqyAz5qGB44Gu5pWw5a2X44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfcGVybWlzc2lvbiggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCgkJaWYoICFmaWxlX2V4aXN0cyggJHBhdGggKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCSRwZXJtID0gcnRyaW0oIHNwcmludGYoICIlb1xuIiAsIGZpbGVwZXJtcyggJHBhdGggKSApICk7CgkJJHN0YXJ0ID0gc3RybGVuKCAkcGVybSApIC0gMzsKCQlyZXR1cm4gc3Vic3RyKCAkcGVybSAsICRzdGFydCAsIDMgKTsKCX0vL2dldF9wZXJtaXNzaW9uKCkKCgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgavjgYLjgovjg5XjgqHjgqTjg6vlkI3jga7jg6rjgrnjg4jjgpLphY3liJfjgafov5TjgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeODh+OCo+ODrOOCr+ODiOODquOBruODkeOCuQoJICogQHJldHVybiBhcnJheXxib29sIOaIkOWKn+aZguOBq+ODleOCoeOCpOODq+OBvuOBn+OBr+ODh+OCo+ODrOOCr+ODiOODquWQjeOBruS4gOimp+OCkuagvOe0jeOBl+OBn+mFjeWIl+OAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gbHMoJHBhdGgpewoJCSRwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGgpOwoKCQlpZiggJHBhdGggPT09IGZhbHNlICl7IHJldHVybiBmYWxzZTsgfQoJCWlmKCAhZmlsZV9leGlzdHMoICRwYXRoICkgKXsgcmV0dXJuIGZhbHNlOyB9CgkJaWYoICEkdGhpcy0+aXNfZGlyKCAkcGF0aCApICl7IHJldHVybiBmYWxzZTsgfQoKCQkkUlROID0gYXJyYXkoKTsKCQkkZHIgPSBAb3BlbmRpcigkcGF0aCk7CgkJd2hpbGUoICggJGVudCA9IHJlYWRkaXIoICRkciApICkgIT09IGZhbHNlICl7CgkJCS8vIEN1cnJlbnREaXLjgahQYXJlbnREaXLjga/lkKvjgoHjgarjgYQKCQkJaWYoICRlbnQgPT0gJy4nIHx8ICRlbnQgPT0gJy4uJyApeyBjb250aW51ZTsgfQoJCQlhcnJheV9wdXNoKCAkUlROICwgJGVudCApOwoJCX0KCQljbG9zZWRpcigkZHIpOwoJCWlmKCBzdHJsZW4oICR0aGlzLT5maWxlc3lzdGVtX2VuY29kaW5nICkgKXsKCQkJLy9QeEZXIDAuNi40IOi/veWKoAoJCQkkUlROID0gQCR0aGlzLT5jb252ZXJ0X2ZpbGVzeXN0ZW1fZW5jb2RpbmcoICRSVE4gKTsKCQl9CgkJdXNvcnQoJFJUTiwgInN0cm5hdGNtcCIpOwoJCXJldHVybgkkUlROOwoJfS8vbHMoKQoKCS8qKgoJICog44OH44Kj44Os44Kv44OI44Oq44Gu5YaF6YOo44KS5q+U6LyD44GX44CBJGNvbXBhcmlzb27jgavlkKvjgb7jgozjgarjgYTopoHntKDjgpIkdGFyZ2V044GL44KJ5YmK6Zmk44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkdGFyZ2V0IOOCr+ODquODvOODi+ODs+OCsOWvvuixoeOBruODh+OCo+ODrOOCr+ODiOODquODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkY29tcGFyaXNvbiDmr5TovIPjgZnjgovjg4fjgqPjg6zjgq/jg4jjg6rjga7jg5HjgrkKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYIgYHRydWVg44CB5aSx5pWX5pmCIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBjb21wYXJlX2FuZF9jbGVhbnVwKCAkdGFyZ2V0ICwgJGNvbXBhcmlzb24gKXsKCQlpZiggaXNfbnVsbCggJGNvbXBhcmlzb24gKSB8fCBpc19udWxsKCAkdGFyZ2V0ICkgKXsgcmV0dXJuIGZhbHNlOyB9CgoJCSR0YXJnZXQgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkdGFyZ2V0KTsKCQkkY29tcGFyaXNvbiA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRjb21wYXJpc29uKTsKCgkJaWYoICFmaWxlX2V4aXN0cyggJGNvbXBhcmlzb24gKSAmJiBmaWxlX2V4aXN0cyggJHRhcmdldCApICl7CgkJCSR0aGlzLT5ybSggJHRhcmdldCApOwoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgoJCWlmKCAkdGhpcy0+aXNfZGlyKCAkdGFyZ2V0ICkgKXsKCQkJJGZsaXN0ID0gJHRoaXMtPmxzKCAkdGFyZ2V0ICk7CgkJfWVsc2V7CgkJCXJldHVybiB0cnVlOwoJCX0KCgkJaWYoIGlzX2FycmF5KCRmbGlzdCkgKXsKCQkJZm9yZWFjaCAoICRmbGlzdCBhcyAkTGluZSApewoJCQkJaWYoICRMaW5lID09ICcuJyB8fCAkTGluZSA9PSAnLi4nICl7IGNvbnRpbnVlOyB9CgkJCQkkdGhpcy0+Y29tcGFyZV9hbmRfY2xlYW51cCggJHRhcmdldC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICwgJGNvbXBhcmlzb24uRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSApOwoJCQl9CgkJfQoKCQlyZXR1cm4gdHJ1ZTsKCX0vL2NvbXBhcmVfYW5kX2NsZWFudXAoKQoKCS8qKgoJICog44OH44Kj44Os44Kv44OI44Oq44KS5ZCM5pyf44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aF9zeW5jX2Zyb20g5ZCM5pyf5YWD44OH44Kj44Os44Kv44OI44OqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoX3N5bmNfdG8g5ZCM5pyf5YWI44OH44Kj44Os44Kv44OI44OqCgkgKiBAcmV0dXJuIGJvb2wg5bi444GrIGB0cnVlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHN5bmNfZGlyKCAkcGF0aF9zeW5jX2Zyb20gLCAkcGF0aF9zeW5jX3RvICl7CgkJJHRoaXMtPmNvcHlfciggJHBhdGhfc3luY19mcm9tICwgJHBhdGhfc3luY190byApOwoJCSR0aGlzLT5jb21wYXJlX2FuZF9jbGVhbnVwKCAkcGF0aF9zeW5jX3RvICwgJHBhdGhfc3luY19mcm9tICk7CgkJcmV0dXJuIHRydWU7Cgl9Ly9zeW5jX2RpcigpCgoJLyoqCgkgKiDmjIflrprjgZXjgozjgZ/jg4fjgqPjg6zjgq/jg4jjg6rku6XkuIvjga7jgIHlhajjgabjga7nqbrjgaPjgb3jga7jg4fjgqPjg6zjgq/jg4jjg6rjgpLliYrpmaTjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOODh+OCo+ODrOOCr+ODiOODquODkeOCuQoJICogQHBhcmFtIGFycmF5ICRvcHRpb25zIOOCquODl+OCt+ODp+ODswoJICogQHJldHVybiBib29sIOaIkOWKn+aZgiBgdHJ1ZWDjgIHlpLHmlZfmmYIgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJlbW92ZV9lbXB0eV9kaXIoICRwYXRoICwgJG9wdGlvbnMgPSBhcnJheSgpICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgoJCWlmKCAhJHRoaXMtPmlzX3dyaXRhYmxlKCAkcGF0aCApICl7IHJldHVybiBmYWxzZTsgfQoJCWlmKCAhJHRoaXMtPmlzX2RpciggJHBhdGggKSApeyByZXR1cm4gZmFsc2U7IH0KCQlpZiggJHRoaXMtPmlzX2ZpbGUoICRwYXRoICkgfHwgJHRoaXMtPmlzX2xpbmsoICRwYXRoICkgKXsgcmV0dXJuIGZhbHNlOyB9CgkJJHBhdGggPSBAcmVhbHBhdGgoICRwYXRoICk7CgkJaWYoICRwYXRoID09PSBmYWxzZSApeyByZXR1cm4gZmFsc2U7IH0KCgkJLy8gTm9ybWFsaXplICRvcHRpb25zCgkJaWYoICFpc19hcnJheSgkb3B0aW9ucykgKXsKCQkJJG9wdGlvbnMgPSBhcnJheSgpOwoJCX0KCQlpZiggIWFycmF5X2tleV9leGlzdHMoICdkZXB0aCcsICRvcHRpb25zICkgKXsKCQkJJG9wdGlvbnNbJ2RlcHRoJ10gPSBudWxsOwoJCX0KCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkvLyDmrKHjga7pmo7lsaTjgpLlh6bnkIbjgZnjgovjgYvjganjgYbjgYvjga7jgrnjgqTjg4Pjg4EKCQkkc3dpdGNoX2RvbmV4dCA9IGZhbHNlOwoJCWlmKCBpc19udWxsKCAkb3B0aW9uc1snZGVwdGgnXSApICl7CgkJCS8vIOa3seOBleOBruaMh+WumuOBjOOBquOBkeOCjOOBsOaOmOOCiwoJCQkkc3dpdGNoX2RvbmV4dCA9IHRydWU7CgkJfWVsc2VpZiggIWlzX2ludCggJG9wdGlvbnNbJ2RlcHRoJ10gKSApewoJCQkvLyDmjIflrprjgYxudWxs44Gn44KC5pWw5YCk44Gn44KC44Gq44GR44KM44Gw5o6Y44KJ44Gq44GECgkJCSRzd2l0Y2hfZG9uZXh0ID0gZmFsc2U7CgkJfWVsc2VpZiggJG9wdGlvbnNbJ2RlcHRoJ10gPD0gMCApewoJCQkvLyDmjIflrprjgYzjgrzjg63ku6XkuIvjgarjgonjgIHku4rlm57jga7lh6bnkIbjgpLjgZfjgabntYLkuoYKCQkJJHN3aXRjaF9kb25leHQgPSBmYWxzZTsKCQl9ZWxzZWlmKCAkb3B0aW9uc1snZGVwdGgnXSA+IDAgKXsKCQkJLy8g5oyH5a6a44GM5q2j44Gu5pWwKOOCvOODreOBr+WQq+OBvuOBquOBhCnjgarjgonjgIHmjpjjgosKCQkJJG9wdGlvbnNbJ2RlcHRoJ10gLS07CgkJCSRzd2l0Y2hfZG9uZXh0ID0gdHJ1ZTsKCQl9ZWxzZXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkvLyAvIOasoeOBrumajuWxpOOCkuWHpueQhuOBmeOCi+OBi+OBqeOBhuOBi+OBruOCueOCpOODg+ODgQoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoJCSRmbGlzdCA9ICR0aGlzLT5scyggJHBhdGggKTsKCQlpZiggIWNvdW50KCAkZmxpc3QgKSApewoJCQkvLyDplovjgYTjgZ/jg4fjgqPjg6zjgq/jg4jjg6rjga7kuK3ouqvjgYwKCQkJLy8gIi4iIOOBqCAiLi4iIOOBruOBv+OBoOOBo+OBn+WgtOWQiAoJCQkvLyDliYrpmaTjgZfjgabntYLkuoYKCQkJJHJlc3VsdCA9IEBybWRpciggJHBhdGggKTsKCQkJcmV0dXJuCSRyZXN1bHQ7CgkJfQoJCSRhbGl2ZSA9IGZhbHNlOwoJCWZvcmVhY2ggKCAkZmxpc3QgYXMgJExpbmUgKXsKCQkJaWYoICRMaW5lID09ICcuJyB8fCAkTGluZSA9PSAnLi4nICl7IGNvbnRpbnVlOyB9CgkJCWlmKCAkdGhpcy0+aXNfbGluayggJHBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSApICl7CgkJCQkvLyDjgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jga/nhKHoppbjgZnjgovjgIIKCQkJfWVsc2VpZiggJHRoaXMtPmlzX2RpciggJHBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSApICl7CgkJCQlpZiggJHN3aXRjaF9kb25leHQgKXsKCQkJCQkvLyDjgZXjgonjgavmjpjjgozjgajmjIfku6TjgYzjgYLjgozjgbDjgIHmjpjjgovjgIIKCQkJCQkkdGhpcy0+cmVtb3ZlX2VtcHR5X2RpciggJHBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSAsICRvcHRpb25zICk7CgkJCQl9CgkJCX0KCQkJaWYoIGZpbGVfZXhpc3RzKCAkcGF0aC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCSRhbGl2ZSA9IHRydWU7CgkJCX0KCQl9CgkJaWYoICEkYWxpdmUgKXsKCQkJJHJlc3VsdCA9IEBybWRpciggJHBhdGggKTsKCQkJcmV0dXJuCSRyZXN1bHQ7CgkJfQoJCXJldHVybiB0cnVlOwoJfS8vcmVtb3ZlX2VtcHR5X2RpcigpCgoKCS8qKgoJICog5oyH5a6a44GV44KM44GfMuOBpOOBruODh+OCo+ODrOOCr+ODiOODquOBruWGheWuueOCkuavlOi8g+OBl+OAgeOBvuOBo+OBn+OBj+WQjOOBmOOBi+OBqeOBhuOBi+iqv+OBueOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGRpcl9hIOavlOi8g+WvvuixoeODh+OCo+ODrOOCr+ODiOODqkEKCSAqIEBwYXJhbSBzdHJpbmcgJGRpcl9iIOavlOi8g+WvvuixoeODh+OCo+ODrOOCr+ODiOODqkIKCSAqIEBwYXJhbSBhcnJheSAkb3B0aW9ucyDjgqrjg5fjgrfjg6fjg7MKCSAqIDxkbD4KCSAqICAgPGR0PmJvb2wgJG9wdGlvbnNbJ2NvbXBhcmVfZmlsZWNvbnRlbnQnXTwvZHQ+CgkgKiAJICAgPGRkPuODleOCoeOCpOODq+OBruS4rei6q+OCguavlOi8g+OBmeOCi+OBi++8nzwvZGQ+CgkgKiAgIDxkdD5ib29sICRvcHRpb25zWydjb21wYXJlX2VtcHR5ZGlyJ108L2R0PgoJICogCSAgIDxkZD7nqbrjgaPjgb3jga7jg4fjgqPjg6zjgq/jg4jjg6rjga7mnInnhKHjgoLoqZXkvqHjgavlkKvjgoHjgovjgYvvvJ88L2RkPgoJICogPC9kbD4KCSAqIEByZXR1cm4gYm9vbCDlkIzjgZjloLTlkIjjgasgYHRydWVg44CB55Ww44Gq44KL5aC05ZCI44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBjb21wYXJlX2RpciggJGRpcl9hICwgJGRpcl9iICwgJG9wdGlvbnMgPSBhcnJheSgpICl7CgoJCWlmKCBzdHJsZW4oICR0aGlzLT5maWxlc3lzdGVtX2VuY29kaW5nICkgKXsKCQkJLy9QeEZXIDAuNi40IOi/veWKoAoJCQkkZGlyX2EgPSBAJHRoaXMtPmNvbnZlcnRfZmlsZXN5c3RlbV9lbmNvZGluZyggJGRpcl9hICk7CgkJCSRkaXJfYiA9IEAkdGhpcy0+Y29udmVydF9maWxlc3lzdGVtX2VuY29kaW5nKCAkZGlyX2IgKTsKCQl9CgoJCWlmKCAoICR0aGlzLT5pc19maWxlKCAkZGlyX2EgKSAmJiAhJHRoaXMtPmlzX2ZpbGUoICRkaXJfYiApICkgfHwgKCAhJHRoaXMtPmlzX2ZpbGUoICRkaXJfYSApICYmICR0aGlzLT5pc19maWxlKCAkZGlyX2IgKSApICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJaWYoICggKCAkdGhpcy0+aXNfZGlyKCAkZGlyX2EgKSAmJiAhJHRoaXMtPmlzX2RpciggJGRpcl9iICkgKSB8fCAoICEkdGhpcy0+aXNfZGlyKCAkZGlyX2EgKSAmJiAkdGhpcy0+aXNfZGlyKCAkZGlyX2IgKSApICkgJiYgJG9wdGlvbnNbJ2NvbXBhcmVfZW1wdHlkaXInXSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQkvLyBOb3JtYWxpemUgJG9wdGlvbnMKCQlpZiggIWlzX2FycmF5KCRvcHRpb25zKSApewoJCQkkb3B0aW9ucyA9IGFycmF5KCk7CgkJfQoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cyggJ2NvbXBhcmVfZmlsZWNvbnRlbnQnLCAkb3B0aW9ucyApICl7CgkJCSRvcHRpb25zWydjb21wYXJlX2ZpbGVjb250ZW50J10gPSBudWxsOwoJCX0KCQlpZiggIWFycmF5X2tleV9leGlzdHMoICdjb21wYXJlX2VtcHR5ZGlyJywgJG9wdGlvbnMgKSApewoJCQkkb3B0aW9uc1snY29tcGFyZV9lbXB0eWRpciddID0gbnVsbDsKCQl9CgoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJGRpcl9hICkgJiYgJHRoaXMtPmlzX2ZpbGUoICRkaXJfYiApICl7CgkJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJCS8vIOS4oeaWueODleOCoeOCpOODq+OBoOOBo+OBn+OCiQoJCQlpZiggJG9wdGlvbnNbJ2NvbXBhcmVfZmlsZWNvbnRlbnQnXSApewoJCQkJLy8g44OV44Kh44Kk44Or44Gu5YaF5a6544KC5q+U6LyD44GZ44KL6Kit5a6a44Gu5aC05ZCI44CBCgkJCQkvLyDjgZ3jgozjgZ7jgozjg5XjgqHjgqTjg6vjgpLplovjgYTjgablkIzjgZjjgYvjganjgYbjgYvjgpLmr5TovIMKCQkJCSRmaWxlY29udGVudF9hID0gJHRoaXMtPnJlYWRfZmlsZSggJGRpcl9hICk7CgkJCQkkZmlsZWNvbnRlbnRfYiA9ICR0aGlzLT5yZWFkX2ZpbGUoICRkaXJfYiApOwoJCQkJaWYoICRmaWxlY29udGVudF9hICE9PSAkZmlsZWNvbnRlbnRfYiApewoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJfQoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgoJCWlmKCAkdGhpcy0+aXNfZGlyKCAkZGlyX2EgKSB8fCAkdGhpcy0+aXNfZGlyKCAkZGlyX2IgKSApewoJCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQkvLyDkuKHmlrnjg4fjgqPjg6zjgq/jg4jjg6rjgaDjgaPjgZ/jgokKCQkJJGNvbnRsaXN0X2EgPSAkdGhpcy0+bHMoICRkaXJfYSApOwoJCQkkY29udGxpc3RfYiA9ICR0aGlzLT5scyggJGRpcl9iICk7CgoJCQlpZiggJG9wdGlvbnNbJ2NvbXBhcmVfZW1wdHlkaXInXSAmJiAkY29udGxpc3RfYSAhPT0gJGNvbnRsaXN0X2IgKXsKCQkJCS8vIOepuuOBo+OBveOBruODh+OCo+ODrOOCr+ODiOODquOCguWOs+WvhuOBq+ipleS+oeOBmeOCi+ioreWumuOBp+OAgQoJCQkJLy8g44OH44Kj44Os44Kv44OI44Oq5YaF44Gu6KaB57Sg6YWN5YiX44Gu5YaF5a6544GM55Ww44Gq44KM44Gw44CBZmFsc2XjgIIKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoKCQkJJGRvbmUgPSBhcnJheSgpOwoJCQlmb3JlYWNoKCAkY29udGxpc3RfYSBhcyAkTGluZSApewoJCQkJLy8gQeOCkuODgeOCp+ODg+OCrwoJCQkJaWYoICRMaW5lID09ICcuLicgfHwgJExpbmUgPT0gJy4nICl7IGNvbnRpbnVlOyB9CgkJCQlpZiggISR0aGlzLT5jb21wYXJlX2RpciggJGRpcl9hLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgLCAkZGlyX2IuRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSAsICRvcHRpb25zICkgKXsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCQkkZG9uZVskTGluZV0gPSB0cnVlOwoJCQl9CgoJCQlmb3JlYWNoKCAkY29udGxpc3RfYiBhcyAkTGluZSApewoJCQkJLy8gQeOBq+WQq+OBvuOCjOOBquOBi+OBo+OBn0LjgpLjg4Hjgqfjg4Pjgq8KCQkJCWlmKCAkZG9uZVskTGluZV0gKXsgY29udGludWU7IH0KCQkJCWlmKCAkTGluZSA9PSAnLi4nIHx8ICRMaW5lID09ICcuJyApeyBjb250aW51ZTsgfQoJCQkJaWYoICEkdGhpcy0+Y29tcGFyZV9kaXIoICRkaXJfYS5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICwgJGRpcl9iLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgLCAkb3B0aW9ucyApICl7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQkJJGRvbmVbJExpbmVdID0gdHJ1ZTsKCQkJfQoKCQl9CgoJCXJldHVybiB0cnVlOwoJfS8vY29tcGFyZV9kaXIoKQoKCgkvKioKCSAqIOOCteODvOODkOOBjFVOSVjjg5HjgrnjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcmV0dXJuIGJvb2wgVU5JWOODkeOCueOBquOCiSBgdHJ1ZWDjgIHjgZ3jgozku6XlpJbjgarjgokgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX3VuaXgoKXsKCQlpZiggRElSRUNUT1JZX1NFUEFSQVRPUiA9PSAnLycgKXsKCQkJcmV0dXJuIHRydWU7CgkJfQoJCXJldHVybiBmYWxzZTsKCX0vL2lzX3VuaXgoKQoKCS8qKgoJICog44K144O844OQ44GMV2luZG93c+ODkeOCueOBi+iqv+OBueOCi+OAggoJICoKCSAqIEByZXR1cm4gYm9vbCBXaW5kb3dz44OR44K544Gq44KJIGB0cnVlYOOAgeOBneOCjOS7peWkluOBquOCiSBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNfd2luZG93cygpewoJCWlmKCBESVJFQ1RPUllfU0VQQVJBVE9SID09ICdcXCcgKXsKCQkJcmV0dXJuIHRydWU7CgkJfQoJCXJldHVybiBmYWxzZTsKCX0vL2lzX3dpbmRvd3MoKQoKCgkvKioKCSAqIOODkeOCueOCkuato+imj+WMluOBmeOCi+OAggoJICoKCSAqIOWPl+OBkeWPluOBo+OBn+ODkeOCueOCkuOAgeOCueODqeODg+OCt+ODpeWMuuWIh+OCiuOBruihqOePvuOBq+ato+imj+WMluOBl+OBvuOBmeOAggoJICogV2luZG93c+OBruODnOODquODpeODvOODoOODqeODmeODq+OBjOS7mOOBhOOBpuOBhOOCi+WgtOWQiOOBr+WJiumZpOOBl+OBvuOBmeOAggoJICogVVJJ44K544Kt44O844OgKGh0dHAsIGh0dHBzLCBmdHAg44Gq44GpKSDjgaflp4vjgb7jgovloLTlkIjjgIEy44Gk44Gu44K544Op44OD44K344Ol44Gn5aeL44G+44KL5aC05ZCIKGAvL3d3dy5leGFtcGxlLmNvbS9hYmMvYCDjgarjgakp44CB44GT44KM44KS5q6L44GX44Gm5q2j6KaP5YyW44GX44G+44GZ44CCCgkgKgoJICogIC0g5L6L77yaIGBcYVxiXGMuaHRtbGAg4oaSIGAvYS9iL2MuaHRtbGAg44OQ44OD44Kv44K544Op44OD44K344Ol44Gv44K544Op44OD44K344Ol44Gr572u44GN5o+b44GI44KJ44KM44G+44GZ44CCCgkgKiAgLSDkvovvvJogYC9hL2IvLy8vYy5odG1sYCDihpIgYC9hL2IvYy5odG1sYCDkvZnoqIjjgarjgrnjg6njg4Pjgrfjg6Xjga/jgb7jgajjgoHjgonjgozjgb7jgZnjgIIKCSAqICAtIOS+i++8miBgQzpcYVxiXGMuaHRtbGAg4oaSIGAvYS9iL2MuaHRtbGAg44Oc44Oq44Ol44O844Og44Op44OZ44Or44Gv5YmK6Zmk44GV44KM44G+44GZ44CCCgkgKiAgLSDkvovvvJogYGh0dHA6Ly9hL2IvYy5odG1sYCDihpIgYGh0dHA6Ly9hL2IvYy5odG1sYCBVUknjgrnjgq3jg7zjg6Djga/mrovjgZXjgozjgb7jgZnjgIIKCSAqICAtIOS+i++8miBgLy9hL2IvYy5odG1sYCDihpIgYC8vYS9iL2MuaHRtbGAg44OJ44Oh44Kk44Oz5ZCN44Gv5q6L44GV44KM44G+44GZ44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDmraPopo/ljJbjgZnjgovjg5HjgrkKCSAqIEByZXR1cm4gc3RyaW5nIOato+imj+WMluOBleOCjOOBn+ODkeOCuQoJICovCglwdWJsaWMgZnVuY3Rpb24gbm9ybWFsaXplX3BhdGgoJHBhdGgpewoJCSRwYXRoID0gdHJpbSgkcGF0aCk7CgkJJHBhdGggPSAkdGhpcy0+Y29udmVydF9lbmNvZGluZyggJHBhdGggKTsvL+aWh+Wtl+OCs+ODvOODieOCkuaPg+OBiOOCiwoJCSRwYXRoID0gcHJlZ19yZXBsYWNlKCAnL1xcL3xcXFxcL3MnLCAnLycsICRwYXRoICk7Ly/jg5Djg4Pjgq/jgrnjg6njg4Pjgrfjg6XjgpLjgrnjg6njg4Pjgrfjg6Xjgavnva7jgY3mj5vjgYjjgovjgIIKCQkkcGF0aCA9IHByZWdfcmVwbGFjZSggJy9eW0EtWl1cXDpcXC8vcycsICcvJywgJHBhdGggKTsvL1dpbmRvd3Pjga7jg5zjg6rjg6Xjg7zjg6Djg6njg5njg6vjgpLliYrpmaQKCQkkcHJlZml4ID0gJyc7CgkJaWYoIHByZWdfbWF0Y2goICcvXigoPzpbYS16QS1aMC05XStcXDopP1xcLykoXFwvLiopJC8nLCAkcGF0aCwgJG1hdGNoZWQgKSApewoJCQkkcHJlZml4ID0gJG1hdGNoZWRbMV07CgkJCSRwYXRoID0gJG1hdGNoZWRbMl07CgkJfQoJCSRwYXRoID0gcHJlZ19yZXBsYWNlKCAnL1xcLysvcycsICcvJywgJHBhdGggKTsvL+mHjeikh+OBmeOCi+OCueODqeODg+OCt+ODpeOCkjHjgaTjgavjgb7jgajjgoHjgosKCQlyZXR1cm4gJHByZWZpeC4kcGF0aDsKCX0KCgoJLyoqCgkgKiDjg5HjgrnjgpJPU+OBruaomea6lueahOOBquihqOePvuOBq+WkieaPm+OBmeOCi+OAggoJICoKCSAqIOWPl+OBkeWPluOBo+OBn+ODkeOCueOCkuOAgU9T44Gu5qiZ5rqW55qE44Gq6KGo54++44Gr5aSJ5o+b44GX44G+44GZ44CCCgkgKiAtIOOCueODqeODg+OCt+ODpeOBqOODkOODg+OCr+OCueODqeODg+OCt+ODpeOBrumBleOBhOOCkuWQuOWPjuOBl+OAgWBESVJFQ1RPUllfU0VQQVJBVE9SYCDjgavnva7jgY3mj5vjgYjjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOODreODvOOCq+ODqeOCpOOCuuOBmeOCi+ODkeOCuQoJICogQHJldHVybiBzdHJpbmcg44Ot44O844Kr44Op44Kk44K644GV44KM44Gf44OR44K5CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBsb2NhbGl6ZV9wYXRoKCRwYXRoKXsKCQkkcGF0aCA9ICR0aGlzLT5jb252ZXJ0X2ZpbGVzeXN0ZW1fZW5jb2RpbmcoICRwYXRoICk7Ly/mloflrZfjgrPjg7zjg4njgpLmj4PjgYjjgosKCQkkcGF0aCA9IHByZWdfcmVwbGFjZSggJy9cXC98XFxcXC9zJywgJy8nLCAkcGF0aCApOy8v5LiA5pem44K544Op44OD44K344Ol44Gr572u44GN5o+b44GI44KL44CCCgkJaWYoICR0aGlzLT5pc191bml4KCkgKXsKCQkJLy8gV2luZG93c+S7peWkluOBoOOBo+OBn+WgtOWQiOOBq+OAgeODnOODquODpeODvOODoOODqeODmeODq+OCkuWPl+OBkeWPluOBo+OBn+OCieWJiumZpOOBmeOCiwoJCQkkcGF0aCA9IHByZWdfcmVwbGFjZSggJy9eW0EtWl1cXDpcXC8vcycsICcvJywgJHBhdGggKTsvL1dpbmRvd3Pjga7jg5zjg6rjg6Xjg7zjg6Djg6njg5njg6vjgpLliYrpmaQKCQl9CgkJJHBhdGggPSBwcmVnX3JlcGxhY2UoICcvXFwvKy9zJywgJy8nLCAkcGF0aCApOy8v6YeN6KSH44GZ44KL44K544Op44OD44K344Ol44KSMeOBpOOBq+OBvuOBqOOCgeOCiwoJCSRwYXRoID0gcHJlZ19yZXBsYWNlKCAnL1xcL3xcXFxcL3MnLCBESVJFQ1RPUllfU0VQQVJBVE9SLCAkcGF0aCApOwoJCXJldHVybiAkcGF0aDsKCX0KCgoKCS8qKgoJICog5Y+X44GR5Y+W44Gj44Gf44OG44Kt44K544OI44KS44CB44OV44Kh44Kk44Or44K344K544OG44Og44Ko44Oz44Kz44O844OJ44Gr5aSJ5o+b44GZ44KL44CCCgkgKgoJICogQHBhcmFtIG1peGVkICR0ZXh0IOODhuOCreOCueODiAoJICogQHJldHVybiBzdHJpbmcg5paH5a2X44K744OD44OI5aSJ5o+b5b6M44Gu44OG44Kt44K544OICgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gY29udmVydF9maWxlc3lzdGVtX2VuY29kaW5nKCAkdGV4dCApewoJCSRSVE4gPSAkdGV4dDsKCQlpZiggIWlzX2NhbGxhYmxlKCAnbWJfaW50ZXJuYWxfZW5jb2RpbmcnICkgKXsKCQkJcmV0dXJuICR0ZXh0OwoJCX0KCQlpZiggIXN0cmxlbiggJHRoaXMtPmZpbGVzeXN0ZW1fZW5jb2RpbmcgKSApewoJCQlyZXR1cm4gJHRleHQ7CgkJfQoKCQkkdG9fZW5jb2RpbmcgPSAkdGhpcy0+ZmlsZXN5c3RlbV9lbmNvZGluZzsKCQkkZnJvbV9lbmNvZGluZyA9IG1iX2ludGVybmFsX2VuY29kaW5nKCkuJyxVVEYtOCxTSklTLXdpbixldWNKUC13aW4sU0pJUyxFVUMtSlAsSklTLEFTQ0lJJzsKCgkJcmV0dXJuICR0aGlzLT5jb252ZXJ0X2VuY29kaW5nKCAkdGV4dCwgJHRvX2VuY29kaW5nLCAkZnJvbV9lbmNvZGluZyApOwoKCX0vL2NvbnZlcnRfZmlsZXN5c3RlbV9lbmNvZGluZygpCgoJLyoqCgkgKiDlj5fjgZHlj5bjgaPjgZ/jg4bjgq3jgrnjg4jjgpLjgIHjg5XjgqHjgqTjg6vjgrfjgrnjg4bjg6Djgqjjg7PjgrPjg7zjg4njgavlpInmj5vjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gbWl4ZWQgJHRleHQg44OG44Kt44K544OICgkgKiBAcGFyYW0gc3RyaW5nICR0b19lbmNvZGluZyDmloflrZfjgrvjg4Pjg4go55yB55Wl5pmC44CB5YaF6YOo5paH5a2X44K744OD44OIKQoJICogQHBhcmFtIHN0cmluZyAkZnJvbV9lbmNvZGluZyDlpInmj5vliY3jga7mloflrZfjgrvjg4Pjg4gKCSAqIEByZXR1cm4gc3RyaW5nIOaWh+Wtl+OCu+ODg+ODiOWkieaPm+W+jOOBruODhuOCreOCueODiAoJICovCglwdWJsaWMgZnVuY3Rpb24gY29udmVydF9lbmNvZGluZyggJHRleHQsICR0b19lbmNvZGluZyA9IG51bGwsICRmcm9tX2VuY29kaW5nID0gbnVsbCApewoJCSRSVE4gPSAkdGV4dDsKCQlpZiggIWlzX2NhbGxhYmxlKCAnbWJfaW50ZXJuYWxfZW5jb2RpbmcnICkgKXsKCQkJcmV0dXJuICR0ZXh0OwoJCX0KCgkJJHRvX2VuY29kaW5nX2ZpbiA9ICR0b19lbmNvZGluZzsKCQlpZiggIXN0cmxlbigkdG9fZW5jb2RpbmdfZmluKSApewoJCQkkdG9fZW5jb2RpbmdfZmluID0gbWJfaW50ZXJuYWxfZW5jb2RpbmcoKTsKCQl9CgkJaWYoICFzdHJsZW4oJHRvX2VuY29kaW5nX2ZpbikgKXsKCQkJJHRvX2VuY29kaW5nX2ZpbiA9ICdVVEYtOCc7CgkJfQoKCQkkZnJvbV9lbmNvZGluZ19maW4gPSAoc3RybGVuKCRmcm9tX2VuY29kaW5nKT8kZnJvbV9lbmNvZGluZy4nLCc6JycpLm1iX2ludGVybmFsX2VuY29kaW5nKCkuJyxVVEYtOCxTSklTLXdpbixldWNKUC13aW4sU0pJUyxFVUMtSlAsSklTLEFTQ0lJJzsKCgkJLy8gLS0tCgkJaWYoIGlzX2FycmF5KCAkdGV4dCApICl7CgkJCSRSVE4gPSBhcnJheSgpOwoJCQlpZiggIWNvdW50KCAkdGV4dCApICl7CgkJCQlyZXR1cm4gJHRleHQ7CgkJCX0KCQkJZm9yZWFjaCggJHRleHQgYXMgJGtleT0+JHJvdyApewoJCQkJJFJUTlska2V5XSA9ICR0aGlzLT5jb252ZXJ0X2VuY29kaW5nKCAkcm93LCAkdG9fZW5jb2RpbmcsICRmcm9tX2VuY29kaW5nICk7CgkJCX0KCQl9ZWxzZXsKCQkJaWYoICFzdHJsZW4oICR0ZXh0ICkgKXsKCQkJCXJldHVybiAkdGV4dDsKCQkJfQoJCQkkUlROID0gbWJfY29udmVydF9lbmNvZGluZyggJHRleHQsICR0b19lbmNvZGluZ19maW4sICRmcm9tX2VuY29kaW5nX2ZpbiApOwoJCX0KCQlyZXR1cm4gJFJUTjsKCX0vL2NvbnZlcnRfZW5jb2RpbmcoKQoKCS8qKgoJICog5Y+X44GR5Y+W44Gj44Gf44OG44Kt44K544OI44KS44CB5oyH5a6a44Gu5pS56KGM44Kz44O844OJ44Gr5aSJ5o+b44GZ44KL44CCCgkgKgoJICogQHBhcmFtIG1peGVkICR0ZXh0IOODhuOCreOCueODiAoJICogQHBhcmFtIHN0cmluZyAkY3JsZiDmlLnooYzjgrPjg7zjg4nlkI3jgIJDUnxMRihkZWZhdWx0KXxDUkxGCgkgKiBAcmV0dXJuIHN0cmluZyDmlLnooYzjgrPjg7zjg4nlpInmj5vlvozjga7jg4bjgq3jgrnjg4gKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNvbnZlcnRfY3JsZiggJHRleHQsICRjcmxmID0gbnVsbCApewoJCWlmKCAhc3RybGVuKCRjcmxmKSApewoJCQkkY3JsZiA9ICdMRic7CgkJfQoJCSRjcmxmX2NvZGUgPSAiXG4iOwoJCXN3aXRjaChzdHJ0b3VwcGVyKCRjcmxmKSl7CgkJCWNhc2UgJ0NSJzoKCQkJCSRjcmxmX2NvZGUgPSAiXHIiOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ0NSTEYnOgoJCQkJJGNybGZfY29kZSA9ICJcclxuIjsKCQkJCWJyZWFrOwoJCQljYXNlICdMRic6CgkJCWRlZmF1bHQ6CgkJCQkkY3JsZl9jb2RlID0gIlxuIjsKCQkJCWJyZWFrOwoJCX0KCQkkUlROID0gJHRleHQ7CgkJaWYoIGlzX2FycmF5KCAkdGV4dCApICl7CgkJCSRSVE4gPSBhcnJheSgpOwoJCQlpZiggIWNvdW50KCAkdGV4dCApICl7CgkJCQlyZXR1cm4gJHRleHQ7CgkJCX0KCQkJZm9yZWFjaCggJHRleHQgYXMgJGtleT0+JHZhbCApewoJCQkJJFJUTlska2V5XSA9ICR0aGlzLT5jb252ZXJ0X2NybGYoICR2YWwgLCAkY3JsZiApOwoJCQl9CgkJfWVsc2V7CgkJCWlmKCAhc3RybGVuKCAkdGV4dCApICl7CgkJCQlyZXR1cm4gJHRleHQ7CgkJCX0KCQkJJFJUTiA9IHByZWdfcmVwbGFjZSggJy9cclxufFxyfFxuLycsICRjcmxmX2NvZGUsICR0ZXh0ICk7CgkJfQoJCXJldHVybiAkUlROOwoJfQoKfQo/Pg==',
           "request" => 'PD9waHAKLyoqCiAqIHRvbWs3OS9yZXF1ZXN0CiAqCiAqIEBhdXRob3IgVG9tb3lhIEtveWFuYWdpIDx0b21rNzlAZ21haWwuY29tPgogKi8KCm5hbWVzcGFjZSByZW5jb25GcmFtZXdvcms7CgovKioKICogdG9tazc5L3JlcXVlc3QgY29yZSBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIHJlcXVlc3R7CgkvKioKCSAqIOioreWumuOCquODluOCuOOCp+OCr+ODiAoJICovCglwcml2YXRlICRjb25mOwoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgrfjgrnjg4bjg6Djgqrjg5bjgrjjgqfjgq/jg4gKCSAqLwoJcHJpdmF0ZSAkZnM7CgkvKioKCSAqIFVSTOODkeODqeODoeODvOOCvwoJICovCglwcml2YXRlICRwYXJhbSA9IGFycmF5KCk7CgkvKioKCSAqIOOCs+ODnuODs+ODieOBi+OCieOBruOCouOCr+OCu+OCuSDjg5Xjg6njgrAKCSAqLwoJcHJpdmF0ZSAkZmxnX2NtZCA9IGZhbHNlOwoJLyoqCgkgKiDjg6rjgq/jgqjjgrnjg4jjg5XjgqHjgqTjg6vjg5HjgrkKCSAqLwoJcHJpdmF0ZSAkcmVxdWVzdF9maWxlX3BhdGg7CgkvKioKCSAqIOWEquWFiOODh+OCo+ODrOOCr+ODiOODquOCpOODs+ODh+ODg+OCr+OCuQoJICovCglwcml2YXRlICRkaXJlY3RvcnlfaW5kZXhfcHJpbWFyeTsKCS8qKgoJICog44Kz44Oe44Oz44OJ44Op44Kk44Oz44Kq44OX44K344On44OzCgkgKi8KCXByaXZhdGUgJGNsaV9vcHRpb25zOwoJLyoqCgkgKiDjgrPjg57jg7Pjg4njg6njgqTjg7Pjg5Hjg6njg6Hjg7zjgr8KCSAqLwoJcHJpdmF0ZSAkY2xpX3BhcmFtczsKCgkvKioKCSAqIOOCs+ODs+OCueODiOODqeOCr+OCvwoJICoKCSAqIEBwYXJhbSBvYmplY3QgJGNvbmYg6Kit5a6a44Kq44OW44K444Kn44Kv44OICgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkY29uZj1udWxsKXsKCQkkdGhpcy0+Y29uZiA9ICRjb25mOwoJCWlmKCAhaXNfb2JqZWN0KCR0aGlzLT5jb25mKSApewoJCQkkdGhpcy0+Y29uZiA9IGpzb25fZGVjb2RlKCd7fScpOwoJCX0KCQkkdGhpcy0+ZnMgPSBuZXcgZmlsZXN5c3RlbSgpOwoKCQlpZighcHJvcGVydHlfZXhpc3RzKCR0aGlzLT5jb25mLCAnZ2V0JykgfHwgIUBpc19hcnJheSgkdGhpcy0+Y29uZi0+Z2V0KSl7CgkJCSR0aGlzLT5jb25mLT5nZXQgPSAkX0dFVDsKCQl9CgkJaWYoIXByb3BlcnR5X2V4aXN0cygkdGhpcy0+Y29uZiwgJ3Bvc3QnKSB8fCAhQGlzX2FycmF5KCR0aGlzLT5jb25mLT5wb3N0KSl7CgkJCSR0aGlzLT5jb25mLT5wb3N0ID0gJF9QT1NUOwoJCX0KCQlpZighcHJvcGVydHlfZXhpc3RzKCR0aGlzLT5jb25mLCAnZmlsZXMnKSB8fCAhQGlzX2FycmF5KCR0aGlzLT5jb25mLT5maWxlcykpewoJCQkkdGhpcy0+Y29uZi0+ZmlsZXMgPSAkX0ZJTEVTOwoJCX0KCQlpZighcHJvcGVydHlfZXhpc3RzKCR0aGlzLT5jb25mLCAnc2VydmVyJykgfHwgIUBpc19hcnJheSgkdGhpcy0+Y29uZi0+c2VydmVyKSl7CgkJCSR0aGlzLT5jb25mLT5zZXJ2ZXIgPSAkX1NFUlZFUjsKCQl9CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCAnUEFUSF9JTkZPJyAsICR0aGlzLT5jb25mLT5zZXJ2ZXIgKSApewoJCQkkdGhpcy0+Y29uZi0+c2VydmVyWydQQVRIX0lORk8nXSA9IG51bGw7CgkJfQoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cyggJ0hUVFBfVVNFUl9BR0VOVCcgLCAkdGhpcy0+Y29uZi0+c2VydmVyICkgKXsKCQkJJHRoaXMtPmNvbmYtPnNlcnZlclsnSFRUUF9VU0VSX0FHRU5UJ10gPSBudWxsOwoJCX0KCQlpZiggIWFycmF5X2tleV9leGlzdHMoICdhcmd2JyAsICR0aGlzLT5jb25mLT5zZXJ2ZXIgKSApewoJCQkkdGhpcy0+Y29uZi0+c2VydmVyWydhcmd2J10gPSBudWxsOwoJCX0KCQlpZighcHJvcGVydHlfZXhpc3RzKCR0aGlzLT5jb25mLCAnc2Vzc2lvbl9uYW1lJykgfHwgIUBzdHJsZW4oJHRoaXMtPmNvbmYtPnNlc3Npb25fbmFtZSkpewoJCQkkdGhpcy0+Y29uZi0+c2Vzc2lvbl9uYW1lID0gJ1NFU1NJRCc7CgkJfQoJCWlmKCFwcm9wZXJ0eV9leGlzdHMoJHRoaXMtPmNvbmYsICdzZXNzaW9uX2V4cGlyZScpIHx8ICFAc3RybGVuKCR0aGlzLT5jb25mLT5zZXNzaW9uX2V4cGlyZSkpewoJCQkkdGhpcy0+Y29uZi0+c2Vzc2lvbl9leHBpcmUgPSAxODAwOwoJCX0KCQlpZighcHJvcGVydHlfZXhpc3RzKCR0aGlzLT5jb25mLCAnZGlyZWN0b3J5X2luZGV4X3ByaW1hcnknKSB8fCAhQHN0cmxlbigkdGhpcy0+Y29uZi0+ZGlyZWN0b3J5X2luZGV4X3ByaW1hcnkpKXsKCQkJJHRoaXMtPmNvbmYtPmRpcmVjdG9yeV9pbmRleF9wcmltYXJ5ID0gJ2luZGV4Lmh0bWwnOwoJCX0KCQlpZighcHJvcGVydHlfZXhpc3RzKCR0aGlzLT5jb25mLCAnY29va2llX2RlZmF1bHRfcGF0aCcpIHx8ICFAc3RybGVuKCR0aGlzLT5jb25mLT5jb29raWVfZGVmYXVsdF9wYXRoKSl7CgkJCS8vIOOCr+ODg+OCreODvOOBruODh+ODleOCqeODq+ODiOOBruODkeOCuQoJCQkvLyBzZXNzaW9uIOOBruevhOWbsuOCguOBk+OBruioreWumuOBq+W+k+OBhuOAggoJCQkkdGhpcy0+Y29uZi0+Y29va2llX2RlZmF1bHRfcGF0aCA9ICR0aGlzLT5nZXRfcGF0aF9jdXJyZW50X2RpcigpOwoJCX0KCgkJJHRoaXMtPnBhcnNlX2lucHV0KCk7CgkJJHRoaXMtPnNlc3Npb25fc3RhcnQoKTsKCX0KCgkvKioKCSAqCeWFpeWKm+WApOOCkuino+aekOOBmeOCi+OAggoJICoKCSAqIGAkX0dFVGAsIGAkX1BPU1RgLCBgJF9GSUxFU2Ag44Gr6YCB44KJ44KM44Gf44OR44Op44Oh44O844K/5oOF5aCx44KS5Y+W44KK44G+44Go44KB44CBMeOBpOOBrumAo+aDs+mFjeWIl+OBqOOBl+OBpuOBvuOBqOOCgeOBvuOAgeOCquODluOCuOOCp+OCr+ODiOWGheOBq+S/neaMgeOBl+OBvuOBmeOAggoJICoKCSAqIOOCs+ODnuODs+ODieODqeOCpOODs+OBi+OCieWun+ihjOOBleOCjOOBn+WgtOWQiOOBr+OAgeOCs+ODnuODs+ODieODqeOCpOODs+OCquODl+OCt+ODp+ODs+OCkuOBneOCjOOBnuOCjCBgPWAg6KiY5Y+344Gn5Yy65YiH44KK44CBVVJM44OR44Op44Oh44O844K/5ZCM5qeY44Gr44OR44O844K544GX44G+44GZ44CCCgkgKgoJICog44GT44Gu44Oh44K944OD44OJ44Gu5Yem55CG44Gr44Gv44CB5YWl5Yqb5paH5a2X44Kz44O844OJ44Gu5aSJ5o+bKFVURi0444G457Wx5LiAKeOBquOBqeOBruaVtOW9ouWHpueQhuOBjOWQq+OBvuOCjOOBvuOBmeOAggoJICoKCSAqIEByZXR1cm4gYm9vbCDluLjjgasgYHRydWVgCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gcGFyc2VfaW5wdXQoKXsKCQkkdGhpcy0+cmVxdWVzdF9maWxlX3BhdGggPSAkdGhpcy0+Y29uZi0+c2VydmVyWydQQVRIX0lORk8nXTsKCQlpZiggIXN0cmxlbigkdGhpcy0+cmVxdWVzdF9maWxlX3BhdGgpICl7CgkJCSR0aGlzLT5yZXF1ZXN0X2ZpbGVfcGF0aCA9ICcvJzsKCQl9CgkJJHRoaXMtPmNsaV9wYXJhbXMgPSBhcnJheSgpOwoJCSR0aGlzLT5jbGlfb3B0aW9ucyA9IGFycmF5KCk7CgoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cyggJ1JFTU9URV9BRERSJyAsICR0aGlzLT5jb25mLT5zZXJ2ZXIgKSApewoJCQkvLyAg44Kz44Oe44Oz44OJ44Op44Kk44Oz44GL44KJ44Gu5a6f6KGM44GL5ZCm44GL5Yik5patCgkJCSR0aGlzLT5mbGdfY21kID0gdHJ1ZTsvL+OCs+ODnuODs+ODieODqeOCpOODs+OBi+OCieWun+ihjOOBl+OBpuOBhOOCi+OBi+ODleODqeOCsAoJCQlpZiggaXNfYXJyYXkoICR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXSApICYmIGNvdW50KCAkdGhpcy0+Y29uZi0+c2VydmVyWydhcmd2J10gKSApewoJCQkJJHRtcF9wYXRoID0gbnVsbDsKCQkJCWZvciggJGkgPSAwOyBjb3VudCggJHRoaXMtPmNvbmYtPnNlcnZlclsnYXJndiddICkgPiAkaTsgJGkgKysgKXsKCQkJCQlpZiggcHJlZ19tYXRjaCggJy9eXC0vJywgJHRoaXMtPmNvbmYtPnNlcnZlclsnYXJndiddWyRpXSApICl7CgkJCQkJCSR0aGlzLT5jbGlfcGFyYW1zID0gYXJyYXkoKTsvL+OCquODl+OCt+ODp+ODs+OBruWJjeOBq+W8leaVsOOBr+S7mOOBkeOCieOCjOOBquOBhAoJCQkJCQkkdGhpcy0+Y2xpX29wdGlvbnNbJHRoaXMtPmNvbmYtPnNlcnZlclsnYXJndiddWyRpXV0gPSAkdGhpcy0+Y29uZi0+c2VydmVyWydhcmd2J11bJGkrMV07CgkJCQkJCSRpICsrOwoJCQkJCX1lbHNlewoJCQkJCQlhcnJheV9wdXNoKCAkdGhpcy0+Y2xpX3BhcmFtcywgJHRoaXMtPmNvbmYtPnNlcnZlclsnYXJndiddWyRpXSApOwoJCQkJCX0KCQkJCX0KCQkJCSR0bXBfcGF0aCA9IEAkdGhpcy0+Y2xpX3BhcmFtc1tjb3VudCgkdGhpcy0+Y2xpX3BhcmFtcyktMV07CgkJCQlpZiggcHJlZ19tYXRjaCggJy9eXC8vJywgJHRtcF9wYXRoICkgJiYgQGlzX2FycmF5KCR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXSkgKXsKCQkJCQkkdG1wX3BhdGggPSBhcnJheV9wb3AoICR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXSApOwoJCQkJCSR0bXBfcGF0aCA9IHBhcnNlX3VybCgkdG1wX3BhdGgpOwoJCQkJCSR0aGlzLT5yZXF1ZXN0X2ZpbGVfcGF0aCA9ICR0bXBfcGF0aFsncGF0aCddOwoJCQkJCUBwYXJzZV9zdHIoICR0bXBfcGF0aFsncXVlcnknXSwgJHF1ZXJ5ICk7CgkJCQkJaWYoIGlzX2FycmF5KCRxdWVyeSkgKXsKCQkJCQkJJHRoaXMtPmNvbmYtPmdldCA9IGFycmF5X21lcmdlKCAkdGhpcy0+Y29uZi0+Z2V0LCAkcXVlcnkgKTsKCQkJCQl9CgkJCQl9CgkJCQl1bnNldCggJHRtcF9wYXRoICk7CgkJCX0KCQl9CgoJCWlmKCBpbmlfZ2V0KCdtYWdpY19xdW90ZXNfZ3BjJykgKXsKCQkJLy8gUEhQSU5J44GubWFnaWNfcXVvdGVzX2dwY+ioreWumuOBjE9u44Gg44Gj44Gf44KJ44CBCgkJCS8vIOOCqOOCueOCseODvOODl+aWh+Wtl+OCkuWJiumZpOOAggoJCQlmb3JlYWNoKCBhcnJheV9rZXlzKCAkdGhpcy0+Y29uZi0+Z2V0ICkgYXMgJExpbmUgKXsKCQkJCSR0aGlzLT5jb25mLT5nZXRbJExpbmVdID0gc2VsZjo6c3RyaXBzbGFzaGVzKCAkdGhpcy0+Y29uZi0+Z2V0WyRMaW5lXSApOwoJCQl9CgkJCWZvcmVhY2goIGFycmF5X2tleXMoICR0aGlzLT5jb25mLT5wb3N0ICkgYXMgJExpbmUgKXsKCQkJCSR0aGlzLT5jb25mLT5wb3N0WyRMaW5lXSA9IHNlbGY6OnN0cmlwc2xhc2hlcyggJHRoaXMtPmNvbmYtPnBvc3RbJExpbmVdICk7CgkJCX0KCQl9CgoJCSR0aGlzLT5jb25mLT5nZXQgPSBzZWxmOjpjb252ZXJ0X2VuY29kaW5nKCAkdGhpcy0+Y29uZi0+Z2V0ICk7CgkJJHRoaXMtPmNvbmYtPnBvc3QgPSBzZWxmOjpjb252ZXJ0X2VuY29kaW5nKCAkdGhpcy0+Y29uZi0+cG9zdCApOwoJCSRwYXJhbSA9IGFycmF5X21lcmdlKCAkdGhpcy0+Y29uZi0+Z2V0ICwgJHRoaXMtPmNvbmYtPnBvc3QgKTsKCQkkcGFyYW0gPSAkdGhpcy0+bm9ybWFsaXplX2lucHV0KCAkcGFyYW0gKTsKCgkJaWYoIGlzX2FycmF5KCAkdGhpcy0+Y29uZi0+ZmlsZXMgKSApewoJCQkkRklMRVNfS0VZUyA9IGFycmF5X2tleXMoICR0aGlzLT5jb25mLT5maWxlcyApOwoJCQlmb3JlYWNoKCRGSUxFU19LRVlTIGFzICRMaW5lKXsKCQkJCSR0aGlzLT5jb25mLT5maWxlc1skTGluZV1bJ25hbWUnXSA9IHNlbGY6OmNvbnZlcnRfZW5jb2RpbmcoICR0aGlzLT5jb25mLT5maWxlc1skTGluZV1bJ25hbWUnXSApOwoJCQkJJHRoaXMtPmNvbmYtPmZpbGVzWyRMaW5lXVsnbmFtZSddID0gbWJfY29udmVydF9rYW5hKCAkdGhpcy0+Y29uZi0+ZmlsZXNbJExpbmVdWyduYW1lJ10gLCAnS1YnICwgbWJfaW50ZXJuYWxfZW5jb2RpbmcoKSApOwoJCQkJJHBhcmFtWyRMaW5lXSA9ICR0aGlzLT5jb25mLT5maWxlc1skTGluZV07CgkJCX0KCQl9CgoJCSR0aGlzLT5wYXJhbSA9ICRwYXJhbTsKCQl1bnNldCgkcGFyYW0pOwoKCQlpZiAocHJlZ19tYXRjaCgnL1wvJC8nLCAkdGhpcy0+cmVxdWVzdF9maWxlX3BhdGgpKSB7CgkJCSR0aGlzLT5yZXF1ZXN0X2ZpbGVfcGF0aCAuPSAkdGhpcy0+Y29uZi0+ZGlyZWN0b3J5X2luZGV4X3ByaW1hcnk7CgkJfQoJCSR0aGlzLT5yZXF1ZXN0X2ZpbGVfcGF0aCA9ICR0aGlzLT5mcy0+Z2V0X3JlYWxwYXRoKCAkdGhpcy0+cmVxdWVzdF9maWxlX3BhdGggKTsKCQkkdGhpcy0+cmVxdWVzdF9maWxlX3BhdGggPSAkdGhpcy0+ZnMtPm5vcm1hbGl6ZV9wYXRoKCAkdGhpcy0+cmVxdWVzdF9maWxlX3BhdGggKTsKCgkJcmV0dXJuCXRydWU7Cgl9Ly9wYXJzZV9pbnB1dCgpCgoJLyoqCgkgKgnlhaXlipvlgKTjgavlr77jgZnjgovmqJnmupbnmoTjgarlpInmj5vlh6bnkIYKCSAqCgkgKiBAcGFyYW0gYXJyYXkgJHBhcmFtIOODkeODqeODoeODvOOCvwoJICogQHJldHVybiBhcnJheSDlpInmj5vlvozjga7jg5Hjg6njg6Hjg7zjgr8KCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBub3JtYWxpemVfaW5wdXQoICRwYXJhbSApewoJCSRpc19jYWxsYWJsZV9tYl9jaGVja19lbmNvZGluZyA9IGlzX2NhbGxhYmxlKCAnbWJfY2hlY2tfZW5jb2RpbmcnICk7CgkJZm9yZWFjaCggJHBhcmFtIGFzICRrZXk9PiR2YWwgKXsKCQkJLy8gVVJM44OR44Op44Oh44O844K/44KS5Yqg5belCgkJCWlmKCBpc19hcnJheSggJHZhbCApICl7CgkJCQkvLyDphY3liJfjgarjgokKCQkJCSRwYXJhbVska2V5XSA9ICR0aGlzLT5ub3JtYWxpemVfaW5wdXQoICRwYXJhbVska2V5XSApOwoJCQl9ZWxzZWlmKCBpc19zdHJpbmcoICRwYXJhbVska2V5XSApICl7CgkJCQkvLyDmloflrZfliJfjgarjgokKCQkJCSRwYXJhbVska2V5XSA9IG1iX2NvbnZlcnRfa2FuYSggJHBhcmFtWyRrZXldICwgJ0tWJyAsIG1iX2ludGVybmFsX2VuY29kaW5nKCkgKTsKCQkJCQkvLyDljYrop5Ljgqvjg4rjga/lhajop5LjgavntbHkuIAKCQkJCSRwYXJhbVska2V5XSA9IHByZWdfcmVwbGFjZSggJy9cclxufFxyfFxuLycgLCAiXG4iICwgJHBhcmFtWyRrZXldICk7CgkJCQkJLy8g5pS56KGM44Kz44O844OJ44GvTEbjgavntbHkuIAKCQkJCWlmKCAkaXNfY2FsbGFibGVfbWJfY2hlY2tfZW5jb2RpbmcgKXsKCQkJCQkvLyDkuI3mraPjgarjg5DjgqTjg4jjgrPjg7zjg4njga7jg4Hjgqfjg4Pjgq8KCQkJCQlpZiggIW1iX2NoZWNrX2VuY29kaW5nKCAka2V5ICwgbWJfaW50ZXJuYWxfZW5jb2RpbmcoKSApICl7CgkJCQkJCS8vIOOCreODvOOBruS4reOBq+imi+OBpOOBkeOBn+OCieODkeODqeODoeODvOOCv+OBlOOBqOWJiumZpAoJCQkJCQl1bnNldCggJHBhcmFtWyRrZXldICk7CgkJCQkJfQoJCQkJCWlmKCAhbWJfY2hlY2tfZW5jb2RpbmcoICRwYXJhbVska2V5XSAsIG1iX2ludGVybmFsX2VuY29kaW5nKCkgKSApewoJCQkJCQkvLyDlgKTjga7kuK3jgavopovjgaTjgZHjgZ/jgokgZmFsc2Ug44Gr572u44GN5o+b44GI44KLCgkJCQkJCSRwYXJhbVska2V5XSA9IGZhbHNlOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCQlyZXR1cm4gJHBhcmFtOwoJfS8vbm9ybWFsaXplX2lucHV0KCkKCgkvKioKCSAqIOODkeODqeODoeODvOOCv+OCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIGAkX0dFVGAsIGAkX1BPU1Rg44CBYCRfRklMRVNgIOOCkuWQiOOCj+OBm+OBn+mAo+aDs+mFjeWIl+OBruS4reOBi+OCiSBgJGtleWAg44Gr5b2T44Gf44KL5YCk44KS5byV44GE44Gm6L+U44GX44G+44GZ44CCCgkgKiDjgq3jg7zjgYzlrprnvqnjgZXjgozjgabjgYTjgarjgYTloLTlkIjjga/jgIFgbnVsbGAg44KS6L+U44GX44G+44GZ44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAka2V5IFVSTOODkeODqeODoeODvOOCv+WQjQoJICogQHJldHVybiBtaXhlZCBVUkzjg5Hjg6njg6Hjg7zjgr/lgKQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9wYXJhbSggJGtleSApewoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cygka2V5LCAkdGhpcy0+cGFyYW0pICl7IHJldHVybiBudWxsOyB9CgkJcmV0dXJuIEAkdGhpcy0+cGFyYW1bJGtleV07Cgl9Ly9nZXRfcGFyYW0oKQoKCS8qKgoJICog44OR44Op44Oh44O844K/44KS44K744OD44OI44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAka2V5IOODkeODqeODoeODvOOCv+WQjQoJICogQHBhcmFtIG1peGVkICR2YWwg44OR44Op44Oh44O844K/5YCkCgkgKiBAcmV0dXJuIGJvb2wg5bi444GrIGB0cnVlYAoJICovCglwdWJsaWMgZnVuY3Rpb24gc2V0X3BhcmFtKCAka2V5ICwgJHZhbCApewoJCSR0aGlzLT5wYXJhbVska2V5XSA9ICR2YWw7CgkJcmV0dXJuIHRydWU7Cgl9Ly9zZXRfcGFyYW0oKQoKCS8qKgoJICog44OR44Op44Oh44O844K/44KS44GZ44G544Gm5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHJldHVybiBhcnJheSDjgZnjgbnjgabjga7jg5Hjg6njg6Hjg7zjgr/jgpLmoLzntI3jgZnjgovpgKPmg7PphY3liJcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9hbGxfcGFyYW1zKCl7CgkJcmV0dXJuICR0aGlzLT5wYXJhbTsKCX0KCgkvKioKCSAqIOOCs+ODnuODs+ODieODqeOCpOODs+OCquODl+OCt+ODp+ODs+OCkuWPluW+l+OBmeOCiwoJICogQHBhcmFtIHN0cmluZyAkbmFtZSDjgqrjg5fjgrfjg6fjg7PlkI0KCSAqIEByZXR1cm4gc3RyaW5nIOaMh+WumuOBleOCjOOBn+OCquODl+OCt+ODp+ODs+WApAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2NsaV9vcHRpb24oICRuYW1lICl7CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCRuYW1lLCAkdGhpcy0+Y2xpX29wdGlvbnMpICl7CgkJCXJldHVybiBudWxsOwoJCX0KCQlyZXR1cm4gQCR0aGlzLT5jbGlfb3B0aW9uc1skbmFtZV07Cgl9CgoJLyoqCgkgKiDjgZnjgbnjgabjga7jgrPjg57jg7Pjg4njg6njgqTjg7Pjgqrjg5fjgrfjg6fjg7PjgpLpgKPmg7PphY3liJfjgaflj5blvpfjgZnjgosKCSAqIEByZXR1cm4gYXJyYXkg44GZ44G544Gm44Gu44Kz44Oe44Oz44OJ44Op44Kk44Oz44Kq44OX44K344On44OzCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfY2xpX29wdGlvbnMoKXsKCQlyZXR1cm4gQCR0aGlzLT5jbGlfb3B0aW9uczsKCX0KCgkvKioKCSAqIOOCs+ODnuODs+ODieODqeOCpOODs+ODkeODqeODoeODvOOCv+OCkuWPluW+l+OBmeOCiwoJICogQHBhcmFtIHN0cmluZyAkaWR4IOODkeODqeODoeODvOOCv+eVquWPtwoJICogQHJldHVybiBzdHJpbmcg5oyH5a6a44GV44KM44Gf44Kq44OX44K344On44Oz5YCkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfY2xpX3BhcmFtKCAkaWR4ID0gMCApewoJCWlmKCRpZHggPCAwKXsKCQkJLy8g44Oe44Kk44OK44K544Gu44Kk44Oz44OH44OD44Kv44K544GM5LiO44GI44KJ44KM44Gf5aC05ZCI44CBCgkJCS8vIOmFjeWIl+OBruacgOW+jOOBi+OCieaVsOOBiOOCiwoJCQkkaWR4ID0gY291bnQoJHRoaXMtPmNsaV9wYXJhbXMpKyRpZHg7CgkJfQoJCXJldHVybiBAJHRoaXMtPmNsaV9wYXJhbXNbJGlkeF07Cgl9CgoJLyoqCgkgKiDjgZnjgbnjgabjga7jgrPjg57jg7Pjg4njg6njgqTjg7Pjg5Hjg6njg6Hjg7zjgr/jgpLphY3liJfjgaflj5blvpfjgZnjgosKCSAqIEByZXR1cm4gYXJyYXkg44GZ44G544Gm44Gu44Kz44Oe44Oz44OJ44Op44Kk44Oz44OR44Op44Oh44O844K/CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfY2xpX3BhcmFtcygpewoJCXJldHVybiBAJHRoaXMtPmNsaV9wYXJhbXM7Cgl9CgoKCgkvLyAtLS0tLSBjb29raWVzIC0tLS0tCgoJLyoqCgkgKiDjgq/jg4Pjgq3jg7zmg4XloLHjgpLlj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44Kv44OD44Kt44O85ZCNCgkgKiBAcmV0dXJuIG1peGVkIOOCr+ODg+OCreODvOOBruWApAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2Nvb2tpZSggJGtleSApewoJCWlmKCBAIWlzX2FycmF5KCAkX0NPT0tJRSApICl7IHJldHVybiBudWxsOyB9CgkJaWYoIEAhYXJyYXlfa2V5X2V4aXN0cygka2V5LCAkX0NPT0tJRSkgKXsgcmV0dXJuIG51bGw7IH0KCQlyZXR1cm4JQCRfQ09PS0lFWyRrZXldOwoJfS8vZ2V0X2Nvb2tpZSgpCgoJLyoqCgkgKiDjgq/jg4Pjgq3jg7zmg4XloLHjgpLjgrvjg4Pjg4jjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44Kv44OD44Kt44O85ZCNCgkgKiBAcGFyYW0gc3RyaW5nICR2YWwg44Kv44OD44Kt44O85YCkCgkgKiBAcGFyYW0gc3RyaW5nICRleHBpcmUg44Kv44OD44Kt44O844Gu5pyJ5Yq55pyf6ZmQCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOOCteODvOODkOODvOS4iuOBp+OBruOAgeOCr+ODg+OCreODvOOCkuacieWKueOBqOOBl+OBn+OBhOODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkZG9tYWluIOOCr+ODg+OCreODvOOBjOacieWKueOBquODieODoeOCpOODswoJICogQHBhcmFtIGJvb2wgJHNlY3VyZSDjgq/jg6njgqTjgqLjg7Pjg4jjgYvjgonjga7jgrvjgq3jg6XjgqLjgaogSFRUUFMg5o6l57aa44Gu5aC05ZCI44Gr44Gu44G/44Kv44OD44Kt44O844GM6YCB5L+h44GV44KM44KL44KI44GG44Gr44GX44G+44GZ44CC44OH44OV44Kp44Or44OI44GvIGB0cnVlYAoJICogQHJldHVybiDmiJDlip/mmYIgYHRydWVg44CB5aSx5pWX5pmCIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBzZXRfY29va2llKCAka2V5ICwgJHZhbCAsICRleHBpcmUgPSBudWxsICwgJHBhdGggPSBudWxsICwgJGRvbWFpbiA9IG51bGwgLCAkc2VjdXJlID0gdHJ1ZSApewoJCWlmKCBpc19udWxsKCAkcGF0aCApICl7CgkJCSRwYXRoID0gJHRoaXMtPmNvbmYtPmNvb2tpZV9kZWZhdWx0X3BhdGg7CgkJCWlmKCAhc3RybGVuKCAkcGF0aCApICl7CgkJCQkkcGF0aCA9ICR0aGlzLT5nZXRfcGF0aF9jdXJyZW50X2RpcigpOwoJCQl9CgkJCWlmKCAhc3RybGVuKCAkcGF0aCApICl7CgkJCQkkcGF0aCA9ICcvJzsKCQkJfQoJCX0KCQlpZiggIUBzZXRjb29raWUoICRrZXkgLCAkdmFsICwgJGV4cGlyZSAsICRwYXRoICwgJGRvbWFpbiAsICRzZWN1cmUgKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQkkX0NPT0tJRVska2V5XSA9ICR2YWw7Ly/nj77lnKjjga7lh6bnkIbjgYvjgonjgoLlkbzjgbPlh7rjgZvjgovjgojjgYbjgasKCQlyZXR1cm4gdHJ1ZTsKCX0vL3NldF9jb29raWUoKQoKCS8qKgoJICog44Kv44OD44Kt44O85oOF5aCx44KS5YmK6Zmk44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAka2V5IOOCr+ODg+OCreODvOWQjQoJICogQHJldHVybiBib29sIOaIkOWKn+aZgiBgdHJ1ZWDjgIHlpLHmlZfmmYIgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGRlbGV0ZV9jb29raWUoICRrZXkgKXsKCQlpZiggIUBzZXRjb29raWUoICRrZXkgLCBudWxsICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQl1bnNldCggJF9DT09LSUVbJGtleV0gKTsKCQlyZXR1cm4gdHJ1ZTsKCX0vL2RlbGV0ZV9jb29raWUoKQoKCgoJLy8gLS0tLS0gc2Vzc2lvbiAtLS0tLQoKCS8qKgoJICog44K744OD44K344On44Oz44KS6ZaL5aeL44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkc2lkIOOCu+ODg+OCt+ODp+ODs0lE44CC55yB55Wl5pmC44CB6Ieq5YuV55m66KGM44CCCgkgKiBAcmV0dXJuIGJvb2wg44K744OD44K344On44Oz44GM5q2j5bi444Gr6ZaL5aeL44GX44Gf5aC05ZCI44GrIGB0cnVlYOOAgeOBneOCjOS7peWkluOBruWgtOWQiOOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwcml2YXRlIGZ1bmN0aW9uIHNlc3Npb25fc3RhcnQoICRzaWQgPSBudWxsICl7CgkJJGV4cGlyZSA9IGludHZhbCgkdGhpcy0+Y29uZi0+c2Vzc2lvbl9leHBpcmUpOwoJCSRjYWNoZV9saW1pdGVyID0gJ25vY2FjaGUnOwoJCSRzZXNzaW9uX25hbWUgPSAnU0VTU0lEJzsKCQlpZiggc3RybGVuKCAkdGhpcy0+Y29uZi0+c2Vzc2lvbl9uYW1lICkgKXsKCQkJJHNlc3Npb25fbmFtZSA9ICR0aGlzLT5jb25mLT5zZXNzaW9uX25hbWU7CgkJfQoJCSRwYXRoID0gJHRoaXMtPmNvbmYtPmNvb2tpZV9kZWZhdWx0X3BhdGg7CgkJaWYoICFzdHJsZW4oICRwYXRoICkgKXsKCQkJJHBhdGggPSAkdGhpcy0+Z2V0X3BhdGhfY3VycmVudF9kaXIoKTsKCQl9CgkJaWYoICFzdHJsZW4oICRwYXRoICkgKXsKCQkJJHBhdGggPSAnLyc7CgkJfQoKCQlAc2Vzc2lvbl9uYW1lKCAkc2Vzc2lvbl9uYW1lICk7CgkJQHNlc3Npb25fY2FjaGVfbGltaXRlciggJGNhY2hlX2xpbWl0ZXIgKTsKCQlAc2Vzc2lvbl9jYWNoZV9leHBpcmUoIGludHZhbCgkZXhwaXJlLzYwKSApOwoKCQlpZiggaW50dmFsKCBpbmlfZ2V0KCAnc2Vzc2lvbi5nY19tYXhsaWZldGltZScgKSApIDwgJGV4cGlyZSArIDEwICl7CgkJCS8vIOOCrOODmeODvOOCuOOCs+ODrOOCr+OCt+ODp+ODs+OBrueUn+WtmOacn+mWk+OBjAoJCQkvLyAkZXhwaXJl44KI44KK44KC55+t44GE5aC05ZCI44Gv44CB5LiK5pu444GN44GZ44KL44CCCgkJCS8vIOODkOODg+ODleOCoeOBr+WbuuWumuWApOOBpzEw56eS44CCCgkJCUBpbmlfc2V0KCAnc2Vzc2lvbi5nY19tYXhsaWZldGltZScgLCAkZXhwaXJlICsgMTAgKTsKCQl9CgoJCUBzZXNzaW9uX3NldF9jb29raWVfcGFyYW1zKCAwICwgJHBhdGggKTsKCQkJLy8gIOOCu+ODg+OCt+ODp+ODs+OCr+ODg+OCreODvOiHquS9k+OBruWvv+WRveOBr+WumuOCgeOBquOBhCg9MCkKCQkJLy8gIOOBneOBruOBi+OCj+OCiuOAgVNFU1NJT05fTEFTVF9NT0RJRklFRCDjgpLmlrDoqK3jgZfjgIHoh6rliIbjgaflr7/lkb3jgpLnrqHnkIbjgZnjgovjgIIKCgkJaWYoIHN0cmxlbiggJHNpZCApICl7CgkJCS8vIOOCu+ODg+OCt+ODp+ODs0lE44Gr5oyH5a6a44GM44GC44KM44Gw44CB5pyJ5Yq544Gr44GZ44KL44CCCgkJCXNlc3Npb25faWQoICRzaWQgKTsKCQl9CgoJCS8vIOOCu+ODg+OCt+ODp+ODs+OCkumWi+WniwoJCSRydG4gPSBAc2Vzc2lvbl9zdGFydCgpOwoKCQkvLyDjgrvjg4Pjgrfjg6fjg7Pjga7mnInlirnmnJ/pmZDjgpLoqZXkvqEKCQlpZiggc3RybGVuKCAkdGhpcy0+Z2V0X3Nlc3Npb24oICdTRVNTSU9OX0xBU1RfTU9ESUZJRUQnICkgKSAmJiBpbnR2YWwoICR0aGlzLT5nZXRfc2Vzc2lvbiggJ1NFU1NJT05fTEFTVF9NT0RJRklFRCcgKSApIDwgaW50dmFsKCB0aW1lKCkgLSAkZXhwaXJlICkgKXsKCQkJIwnjgrvjg4Pjgrfjg6fjg7Pjga7mnInlirnmnJ/pmZDjgYzliIfjgozjgabjgYTjgZ/jgonjgIHjgrvjg4Pjgrfjg6fjg7Pjgq3jg7zjgpLlho3nmbrooYzjgIIKCQkJaWYoIGlzX2NhbGxhYmxlKCdzZXNzaW9uX3JlZ2VuZXJhdGVfaWQnKSApewoJCQkJQHNlc3Npb25fcmVnZW5lcmF0ZV9pZCggdHJ1ZSApOwoJCQl9CgkJfQoJCSR0aGlzLT5zZXRfc2Vzc2lvbiggJ1NFU1NJT05fTEFTVF9NT0RJRklFRCcgLCB0aW1lKCkgKTsKCQlyZXR1cm4gJHJ0bjsKCX0vL3Nlc3Npb25fc3RhcnQoKQoKCS8qKgoJICog44K744OD44K344On44OzSUTjgpLlj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcmV0dXJuIHN0cmluZyDjgrvjg4Pjgrfjg6fjg7NJRAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3Nlc3Npb25faWQoKXsKCQlyZXR1cm4gc2Vzc2lvbl9pZCgpOwoJfS8vZ2V0X3Nlc3Npb25faWQoKQoKCS8qKgoJICog44K744OD44K344On44Oz5oOF5aCx44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAka2V5IOOCu+ODg+OCt+ODp+ODs+OCreODvAoJICogQHJldHVybiBtaXhlZCBgJGtleWAg44Gr5a++5b+c44GZ44KL44K744OD44K344On44Oz5YCkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfc2Vzc2lvbiggJGtleSApewoJCWlmKCBAIWlzX2FycmF5KCAkX1NFU1NJT04gKSApeyByZXR1cm4gbnVsbDsgfQoJCWlmKCBAIWFycmF5X2tleV9leGlzdHMoJGtleSwgJF9TRVNTSU9OKSApeyByZXR1cm4gbnVsbDsgfQoJCXJldHVybiBAJF9TRVNTSU9OWyRrZXldOwoJfS8vZ2V0X3Nlc3Npb24oKQoKCS8qKgoJICog44K744OD44K344On44Oz5oOF5aCx44KS44K744OD44OI44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAka2V5IOOCu+ODg+OCt+ODp+ODs+OCreODvAoJICogQHBhcmFtIG1peGVkICR2YWwgYCRrZXlgIOOBq+WvvuW/nOOBmeOCi+OCu+ODg+OCt+ODp+ODs+WApAoJICogQHJldHVybiBib29sIOW4uOOBqyBgdHJ1ZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBzZXRfc2Vzc2lvbiggJGtleSAsICR2YWwgKXsKCQkkX1NFU1NJT05bJGtleV0gPSAkdmFsOwoJCXJldHVybiB0cnVlOwoJfS8vc2V0X3Nlc3Npb24oKQoKCS8qKgoJICog44K744OD44K344On44Oz5oOF5aCx44KS5YmK6Zmk44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAka2V5IOOCu+ODg+OCt+ODp+ODs+OCreODvAoJICogQHJldHVybiBib29sIOW4uOOBqyBgdHJ1ZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkZWxldGVfc2Vzc2lvbiggJGtleSApewoJCXVuc2V0KCAkX1NFU1NJT05bJGtleV0gKTsKCQlyZXR1cm4gdHJ1ZTsKCX0vL2RlbGV0ZV9zZXNzaW9uKCkKCgoJLy8gLS0tLS0gdXBsb2FkIGZpbGUgYWNjZXNzIC0tLS0tCgoJLyoqCgkgKiDjgqLjg4Pjg5fjg63jg7zjg4njgZXjgozjgZ/jg5XjgqHjgqTjg6vjgpLjgrvjg4Pjgrfjg6fjg7Pjgavkv53lrZjjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44K744OD44K344On44Oz44Kt44O8CgkgKiBAcGFyYW0gYXJyYXkgJHVsZmlsZWluZm8g44Ki44OD44OX44Ot44O844OJ44OV44Kh44Kk44Or5oOF5aCxCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmCIGB0cnVlYOOAgeWkseaVl+aZgiBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gc2F2ZV91cGxvYWRmaWxlKCAka2V5ICwgJHVsZmlsZWluZm8gKXsKCQkvLyBiYXNlNjTjgafjgqjjg7PjgrPjg7zjg4njgZfjgabjgIHjg5DjgqTjg4rjg6rjg4fjg7zjgr/jgpLmjIHjgaHjgb7jgZnjgIIKCQkvLyAkdWxmaWxlaW5mb1snY29udGVudCddIOOBq+ODkOOCpOODiuODquOCkuagvOe0jeOBl+OBpua4oeOBmeOBi+OAgQoJCS8vICR1bGZpbGVpbmZvWyd0bXBfbmFtZSddIOOBvuOBn+OBryAkdWxmaWxlaW5mb1sncGF0aCddIOOBruOBhOOBmuOCjOOBi+OBq+OAgQoJCS8vIOOCouODg+ODl+ODreODvOODieODleOCoeOCpOODq+OBruODkeOCueOCkuaMh+WumuOBl+OBpuOBj+OBoOOBleOBhOOAggoJCSRmaWxlaW5mbyA9IGFycmF5KCk7CgkJJGZpbGVpbmZvWyduYW1lJ10gPSAkdWxmaWxlaW5mb1snbmFtZSddOwoJCSRmaWxlaW5mb1sndHlwZSddID0gJHVsZmlsZWluZm9bJ3R5cGUnXTsKCgkJaWYoICR1bGZpbGVpbmZvWydjb250ZW50J10gKXsKCQkJJGZpbGVpbmZvWydjb250ZW50J10gPSBiYXNlNjRfZW5jb2RlKCAkdWxmaWxlaW5mb1snY29udGVudCddICk7CgkJfWVsc2V7CgkJCSRmaWxlcGF0aCA9ICcnOwoJCQlpZiggQGlzX2ZpbGUoICR1bGZpbGVpbmZvWyd0bXBfbmFtZSddICkgKXsKCQkJCSRmaWxlcGF0aCA9ICR1bGZpbGVpbmZvWyd0bXBfbmFtZSddOwoJCQl9ZWxzZWlmKCBAaXNfZmlsZSggJHVsZmlsZWluZm9bJ3BhdGgnXSApICl7CgkJCQkkZmlsZXBhdGggPSAkdWxmaWxlaW5mb1sncGF0aCddOwoJCQl9ZWxzZXsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCQkkZmlsZWluZm9bJ2NvbnRlbnQnXSA9IGJhc2U2NF9lbmNvZGUoIGZpbGVfZ2V0X2NvbnRlbnRzKCAkZmlsZXBhdGggKSApOwoJCX0KCgkJaWYoIEAhaXNfYXJyYXkoICRfU0VTU0lPTiApICl7CgkJCSRfU0VTU0lPTiA9IGFycmF5KCk7CgkJfQoJCWlmKCBAIWFycmF5X2tleV9leGlzdHMoJ0ZJTEUnLCAkX1NFU1NJT04pICl7CgkJCSRfU0VTU0lPTlsnRklMRSddID0gYXJyYXkoKTsKCQl9CgoJCSRfU0VTU0lPTlsnRklMRSddWyRrZXldID0gJGZpbGVpbmZvOwoJCXJldHVybgl0cnVlOwoJfQoJLyoqCgkgKiDjgrvjg4Pjgrfjg6fjg7Pjgavkv53lrZjjgZXjgozjgZ/jg5XjgqHjgqTjg6vmg4XloLHjgpLlj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44K744OD44K344On44Oz44Kt44O8CgkgKiBAcmV0dXJuIGFycmF5fGJvb2wg5oiQ5Yqf5pmC44CB44OV44Kh44Kk44Or5oOF5aCxIOOCkuagvOe0jeOBl+OBn+mAo+aDs+mFjeWIl+OAgeWkseaVl+aZgiBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3VwbG9hZGZpbGUoICRrZXkgKXsKCQlpZighc3RybGVuKCRrZXkpKXsgcmV0dXJuIGZhbHNlOyB9CgkJaWYoIEAhaXNfYXJyYXkoICRfU0VTU0lPTiApICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJaWYoIEAhYXJyYXlfa2V5X2V4aXN0cygnRklMRScsICRfU0VTU0lPTikgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZiggQCFhcnJheV9rZXlfZXhpc3RzKCRrZXksICRfU0VTU0lPTlsnRklMRSddKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQkkcnRuID0gQCRfU0VTU0lPTlsnRklMRSddWyRrZXldOwoJCWlmKCBpc19udWxsKCAkcnRuICkgKXsgcmV0dXJuIGZhbHNlOyB9CgoJCSRydG5bJ2NvbnRlbnQnXSA9IGJhc2U2NF9kZWNvZGUoIEAkcnRuWydjb250ZW50J10gKTsKCQlyZXR1cm4JJHJ0bjsKCX0KCS8qKgoJICog44K744OD44K344On44Oz44Gr5L+d5a2Y44GV44KM44Gf44OV44Kh44Kk44Or5oOF5aCx44Gu5LiA6Kan44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHJldHVybiBhcnJheSDjg5XjgqHjgqTjg6vmg4XloLEg44KS5qC857SN44GX44Gf6YCj5oOz6YWN5YiXCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfdXBsb2FkZmlsZV9saXN0KCl7CgkJaWYoIEAhYXJyYXlfa2V5X2V4aXN0cygnRklMRScsICRfU0VTU0lPTikgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlyZXR1cm4JYXJyYXlfa2V5cyggJF9TRVNTSU9OWydGSUxFJ10gKTsKCX0KCS8qKgoJICog44K744OD44K344On44Oz44Gr5L+d5a2Y44GV44KM44Gf44OV44Kh44Kk44Or44KS5YmK6Zmk44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAka2V5IOOCu+ODg+OCt+ODp+ODs+OCreODvAoJICogQHJldHVybiBib29sIOW4uOOBqyBgdHJ1ZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkZWxldGVfdXBsb2FkZmlsZSggJGtleSApewoJCWlmKCBAIWFycmF5X2tleV9leGlzdHMoJ0ZJTEUnLCAkX1NFU1NJT04pICl7CgkJCXJldHVybiB0cnVlOwoJCX0KCQl1bnNldCggJF9TRVNTSU9OWydGSUxFJ11bJGtleV0gKTsKCQlyZXR1cm4JdHJ1ZTsKCX0KCS8qKgoJICog44K744OD44K344On44Oz44Gr5L+d5a2Y44GV44KM44Gf44OV44Kh44Kk44Or44KS5YWo44Gm5YmK6Zmk44GZ44KL44CCCgkgKgoJICogQHJldHVybiBib29sIOW4uOOBqyBgdHJ1ZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkZWxldGVfdXBsb2FkZmlsZV9hbGwoKXsKCQlyZXR1cm4JJHRoaXMtPmRlbGV0ZV9zZXNzaW9uKCAnRklMRScgKTsKCX0KCgoJLy8gLS0tLS0gdXRpbHMgLS0tLS0KCgkvKioKCSAqIFVTRVJfQUdFTlQg44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHJldHVybiBzdHJpbmcgVVNFUl9BR0VOVAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3VzZXJfYWdlbnQoKXsKCQlyZXR1cm4gQCR0aGlzLT5jb25mLT5zZXJ2ZXJbJ0hUVFBfVVNFUl9BR0VOVCddOwoJfS8vZ2V0X3VzZXJfYWdlbnQoKQoKCS8qKgoJICog44Oq44Kv44Ko44K544OI44OR44K544KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHJldHVybiBzdHJpbmcg44Oq44Kv44Ko44K544OI44OR44K5CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfcmVxdWVzdF9maWxlX3BhdGgoKXsKCQlyZXR1cm4gJHRoaXMtPnJlcXVlc3RfZmlsZV9wYXRoOwoJfS8vZ2V0X3JlcXVlc3RfZmlsZV9wYXRoKCkKCgkvKioKCSAqICBTU0zpgJrkv6HjgYvoqr/jgbnjgosKCSAqCgkgKiBAcmV0dXJuIGJvb2wgU1NM6YCa5L+h44Gu5aC05ZCIIGB0cnVlYOOAgeOBneOCjOS7peWkluOBruWgtOWQiCBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNfc3NsKCl7CgkJaWYoIEAkdGhpcy0+Y29uZi0+c2VydmVyWydIVFRQX1NTTCddIHx8IEAkdGhpcy0+Y29uZi0+c2VydmVyWydIVFRQUyddICl7CgkJCS8vIFNTTOmAmuS/oeOBjOacieWKueOBi+WQpuOBi+WIpOaWrQoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJcmV0dXJuIGZhbHNlOwoJfQoKCS8qKgoJICog44Kz44Oe44Oz44OJ44Op44Kk44Oz44Gr44KI44KL5a6f6KGM44GL56K66KqN44GZ44KL44CCCgkgKgoJICogQHJldHVybiBib29sIOOCs+ODnuODs+ODieOBi+OCieOBruWun+ihjOOBruWgtOWQiCBgdHJ1ZWDjgIHjgqbjgqfjg5bjgYvjgonjga7lrp/ooYzjga7loLTlkIggYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2NtZCgpewoJCWlmKCBhcnJheV9rZXlfZXhpc3RzKCAnUkVNT1RFX0FERFInICwgJHRoaXMtPmNvbmYtPnNlcnZlciApICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJcmV0dXJuCXRydWU7Cgl9CgoKCS8vIC0tLS0tIHByaXZhdGUgLS0tLS0KCgkvKioKCSAqIOWPl+OBkeWPluOBo+OBn+ODhuOCreOCueODiOOCkuOAgeaMh+WumuOBruaWh+Wtl+OCu+ODg+ODiOOBq+WkieaPm+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBtaXhlZCAkdGV4dCDjg4bjgq3jgrnjg4gKCSAqIEBwYXJhbSBzdHJpbmcgJGVuY29kZSDlpInmj5vlvozjga7mloflrZfjgrvjg4Pjg4jjgILnnIHnlaXmmYLjgIFgbWJfaW50ZXJuYWxfZW5jb2RpbmcoKWAg44GL44KJ5Y+W5b6XCgkgKiBAcGFyYW0gc3RyaW5nICRlbmNvZGVmcm9tIOWkieaPm+WJjeOBruaWh+Wtl+OCu+ODg+ODiOOAguecgeeVpeaZguOAgeiHquWLleaknOWHugoJICogQHJldHVybiBzdHJpbmcg5paH5a2X44K744OD44OI5aSJ5o+b5b6M44Gu44OG44Kt44K544OICgkgKi8KCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGNvbnZlcnRfZW5jb2RpbmcoICR0ZXh0LCAkZW5jb2RlID0gbnVsbCwgJGVuY29kZWZyb20gPSBudWxsICl7CgkJaWYoICFpc19jYWxsYWJsZSggJ21iX2ludGVybmFsX2VuY29kaW5nJyApICl7IHJldHVybiAkdGV4dDsgfQoJCWlmKCAhc3RybGVuKCAkZW5jb2RlZnJvbSApICl7ICRlbmNvZGVmcm9tID0gbWJfaW50ZXJuYWxfZW5jb2RpbmcoKS4nLFVURi04LFNKSVMtd2luLGV1Y0pQLXdpbixTSklTLEVVQy1KUCxKSVMsQVNDSUknOyB9CgkJaWYoICFzdHJsZW4oICRlbmNvZGUgKSApeyAkZW5jb2RlID0gbWJfaW50ZXJuYWxfZW5jb2RpbmcoKTsgfQoKCQlpZiggaXNfYXJyYXkoICR0ZXh0ICkgKXsKCQkJJHJ0biA9IGFycmF5KCk7CgkJCWlmKCAhY291bnQoICR0ZXh0ICkgKXsgcmV0dXJuICR0ZXh0OyB9CgkJCSRURVhUX0tFWVMgPSBhcnJheV9rZXlzKCAkdGV4dCApOwoJCQlmb3JlYWNoKCAkVEVYVF9LRVlTIGFzICRMaW5lICl7CgkJCQkkS0VZID0gbWJfY29udmVydF9lbmNvZGluZyggJExpbmUgLCAkZW5jb2RlICwgJGVuY29kZWZyb20gKTsKCQkJCWlmKCBpc19hcnJheSggJHRleHRbJExpbmVdICkgKXsKCQkJCQkkcnRuWyRLRVldID0gc2VsZjo6Y29udmVydF9lbmNvZGluZyggJHRleHRbJExpbmVdICwgJGVuY29kZSAsICRlbmNvZGVmcm9tICk7CgkJCQl9ZWxzZXsKCQkJCQkkcnRuWyRLRVldID0gQG1iX2NvbnZlcnRfZW5jb2RpbmcoICR0ZXh0WyRMaW5lXSAsICRlbmNvZGUgLCAkZW5jb2RlZnJvbSApOwoJCQkJfQoJCQl9CgkJfWVsc2V7CgkJCWlmKCAhc3RybGVuKCAkdGV4dCApICl7IHJldHVybiAkdGV4dDsgfQoJCQkkcnRuID0gQG1iX2NvbnZlcnRfZW5jb2RpbmcoICR0ZXh0ICwgJGVuY29kZSAsICRlbmNvZGVmcm9tICk7CgkJfQoJCXJldHVybiAkcnRuOwoJfQoKCS8qKgoJICog44Kv44Kp44O844OI44GV44KM44Gf5paH5a2X5YiX44Gu44Kv44Kp44O844OI6YOo5YiG44KS5Y+W44KK6Zmk44GP44CCCgkgKgoJICog44GT44Gu6Zai5pWw44Gv44CBUEhQ44GuIGBzdHJpcHNsYXNoZXMoKWAg44Gu44Op44OD44OR44O844Gn44GZ44CCCgkgKiDphY3liJfjgpLlj5fjgZHlj5bjgovjgajlho3luLDnmoTjgavmloflrZfliJfjgpLlpInmj5vjgZfjgabov5TjgZfjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gbWl4ZWQgJHRleHQg44OG44Kt44K544OICgkgKiBAcmV0dXJuIHN0cmluZyDjgq/jgqnjg7zjg4jjgYzlhYPjgavmiLvjgZXjgozjgZ/jg4bjgq3jgrnjg4gKCSAqLwoJcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gc3RyaXBzbGFzaGVzKCAkdGV4dCApewoJCWlmKCBpc19hcnJheSggJHRleHQgKSApewoJCQkvLyDphY3liJfjgarjgokKCQkJZm9yZWFjaCggJHRleHQgYXMgJGtleT0+JHZhbCApewoJCQkJJHRleHRbJGtleV0gPSBzZWxmOjpzdHJpcHNsYXNoZXMoICR2YWwgKTsKCQkJfQoJCX1lbHNlaWYoIGlzX3N0cmluZyggJHRleHQgKSApewoJCQkvLyDmloflrZfliJfjgarjgokKCQkJJHRleHQgPSBzdHJpcHNsYXNoZXMoICR0ZXh0ICk7CgkJfQoJCXJldHVybgkkdGV4dDsKCX0KCgkvKioKCSAqIOOCq+ODrOODs+ODiOODh+OCo+ODrOOCr+ODiOODquOBruODkeOCueOCkuWPluW+lwoJICogQHJldHVybiBzdHJpbmcg44OJ44Kt44Ol44Oh44Oz44OI44Or44O844OI44GL44KJ44Gu44OR44K5KOOCueODqeODg+OCt+ODpemWieOBmCkKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBnZXRfcGF0aF9jdXJyZW50X2RpcigpewoJCS8vICDnkrDlooPlpInmlbDjgYvjgonoh6rli5XnmoTjgavliKTmlq3jgIIKCQkkcnRuID0gZGlybmFtZSggJHRoaXMtPmNvbmYtPnNlcnZlclsnU0NSSVBUX05BTUUnXSApOwoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cyggJ1JFTU9URV9BRERSJyAsICR0aGlzLT5jb25mLT5zZXJ2ZXIgKSApewoJCQkvLyAgQ1VJ44GL44KJ6LW35YuV44GV44KM44Gf5aC05ZCICgkJCS8vICDjg4njgq3jg6Xjg6Hjg7Pjg4jjg6vjg7zjg4jjgYzliKTlrprjgafjgY3jgarjgYTjga7jgafjgIEKCQkJLy8gIOODieOCreODpeODoeODs+ODiOODq+ODvOODiOebtOS4i+OBq+OBguOCi+OCguOBruOBqOOBmeOCi+OAggoJCQkkcnRuID0gJy8nOwoJCX0KCQkkcnRuID0gc3RyX3JlcGxhY2UoJ1xcJywnLycsJHJ0bik7CgkJJHJ0biAuPSAoJHJ0biE9Jy8nPycvJzonJyk7CgkJcmV0dXJuICRydG47Cgl9Ly9nZXRfcGF0aF9jdXJyZW50X2RpcigpCgp9Cj8+',
           "user" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiB1c2VyIGNsYXNzCiAqCiAqIEBhdXRob3IgVG9tb3lhIEtveWFuYWdpIDx0b21rNzlAZ21haWwuY29tPgogKi8KY2xhc3MgdXNlcnsKCXByaXZhdGUgJHJlbmNvbjsKCgkvKioKCSAqIENvbnN0cnVjdG9yCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCggJHJlbmNvbiApewoJCSR0aGlzLT5yZW5jb24gPSAkcmVuY29uOwoJfQoKCS8qKgoJICog44Ot44Kw44Kk44Oz44GX44Gm44GE44KL44GLCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc19sb2dpbigpewoJCSRsb2dpbl9pZCA9ICR0aGlzLT5nZXRfdXNlcl9pZCgpOwoJCXJldHVybiAhIXN0cmxlbigkbG9naW5faWQpOwoJfQoKCS8qKgoJICog44Om44O844K244O8SUTjgpLlj5blvpcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF91c2VyX2lkKCl7CgkJJGxvZ2luX2lkID0gJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9zZXNzaW9uKCR0aGlzLT5yZW5jb24tPmFwcF9pZCgpLidfc2VzX2xvZ2luX2lkJyk7CgkJcmV0dXJuICRsb2dpbl9pZDsKCX0KCn0KPz4=',
           "login" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiBsb2dpbiBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIGxvZ2luewoJcHJpdmF0ZSAkcmVuY29uOwoJcHJpdmF0ZSAkYXBwX2luZm87CgoJLyoqCgkgKiBDb25zdHJ1Y3RvcgoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoICRyZW5jb24sICRhcHBfaW5mbyApewoJCSR0aGlzLT5yZW5jb24gPSAkcmVuY29uOwoJCSR0aGlzLT5hcHBfaW5mbyA9IChvYmplY3QpICRhcHBfaW5mbzsKCX0KCgkvKioKCSAqIOODreOCsOOCpOODs+OBl+OBpuOBhOOCi+OBi+iqv+OBueOCiwoJICovCglwdWJsaWMgZnVuY3Rpb24gY2hlY2soKXsKCgkJaWYoICEkdGhpcy0+cmVuY29uLT5jb25mKCktPmlzX2xvZ2luX3JlcXVpcmVkKCkgKXsKCQkJLy8g44Om44O844K244O844GM6Kit5a6a44GV44KM44Gm44GE44Gq44GR44KM44Gw44CB44Ot44Kw44Kk44Oz44Gu6KmV5L6h44KS6KGM44KP44Gq44GE44CCCgkJCXJldHVybiB0cnVlOwoJCX0KCgkJJHVzZXJzID0gKGFycmF5KSAkdGhpcy0+cmVuY29uLT5jb25mKCktPnVzZXJzOwoJCSRzZXNfaWQgPSAkdGhpcy0+cmVuY29uLT5hcHBfaWQoKS4nX3Nlc19sb2dpbl9pZCc7CgkJJHNlc19wdyA9ICR0aGlzLT5yZW5jb24tPmFwcF9pZCgpLidfc2VzX2xvZ2luX3B3JzsKCgkJJGxvZ2luX2lkID0gJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9wYXJhbSgnbG9naW5faWQnKTsKCQkkbG9naW5fcHcgPSAkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X3BhcmFtKCdsb2dpbl9wdycpOwoJCSRsb2dpbl90cnkgPSAkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X3BhcmFtKCdsb2dpbl90cnknKTsKCQlpZiggc3RybGVuKCAkbG9naW5fdHJ5ICkgJiYgc3RybGVuKCRsb2dpbl9pZCkgJiYgc3RybGVuKCRsb2dpbl9wdykgKXsKCQkJLy8g44Ot44Kw44Kk44Oz6KmV5L6hCgkJCWlmKCBhcnJheV9rZXlfZXhpc3RzKCRsb2dpbl9pZCwgJHVzZXJzKSAmJiAkdXNlcnNbJGxvZ2luX2lkXSA9PSBzaGExKCRsb2dpbl9wdykgKXsKCQkJCSR0aGlzLT5yZW5jb24tPnJlcSgpLT5zZXRfc2Vzc2lvbigkc2VzX2lkLCAkbG9naW5faWQpOwoJCQkJJHRoaXMtPnJlbmNvbi0+cmVxKCktPnNldF9zZXNzaW9uKCRzZXNfcHcsIHNoYTEoJGxvZ2luX3B3KSk7CgkJCQloZWFkZXIoJ0xvY2F0aW9uOiA/YT0nLnVybGVuY29kZSgkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X3BhcmFtKCdhJykpKTsKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJfQoKCgkJJGxvZ2luX2lkID0gJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9zZXNzaW9uKCRzZXNfaWQpOwoJCSRsb2dpbl9wd19oYXNoID0gJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9zZXNzaW9uKCRzZXNfcHcpOwoJCWlmKCBzdHJsZW4oJGxvZ2luX2lkKSAmJiBzdHJsZW4oJGxvZ2luX3B3X2hhc2gpICl7CgkJCS8vIOODreOCsOOCpOODs+a4iOOBv+OBi+ipleS+oQoJCQlpZiggYXJyYXlfa2V5X2V4aXN0cygkbG9naW5faWQsICR1c2VycykgJiYgJHVzZXJzWyRsb2dpbl9pZF0gPT0gJGxvZ2luX3B3X2hhc2ggKXsKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJCSR0aGlzLT5yZW5jb24tPnJlcSgpLT5kZWxldGVfc2Vzc2lvbigkc2VzX2lkKTsKCQkJJHRoaXMtPnJlbmNvbi0+cmVxKCktPmRlbGV0ZV9zZXNzaW9uKCRzZXNfcHcpOwoJCQkkdGhpcy0+cmVuY29uLT5mb3JiaWRkZW4oKTsKCQkJZXhpdDsKCQl9CgoJCXJldHVybiBmYWxzZTsKCX0KCgkvKioKCSAqIOODreOCsOOCpOODs+eUu+mdouOCkuihqOekuuOBl+OBpue1guS6huOBmeOCiwoJICovCglwdWJsaWMgZnVuY3Rpb24gcGxlYXNlX2xvZ2luKCl7CgkJaGVhZGVyKCdDb250ZW50LXR5cGU6IHRleHQvaHRtbCcpOwoKLyogcm91dGU6bG9naW4gKi8KCgkJb2Jfc3RhcnQoKTsKCQk/Pgo8IWRvY3R5cGUgaHRtbD4KPGh0bWw+Cgk8aGVhZD4KCQk8bWV0YSBjaGFyc2V0PSJVVEYtOCIgLz4KCQk8dGl0bGU+PD89IGh0bWxzcGVjaWFsY2hhcnMoICR0aGlzLT5hcHBfaW5mby0+bmFtZSApID8+PC90aXRsZT4KCQk8bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQ9Im5vZm9sbG93LCBub2luZGV4LCBub2FyY2hpdmUiIC8+CgkJPD89ICR0aGlzLT5ta19jc3MoKSA/PgoJPC9oZWFkPgoJPGJvZHk+CgkJPGRpdiBjbGFzcz0idGhlbWUtY29udGFpbmVyIj4KCQkJPGgxPjw/PSBodG1sc3BlY2lhbGNoYXJzKCAkdGhpcy0+YXBwX2luZm8tPm5hbWUgKSA/PjwvaDE+CgkJCTw/cGhwIGlmKCBzdHJsZW4oJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9wYXJhbSgnbG9naW5fdHJ5JykpICl7ID8+CgkJCQk8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC1kYW5nZXIiIHJvbGU9ImFsZXJ0Ij4KCQkJCQk8ZGl2PklE44G+44Gf44Gv44OR44K544Ov44O844OJ44GM6YGV44GE44G+44GZ44CCPC9kaXY+CgkJCQk8L2Rpdj4KCQkJPD9waHAgfSA/PgoKCQkJPGZvcm0gYWN0aW9uPSI/IiBtZXRob2Q9InBvc3QiPgo8dGFibGU+Cgk8dHI+PHRoPklEOjwvdGg+PHRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJsb2dpbl9pZCIgdmFsdWU9IiIgLz48L3RkPgoJPHRyPjx0aD5QYXNzd29yZDo8L3RoPjx0ZD48aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9ImxvZ2luX3B3IiB2YWx1ZT0iIiAvPjwvdGQ+CjwvdGFibGU+CjxwPjxidXR0b24gdHlwZT0ic3VibWl0Ij5Mb2dpbjwvYnV0dG9uPjwvcD4KPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ibG9naW5fdHJ5IiB2YWx1ZT0iMSIgLz4KPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iYSIgdmFsdWU9Ijw/PSBodG1sc3BlY2lhbGNoYXJzKCR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfcGFyYW0oJ2EnKSkgPz4iIC8+CgkJCTwvZm9ybT4KCQk8L2Rpdj4KCTwvYm9keT4KPC9odG1sPgo8P3BocAoJCSRydG4gPSBvYl9nZXRfY2xlYW4oKTsKCQlwcmludCAkcnRuOwoJCWV4aXQ7Cgl9CgoJLyoqCgkgKiDjg63jgrDjgqLjgqbjg4jjgZfjgabntYLkuobjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGxvZ291dCgpewoJCSR0aGlzLT5yZW5jb24tPnJlcSgpLT5kZWxldGVfc2Vzc2lvbigkdGhpcy0+cmVuY29uLT5hcHBfaWQoKS4nX3Nlc19sb2dpbl9pZCcpOwoJCSR0aGlzLT5yZW5jb24tPnJlcSgpLT5kZWxldGVfc2Vzc2lvbigkdGhpcy0+cmVuY29uLT5hcHBfaWQoKS4nX3Nlc19sb2dpbl9wdycpOwoKLyogcm91dGU6bG9nb3V0ICovCgoJCWhlYWRlcignQ29udGVudC10eXBlOiB0ZXh0L2h0bWwnKTsKCQlvYl9zdGFydCgpOwoJCT8+CjwhZG9jdHlwZSBodG1sPgo8aHRtbD4KCTxoZWFkPgoJCTxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPgoJCTx0aXRsZT48Pz0gaHRtbHNwZWNpYWxjaGFycyggJHRoaXMtPmFwcF9pbmZvLT5uYW1lICkgPz48L3RpdGxlPgoJCTxtZXRhIG5hbWU9InJvYm90cyIgY29udGVudD0ibm9mb2xsb3csIG5vaW5kZXgsIG5vYXJjaGl2ZSIgLz4KCQk8Pz0gJHRoaXMtPm1rX2NzcygpID8+Cgk8L2hlYWQ+Cgk8Ym9keT4KCQk8ZGl2IGNsYXNzPSJ0aGVtZS1jb250YWluZXIiPgoJCQk8aDE+PD89IGh0bWxzcGVjaWFsY2hhcnMoICR0aGlzLT5hcHBfaW5mby0+bmFtZSApID8+PC9oMT4KCQkJPHA+TG9nZ2VkIG91dC48L3A+CgkJCTxwPjxhIGhyZWY9Ij8iPkJhY2sgdG8gSG9tZTwvYT48L3A+CgkJPC9kaXY+Cgk8L2JvZHk+CjwvaHRtbD4KPD9waHAKCQkkcnRuID0gb2JfZ2V0X2NsZWFuKCk7CgkJcHJpbnQgJHJ0bjsKCQlleGl0OwoJfQoKCgkvKioKCSAqIENTU+OCkueUn+aIkAoJICovCglwcml2YXRlIGZ1bmN0aW9uIG1rX2NzcygpewoJCW9iX3N0YXJ0KCk7Pz4KCQk8c3R5bGU+CgkJCWh0bWwsIGJvZHkgewoJCQkJYmFja2dyb3VuZC1jb2xvcjogI2U3ZTdlNzsKCQkJCWNvbG9yOiAjMzMzOwoJCQkJZm9udC1zaXplOiAxNnB4OwoJCQkJbWFyZ2luOiAwOwoJCQkJcGFkZGluZzogMDsKCQkJfQoJCQkudGhlbWUtY29udGFpbmVyIHsKCQkJCWJveC1zaXppbmc6IGJvcmRlci1ib3g7CgkJCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJCQlwYWRkaW5nOiA0ZW0gMjBweDsKCQkJCW1hcmdpbjogMzBweCBhdXRvOwoJCQkJd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpOwoJCQkJbWF4LXdpZHRoOiA2MDBweDsKCQkJCWJhY2tncm91bmQtY29sb3I6ICNmNmY2ZjY7CgkJCQlib3JkZXI6IDFweCBzb2xpZCAjYmJiOwoJCQkJYm9yZGVyLXJhZGl1czogNXB4OwoJCQkJYm94LXNoYWRvdzogMCAycHggMTJweCByZ2JhKDAsMCwwLDAuMSk7CgkJCX0KCQkJaDEgewoJCQkJZm9udC1zaXplOiAyMnB4OwoJCQl9CgkJCXRhYmxlewoJCQkJbWFyZ2luOiAwIGF1dG87CgkJCQltYXgtd2lkdGg6IDEwMCU7CgkJCX0KCQkJdGggewoJCQkJdGV4dC1hbGlnbjogcmlnaHQ7CgkJCQlwYWRkaW5nOiAzcHg7CgkJCX0KCQkJdGQgewoJCQkJdGV4dC1hbGlnbjogbGVmdDsKCQkJCXBhZGRpbmc6IDNweDsKCQkJfQoJCQlpbnB1dFt0eXBlPXRleHRdLAoJCQlpbnB1dFt0eXBlPXBhc3N3b3JkXXsKCQkJCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCQkJCWJveC1zaXppbmc6IGJvcmRlci1ib3g7CgkJCQl3aWR0aDogMTYwcHg7CgkJCQltaW4td2lkdGg6IDUwcHg7CgkJCQltYXgtd2lkdGg6IDEwMCU7CgkJCQlwYWRkaW5nOiAuMzc1cmVtIC43NXJlbTsKCQkJCWZvbnQtc2l6ZTogMWVtOwoJCQkJZm9udC13ZWlnaHQ6IG5vcm1hbDsKCQkJCWxpbmUtaGVpZ2h0OiAxLjU7CgkJCQljb2xvcjogIzMzMzsKCQkJCWJhY2tncm91bmQtY29sb3I6ICNmNmY2ZjY7CgkJCQliYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94OwoJCQkJYm9yZGVyOiAxcHggc29saWQgI2NlZDRkYTsKCQkJCWJvcmRlci1yYWRpdXM6IC4yNXJlbTsKCQkJCXRyYW5zaXRpb246IGJvcmRlci1jb2xvciAuMTVzIGVhc2UtaW4tb3V0LGJveC1zaGFkb3cgLjE1cyBlYXNlLWluLW91dDsKCQkJfQoJCQlpbnB1dFt0eXBlPXRleHRdOmZvY3VzLAoJCQlpbnB1dFt0eXBlPXBhc3N3b3JkXTpmb2N1c3sKCQkJCWNvbG9yOiAjMzMzOwoJCQkJYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKCQkJCWJvcmRlci1jb2xvcjogIzgwYmRmZjsKCQkJCW91dGxpbmU6IDA7CgkJCQlib3gtc2hhZG93OiAwIDAgMCAuMnJlbSByZ2JhKDAsMTIzLDI1NSwuMjUpOwoJCQl9CgoJCQlidXR0b24gewoJCQkJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJCQkJYm9yZGVyLXJhZGl1czogM3B4OwoJCQkJYmFja2dyb3VuZC1jb2xvcjogI2Y1ZmJmZTsKCQkJCWNvbG9yOiAjMDBhMGU2OwoJCQkJYm9yZGVyOiAxcHggc29saWQgIzAwYTBlNjsKCQkJCWJveC1zaGFkb3c6IDAgMnB4IDBweCByZ2JhKDAsMCwwLDAuMSk7CgkJCQlwYWRkaW5nOiAwLjVlbSAyZW07CgkJCQlmb250LXNpemU6MWVtOwoJCQkJZm9udC13ZWlnaHQ6IG5vcm1hbDsKCQkJCWxpbmUtaGVpZ2h0OiAxOwoJCQkJdGV4dC1kZWNvcmF0aW9uOiBub25lOwoJCQkJdGV4dC1hbGlnbjogY2VudGVyOwoJCQkJY3Vyc29yOiBwb2ludGVyOwoJCQkJYm94LXNpemluZzogYm9yZGVyLWJveDsKCQkJCWFsaWduLWl0ZW1zOiBzdHJldGNoOwoJCQkJdHJhbnNpdGlvbjoKCQkJCQljb2xvciAwLjFzLAoJCQkJCWJhY2tncm91bmQtY29sb3IgMC4xcywKCQkJCQl0cmFuc2Zvcm0gMC4xcwoJCQkJOwoJCQl9CgkJCWJ1dHRvbjpmb2N1cywKCQkJYnV0dG9uOmhvdmVyewoJCQkJYmFja2dyb3VuZC1jb2xvcjogI2Q5ZjFmYjsKCQkJfQoJCQlidXR0b246aG92ZXJ7CgkJCQliYWNrZ3JvdW5kLWNvbG9yOiAjY2NlY2ZhOwoJCQl9CgkJCWJ1dHRvbjphY3RpdmV7CgkJCQliYWNrZ3JvdW5kLWNvbG9yOiAjMDBhMGU2OwoJCQkJY29sb3I6ICNmZmY7CgkJCX0KCgkJPC9zdHlsZT4KCgkJPD9waHAKCQkkc3JjID0gb2JfZ2V0X2NsZWFuKCk7CgkJcmV0dXJuICRzcmM7Cgl9Cgp9Cj8+',
           "resources" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiByZXNvdXJjZU1nciBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIHJlc291cmNlc3sKCXByaXZhdGUgJG1haW47CgoJLyoqCgkgKiBDb25zdHJ1Y3RvcgoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoICRtYWluICl7CgkJJHRoaXMtPm1haW4gPSAkbWFpbjsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZWNob19yZXNvdXJjZSggJHBhdGggKXsKCQkkZXh0ID0gbnVsbDsKCQlpZiggcHJlZ19tYXRjaCgnL1wuKFthLXpBLVowLTlcX1wtXSopJC8nLCAkcGF0aCwgJG1hdGNoZWQpICl7CgkJCSRleHQgPSAkbWF0Y2hlZFsxXTsKCQkJJGV4dCA9IHN0cnRvbG93ZXIoJGV4dCk7CgkJCSRtaW1lID0gJHRoaXMtPmdldF9taW1lX3R5cGUoJGV4dCk7CgkJCWlmKCAhJG1pbWUgKXsgJG1pbWUgPSAndGV4dC9odG1sJzsgfQoJCQloZWFkZXIoJ0NvbnRlbnQtdHlwZTogJy4kbWltZSk7CgkJfQoJCWVjaG8gJHRoaXMtPmdldCgkcGF0aCk7CgkJZXhpdDsKCX0KCgkvKioKCSAqIOODquOCveODvOOCueOCkuWPluW+lwoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0KCAkcGF0aCApewoJCSRwYXRoID0gcHJlZ19yZXBsYWNlKCAnLyQoPzpcLyp8XC5cLj9cLykqLycsICcnLCAkcGF0aCApOwoKCQkkcmVzb3VyY2VzID0gYXJyYXkoCgovKiBmdW5jdGlvbiByZXNvdXJjZSgpICovCgoJCSk7CgoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cygkcGF0aCwgJHJlc291cmNlcykgKXsgcmV0dXJuIGZhbHNlOyB9CgkJcmV0dXJuIGJhc2U2NF9kZWNvZGUoJHJlc291cmNlc1skcGF0aF0pOwoJfQoKCS8qKgoJICog5ouh5by15a2Q44GL44KJIG1pbWUtdHlwZSDjgpLlvpfjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9taW1lX3R5cGUoJGV4dCl7CgkJc3dpdGNoKCAkZXh0ICl7CgkJCWNhc2UgJ2h0bWwnOgoJCQljYXNlICdodG0nOgoJCQkJcmV0dXJuICd0ZXh0L2h0bWwnOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ2pzJzoKCQkJCXJldHVybiAndGV4dC9qYXZhc2NyaXB0JzsKCQkJCWJyZWFrOwoJCQljYXNlICdjc3MnOgoJCQljYXNlICdzY3NzJzoKCQkJCXJldHVybiAndGV4dC9jc3MnOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ2dpZic6CgkJCQlyZXR1cm4gJ2ltYWdlL2dpZic7CgkJCQlicmVhazsKCQkJY2FzZSAncG5nJzoKCQkJCXJldHVybiAnaW1hZ2UvcG5nJzsKCQkJCWJyZWFrOwoJCQljYXNlICdqcGcnOgoJCQljYXNlICdqcGVnJzoKCQkJY2FzZSAnanBlJzoKCQkJCXJldHVybiAnaW1hZ2UvanBlZyc7CgkJCQlicmVhazsKCQkJY2FzZSAnc3ZnJzoKCQkJCXJldHVybiAnaW1hZ2Uvc3ZnK3htbCAnOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ3RleHQnOgoJCQljYXNlICd0eHQnOgoJCQljYXNlICdsb2cnOgoJCQljYXNlICdzaCc6CgkJCWNhc2UgJ2JhdCc6CgkJCWNhc2UgJ3BocCc6CgkJCWNhc2UgJ2pzb24nOgoJCQljYXNlICd5bWwnOgoJCQljYXNlICd5bWwnOgoJCQljYXNlICdodGFjY2Vzcyc6CgkJCQlyZXR1cm4gJ3RleHQvcGxhaW4nOwoJCQkJYnJlYWs7CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCn0KPz4=',
           "theme" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiB0aGVtZSBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIHRoZW1lewoJcHJpdmF0ZSAkcmVuY29uOwoJcHJpdmF0ZSAkYXBwX2luZm87Cglwcml2YXRlICRjdXJyZW50X3BhZ2VfaW5mbzsKCgkvKioKCSAqIENvbnN0cnVjdG9yCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCggJHJlbmNvbiwgJGFwcF9pbmZvLCAkY3VycmVudF9wYWdlX2luZm8gPSBhcnJheSgpICl7CgkJJHRoaXMtPnJlbmNvbiA9ICRyZW5jb247CgkJJHRoaXMtPmFwcF9pbmZvID0gKG9iamVjdCkgJGFwcF9pbmZvOwoJCSR0aGlzLT5jdXJyZW50X3BhZ2VfaW5mbyA9IChvYmplY3QpICRjdXJyZW50X3BhZ2VfaW5mbzsKCX0KCgkvKioKCSAqIOODmuODvOOCuOaDheWgsQoJICovCglwdWJsaWMgZnVuY3Rpb24gc2V0X2N1cnJlbnRfcGFnZV9pbmZvKCAkcGFnZV9pbmZvICl7CgkJJHRoaXMtPmN1cnJlbnRfcGFnZV9pbmZvID0gKG9iamVjdCkgYXJyYXlfbWVyZ2UoKGFycmF5KSAkdGhpcy0+Y3VycmVudF9wYWdlX2luZm8sIChhcnJheSkgJHBhZ2VfaW5mbyk7CgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkgKiDjgqLjg5fjg6rjgrHjg7zjgrfjg6fjg7Pmg4XloLHjgpLlj5blvpcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGFwcF9pbmZvKCl7CgkJcmV0dXJuICR0aGlzLT5hcHBfaW5mbzsKCX0KCgkvKioKCSAqIOODmuODvOOCuOaDheWgseOCkuWPluW+lwoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2N1cnJlbnRfcGFnZV9pbmZvKCl7CgkJcmV0dXJuICR0aGlzLT5jdXJyZW50X3BhZ2VfaW5mbzsKCX0KCgkvKioKCSAqIOODhuODvOODnuOBq+OCs+ODs+ODhuODs+ODhOOCkuWMheOCk+OBp+i/lOOBmQoJICovCglwdWJsaWMgZnVuY3Rpb24gYmluZCggJGNvbnRlbnQgKXsKCQkkYWN0aW9uX2FyeSA9IGV4cGxvZGUoJy4nLCAkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X3BhcmFtKCdhJykpOwoJCWlmKCAhaXNfYXJyYXkoJGFjdGlvbl9hcnkpIHx8ICFjb3VudCgkYWN0aW9uX2FyeSkgKXsKCQkJJGFjdGlvbl9hcnlbMF0gPSAnJzsKCQl9CgkJJGNsYXNzX2FjdGl2ZVsnYWN0aXZlJ10gPSAkYWN0aW9uX2FyeVswXTsKCQkkcmVuY29uID0gJHRoaXMtPnJlbmNvbjsKCgkJb2Jfc3RhcnQoKTsKCQk/Pi8qIHRoZW1lIHRlbXBsYXRlICovPD9waHAKCQkkcnRuID0gb2JfZ2V0X2NsZWFuKCk7CgoJCXJldHVybiAkcnRuOwoJfQp9Cj8+',
       );
       return base64_decode($files[$className]);
   }
}
