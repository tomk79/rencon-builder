<?php
namespace tomk79\renconBuilder;

class framework_files {
   public function get( $className ) {
       $files = array(
           "app" => 'PD9waHAKLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIDwhLS0gYXBwbmFtZSAtLT4gdjwhLS0gdmVyc2lvbiAtLT4KCi0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8vID0tPS09LT0tPS09LT0tPS09LT0tPS09IENvbmZpZ3VyYXRpb24gU1RBUlQgPS09LT0tPS09LT0tPS09LT0tPS09LT0KCi8qLS0gY29uZmlnIC0tKi8KCi8vID0tPS09LT0tPS09LT0tPS09LT0tPS09IC8gQ29uZmlndXJhdGlvbiBFTkQgPS09LT0tPS09LT0tPS09LT0tPS09LT0KCgokYXBwID0gbmV3IGFwcCggJGNvbmYgKTsKJGFwcC0+cnVuKCk7CgpjbGFzcyBhcHAgewoKCXByaXZhdGUgJGNvbmY7Cglwcml2YXRlICRmczsKCXByaXZhdGUgJHJlcTsKCXByaXZhdGUgJHJlc291cmNlczsKCglwcml2YXRlICRhcHBfaWQgPSAnPCEtLSBhcHBfaWQgLS0+JzsKCXByaXZhdGUgJGFwcF9uYW1lID0gJzwhLS0gYXBwX25hbWUgLS0+JzsKCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoICRjb25mICl7CgkJJHRoaXMtPmNvbmYgPSBuZXcgY29uZiggJGNvbmYgKTsKCQkkdGhpcy0+ZnMgPSBuZXcgZmlsZXN5c3RlbSgpOwoJCSR0aGlzLT5yZXEgPSBuZXcgcmVxdWVzdCgpOwoJCSR0aGlzLT5yZXNvdXJjZXMgPSBuZXcgcmVzb3VyY2VzKCR0aGlzKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gY29uZigpeyByZXR1cm4gJHRoaXMtPmNvbmY7IH0KCXB1YmxpYyBmdW5jdGlvbiBmcygpeyByZXR1cm4gJHRoaXMtPmZzOyB9CglwdWJsaWMgZnVuY3Rpb24gcmVxKCl7IHJldHVybiAkdGhpcy0+cmVxOyB9CgoJcHVibGljIGZ1bmN0aW9uIHJ1bigpewoJCSRyb3V0ZSA9IGFycmF5KAoKLyogcm91dGVyICovCgoJCSk7CgoJCSRhY3Rpb24gPSAkdGhpcy0+cmVxLT5nZXRfcGFyYW0oJ2EnKTsKCQkkcmVzb3VyY2UgPSAkdGhpcy0+cmVxLT5nZXRfcGFyYW0oJ3JlcycpOwoJCSRjb250cm9sbGVyID0gbnVsbDsKCgkJaWYoIHN0cmxlbigkcmVzb3VyY2UpICl7CgkJCWhlYWRlcigiQ29udGVudC10eXBlOiAiLiR0aGlzLT5yZXNvdXJjZXMtPmdldF9taW1lX3R5cGUoJHJlc291cmNlKSk7CgkJCSRiaW4gPSAkdGhpcy0+cmVzb3VyY2VzLT5nZXQoJHJlc291cmNlKTsKCQkJZWNobyAkYmluOwoJCQlleGl0KCk7CgoJCX0KCgkJaGVhZGVyKCdDb250ZW50LXR5cGU6IHRleHQvaHRtbCcpOyAvLyBkZWZhdWx0CgoJCSRsb2dpbiA9IG5ldyBsb2dpbigkdGhpcyk7CgkJaWYoICEkbG9naW4tPmNoZWNrKCkgKXsKCQkJJGxvZ2luLT5wbGVhc2VfbG9naW4oKTsKCQkJZXhpdDsKCQl9CgoJCWlmKCAkYWN0aW9uID09ICdsb2dvdXQnICl7CgkJCSRsb2dpbi0+bG9nb3V0KCk7CgkJCWV4aXQ7CgkJfQoKCgkJaWYoIGFycmF5X2tleV9leGlzdHMoICRhY3Rpb24sICRyb3V0ZSApICl7CgkJCSRjb250cm9sbGVyID0gJHJvdXRlWyRhY3Rpb25dOwoJCQlvYl9zdGFydCgpOwoJCQljYWxsX3VzZXJfZnVuYygkY29udHJvbGxlci0+cGFnZSk7CgkJCSRjb250ZW50ID0gb2JfZ2V0X2NsZWFuKCk7CgoJCQkkcGFnZV9pbmZvID0gYXJyYXkoCgkJCQknaWQnID0+ICRhY3Rpb24sCgkJCQkndGl0bGUnID0+ICRjb250cm9sbGVyLT50aXRsZSwKCQkJKTsKCQkJJGFwcF9pbmZvID0gYXJyYXkoCgkJCQknaWQnID0+ICR0aGlzLT5hcHBfaWQsCgkJCQknbmFtZScgPT4gJHRoaXMtPmFwcF9uYW1lLAoJCQkpOwoKCQkJJHRoZW1lID0gbmV3IHRoZW1lKCAkdGhpcywgJGFwcF9pbmZvLCAkcGFnZV9pbmZvICk7CgkJCSRodG1sID0gJHRoZW1lLT5iaW5kKCAkY29udGVudCApOwoJCQllY2hvICRodG1sOwoKCQl9CgkJZXhpdCgpOwoJfQoKfQo/Pg==',
           "conf" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiByZW5jb24gY29uZiBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIGNvbmZ7Cglwcml2YXRlICRjb25mOwoJcHVibGljICR1c2VyczsKCXB1YmxpYyAkZGlzYWJsZWQ7CglwdWJsaWMgJGRhdGFiYXNlczsKCXB1YmxpYyAkZmlsZXNfcGF0aF9yb290OwoJcHVibGljICRmaWxlc19wYXRoc19pbnZpc2libGU7CglwdWJsaWMgJGZpbGVzX3BhdGhzX3JlYWRvbmx5OwoKCS8qKgoJICogQ29uc3RydWN0b3IKCSAqLwoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCAkY29uZiApewoJCSR0aGlzLT5jb25mID0gKG9iamVjdCkgJGNvbmY7CgoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJLy8gJGNvbmYtPnVzZXJzCgkJJHRoaXMtPnVzZXJzID0gbnVsbDsKCQlpZiggcHJvcGVydHlfZXhpc3RzKCAkY29uZiwgJ3VzZXJzJyApICYmICFpc19udWxsKCAkY29uZi0+dXNlcnMgKSApewoJCQkkdGhpcy0+dXNlcnMgPSAoYXJyYXkpICRjb25mLT51c2VyczsKCQl9CgoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJLy8gJGNvbmYtPmRpc2FibGVkCgkJJHRoaXMtPmRpc2FibGVkID0gYXJyYXkoKTsKCQlpZiggcHJvcGVydHlfZXhpc3RzKCAkY29uZiwgJ2Rpc2FibGVkJyApICYmICFpc19udWxsKCAkY29uZi0+ZGlzYWJsZWQgKSApewoJCQkkdGhpcy0+ZGlzYWJsZWQgPSAoYXJyYXkpICRjb25mLT5kaXNhYmxlZDsKCQl9CgoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJLy8gJGNvbmYtPmRhdGFiYXNlcwoJCSR0aGlzLT5kYXRhYmFzZXMgPSBudWxsOwoJCWlmKCBwcm9wZXJ0eV9leGlzdHMoICRjb25mLCAnZGF0YWJhc2VzJyApICYmICFpc19udWxsKCAkY29uZi0+ZGF0YWJhc2VzICkgKXsKCQkJJHRoaXMtPmRhdGFiYXNlcyA9IChhcnJheSkgJGNvbmYtPmRhdGFiYXNlczsKCQl9CgoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJLy8gJGNvbmYtPmZpbGVzX3BhdGhfcm9vdAoJCSR0aGlzLT5maWxlc19wYXRoX3Jvb3QgPSByZWFscGF0aCgnLycpOwoJCWlmKCBwcm9wZXJ0eV9leGlzdHMoICRjb25mLCAnZmlsZXNfcGF0aF9yb290JyApICYmIGlzX3N0cmluZyggJGNvbmYtPmZpbGVzX3BhdGhfcm9vdCApICl7CgkJCSR0aGlzLT5maWxlc19wYXRoX3Jvb3QgPSAkY29uZi0+ZmlsZXNfcGF0aF9yb290OwoJCX0KCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkvLyAkY29uZi0+ZmlsZXNfcGF0aHNfaW52aXNpYmxlCgkJJHRoaXMtPmZpbGVzX3BhdGhzX2ludmlzaWJsZSA9IG51bGw7CgkJaWYoIHByb3BlcnR5X2V4aXN0cyggJGNvbmYsICdmaWxlc19wYXRoc19pbnZpc2libGUnICkgJiYgIWlzX251bGwoICRjb25mLT5maWxlc19wYXRoc19pbnZpc2libGUgKSApewoJCQkkdGhpcy0+ZmlsZXNfcGF0aHNfaW52aXNpYmxlID0gKGFycmF5KSAkY29uZi0+ZmlsZXNfcGF0aHNfaW52aXNpYmxlOwoJCX0KCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkvLyAkY29uZi0+ZmlsZXNfcGF0aHNfcmVhZG9ubHkKCQkkdGhpcy0+ZmlsZXNfcGF0aHNfcmVhZG9ubHkgPSBudWxsOwoJCWlmKCBwcm9wZXJ0eV9leGlzdHMoICRjb25mLCAnZmlsZXNfcGF0aHNfcmVhZG9ubHknICkgJiYgIWlzX251bGwoICRjb25mLT5maWxlc19wYXRoc19yZWFkb25seSApICl7CgkJCSR0aGlzLT5maWxlc19wYXRoc19yZWFkb25seSA9IChhcnJheSkgJGNvbmYtPmZpbGVzX3BhdGhzX3JlYWRvbmx5OwoJCX0KCgl9CgoJLyoqCgkgKiDjg63jgrDjgqTjg7PjgYzlv4XopoHjgYvvvJ8KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2xvZ2luX3JlcXVpcmVkKCl7CgkJaWYoICFpc19hcnJheSgkdGhpcy0+dXNlcnMpICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJcmV0dXJuIHRydWU7Cgl9Cgp9Cj8+',
           "filesystem" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiB0b21rNzkvZmlsZXN5c3RlbSBjb3JlIGNsYXNzCiAqCiAqIEBhdXRob3IgVG9tb3lhIEtveWFuYWdpIDx0b21rNzlAZ21haWwuY29tPgogKi8KY2xhc3MgZmlsZXN5c3RlbXsKCgkvKioKCSAqIOODleOCoeOCpOODq+OBiuOCiOOBs+ODh+OCo+ODrOOCr+ODiOODquaTjeS9nOaZguOBruODh+ODleOCqeODq+ODiOODkeODvOODn+ODg+OCt+ODp+ODswoJICovCglwcml2YXRlICRkZWZhdWx0X3Blcm1pc3Npb24gPSBhcnJheSgnZGlyJz0+MDc3NSwnZmlsZSc9PjA3NzUpOwoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgrfjgrnjg4bjg6Djga7mloflrZfjgrvjg4Pjg4gKCSAqLwoJcHJpdmF0ZSAkZmlsZXN5c3RlbV9lbmNvZGluZyA9IG51bGw7CgoJLyoqCgkgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr8KCSAqCgkgKiBAcGFyYW0gb2JqZWN0ICRjb25mIOioreWumuOCquODluOCuOOCp+OCr+ODiAoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGNvbmY9bnVsbCl7CgkJJGNvbmYgPSBqc29uX2RlY29kZSgganNvbl9lbmNvZGUoJGNvbmYpLCB0cnVlICk7CgkJaWYoIWlzX2FycmF5KCRjb25mKSl7CgkJCSRjb25mID0gYXJyYXkoKTsKCQl9CgkJaWYoIGFycmF5X2tleV9leGlzdHMoJ2ZpbGVfZGVmYXVsdF9wZXJtaXNzaW9uJywgJGNvbmYpICYmIHN0cmxlbiggJGNvbmZbJ2ZpbGVfZGVmYXVsdF9wZXJtaXNzaW9uJ10gKSApewoJCQkkdGhpcy0+ZGVmYXVsdF9wZXJtaXNzaW9uWydmaWxlJ10gPSBvY3RkZWMoICRjb25mWydmaWxlX2RlZmF1bHRfcGVybWlzc2lvbiddICk7CgkJfQoJCWlmKCBhcnJheV9rZXlfZXhpc3RzKCdkaXJfZGVmYXVsdF9wZXJtaXNzaW9uJywgJGNvbmYpICYmIHN0cmxlbiggJGNvbmZbJ2Rpcl9kZWZhdWx0X3Blcm1pc3Npb24nXSApICl7CgkJCSR0aGlzLT5kZWZhdWx0X3Blcm1pc3Npb25bJ2RpciddID0gb2N0ZGVjKCAkY29uZlsnZGlyX2RlZmF1bHRfcGVybWlzc2lvbiddICk7CgkJfQoJCWlmKCBhcnJheV9rZXlfZXhpc3RzKCdmaWxlc3lzdGVtX2VuY29kaW5nJywgJGNvbmYpICYmIHN0cmxlbiggJGNvbmZbJ2ZpbGVzeXN0ZW1fZW5jb2RpbmcnXSApICl7CgkJCSR0aGlzLT5maWxlc3lzdGVtX2VuY29kaW5nID0gdHJpbSggJGNvbmZbJ2ZpbGVzeXN0ZW1fZW5jb2RpbmcnXSApOwoJCX0KCX0KCgkvKioKCSAqIOabuOOBjei+vOOBvy/kuIrmm7jjgY3jgZfjgabjgojjgYTjgqLjgqTjg4bjg6DjgYvmpJzoqLzjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOabuOOBjei+vOOBv+WPr+iDveOBquWgtOWQiCBgdHJ1ZWDjgIHkuI3lj6/og73jgarloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX3dyaXRhYmxlKCAkcGF0aCApewoJCSRwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGgpOwoJCWlmKCAhJHRoaXMtPmlzX2ZpbGUoJHBhdGgpICl7CgkJCXJldHVybiBAaXNfd3JpdGFibGUoIGRpcm5hbWUoJHBhdGgpICk7CgkJfQoJCXJldHVybiBAaXNfd3JpdGFibGUoICRwYXRoICk7Cgl9Ly9pc193cml0YWJsZSgpCgoJLyoqCgkgKiDoqq3jgb/ovrzjgpPjgafjgojjgYTjgqLjgqTjg4bjg6DjgYvmpJzoqLzjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOiqreOBv+i+vOOBv+WPr+iDveOBquWgtOWQiCBgdHJ1ZWDjgIHkuI3lj6/og73jgarloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX3JlYWRhYmxlKCAkcGF0aCApewoJCSRwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGgpOwoJCXJldHVybiBAaXNfcmVhZGFibGUoICRwYXRoICk7Cgl9Ly9pc19yZWFkYWJsZSgpCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOODleOCoeOCpOODq+OBjOWtmOWcqOOBmeOCi+WgtOWQiCBgdHJ1ZWDjgIHlrZjlnKjjgZfjgarjgYTloLTlkIjjgIHjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rjgYzlrZjlnKjjgZnjgovloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2ZpbGUoICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgkJcmV0dXJuIEBpc19maWxlKCAkcGF0aCApOwoJfS8vaXNfZmlsZSgpCgoJLyoqCgkgKiDjgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jgYvjganjgYbjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOODleOCoeOCpOODq+OBjOOCt+ODs+ODnOODquODg+OCr+ODquODs+OCr+OBruWgtOWQiCBgdHJ1ZWDjgIHlrZjlnKjjgZfjgarjgYTloLTlkIjjgIHjgZ3jgozku6XlpJbjga7loLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2xpbmsoICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgkJcmV0dXJuIEBpc19saW5rKCAkcGF0aCApOwoJfS8vaXNfbGluaygpCgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOODh+OCo+ODrOOCr+ODiOODquOBjOWtmOWcqOOBmeOCi+WgtOWQiCBgdHJ1ZWDjgIHlrZjlnKjjgZfjgarjgYTloLTlkIjjgIHjgb7jgZ/jga/jg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZnjgovloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2RpciggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCQlyZXR1cm4gQGlzX2RpciggJHBhdGggKTsKCX0vL2lzX2RpcigpCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOODleOCoeOCpOODq+OBvuOBn+OBr+ODh+OCo+ODrOOCr+ODiOODquOBjOWtmOWcqOOBmeOCi+WgtOWQiCBgdHJ1ZWDjgIHlrZjlnKjjgZfjgarjgYTloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGZpbGVfZXhpc3RzKCAkcGF0aCApewoJCSRwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGgpOwoJCXJldHVybiBAZmlsZV9leGlzdHMoICRwYXRoICk7Cgl9Ly9maWxlX2V4aXN0cygpCgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgpLkvZzmiJDjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRkaXJwYXRoIOS9nOaIkOOBmeOCi+ODh+OCo+ODrOOCr+ODiOODquOBruODkeOCuQoJICogQHBhcmFtIGludCAkcGVybSDkvZzmiJDjgZnjgovjg4fjgqPjg6zjgq/jg4jjg6rjgavkuI7jgYjjgovjg5Hjg7zjg5/jg4Pjgrfjg6fjg7MKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBta2RpciggJGRpcnBhdGggLCAkcGVybSA9IG51bGwgKXsKCQkkZGlycGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRkaXJwYXRoKTsKCgkJaWYoICR0aGlzLT5pc19kaXIoICRkaXJwYXRoICkgKXsKCQkJLy8g5pei44Gr44OH44Kj44Os44Kv44OI44Oq44GM44GC44Gj44Gf44KJ44CB5L2c5oiQ44KS6Kmm44G/44Gq44GE44CCCgkJCSR0aGlzLT5jaG1vZCggJGRpcnBhdGggLCAkcGVybSApOwoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJJHJlc3VsdCA9IEBta2RpciggJGRpcnBhdGggKTsKCQkkdGhpcy0+Y2htb2QoICRkaXJwYXRoICwgJHBlcm0gKTsKCQljbGVhcnN0YXRjYWNoZSgpOwoJCXJldHVybgkkcmVzdWx0OwoJfS8vbWtkaXIoKQoKCS8qKgoJICog44OH44Kj44Os44Kv44OI44Oq44KS5L2c5oiQ44GZ44KLKOS4iuWxpOODh+OCo+ODrOOCr+ODiOODquOCguWFqOOBpuS9nOaIkCkKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRkaXJwYXRoIOS9nOaIkOOBmeOCi+ODh+OCo+ODrOOCr+ODiOODquOBruODkeOCuQoJICogQHBhcmFtIGludCAkcGVybSDkvZzmiJDjgZnjgovjg4fjgqPjg6zjgq/jg4jjg6rjgavkuI7jgYjjgovjg5Hjg7zjg5/jg4Pjgrfjg6fjg7MKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBta2Rpcl9yKCAkZGlycGF0aCAsICRwZXJtID0gbnVsbCApewoJCSRkaXJwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJGRpcnBhdGgpOwoJCWlmKCAkdGhpcy0+aXNfZGlyKCAkZGlycGF0aCApICl7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlpZiggJHRoaXMtPmlzX2ZpbGUoICRkaXJwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkcGF0aGFycmF5ID0gZXhwbG9kZSggRElSRUNUT1JZX1NFUEFSQVRPUiAsICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCAkdGhpcy0+Z2V0X3JlYWxwYXRoKCRkaXJwYXRoKSApICk7CgkJJHRhcmdldHBhdGggPSAnJzsKCQlmb3JlYWNoKCAkcGF0aGFycmF5IGFzICRpZHg9PiRMaW5lICl7CgkJCWlmKCAhc3RybGVuKCAkTGluZSApIHx8ICRMaW5lID09ICcuJyB8fCAkTGluZSA9PSAnLi4nICl7IGNvbnRpbnVlOyB9CgkJCWlmKCEoJGlkeD09PTAgJiYgRElSRUNUT1JZX1NFUEFSQVRPUiA9PSAnXFwnICYmIHByZWdfbWF0Y2goJy9eW2EtekEtWl1cOiQvcycsICRMaW5lKSkpewoJCQkJJHRhcmdldHBhdGggLj0gRElSRUNUT1JZX1NFUEFSQVRPUjsKCQkJfQoJCQkkdGFyZ2V0cGF0aCAuPSAkTGluZTsKCgkJCS8vIGNsZWFyc3RhdGNhY2hlKCk7CgkJCWlmKCAhJHRoaXMtPmlzX2RpciggJHRhcmdldHBhdGggKSApewoJCQkJJHRhcmdldHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCggJHRhcmdldHBhdGggKTsKCQkJCWlmKCAhJHRoaXMtPm1rZGlyKCAkdGFyZ2V0cGF0aCAsICRwZXJtICkgKXsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0KCQl9CgkJcmV0dXJuIHRydWU7Cgl9Ly9ta2Rpcl9yKCkKCgkvKioKCSAqIOODleOCoeOCpOODq+OChOODh+OCo+ODrOOCr+ODiOODquOCkuS4rei6q+OBlOOBqOWujOWFqOOBq+WJiumZpOOBmeOCi+OAggoJICoKCSAqIOOBk+OBruODoeOCveODg+ODieOBr+OAgeODleOCoeOCpOODq+OChOOCt+ODs+ODnOODquODg+OCr+ODquODs+OCr+OCguWJiumZpOOBl+OBvuOBmeOAggoJICog44OH44Kj44Os44Kv44OI44Oq44KS5YmK6Zmk44GZ44KL5aC05ZCI44Gv44CB5Lit6Lqr44GU44Go5a6M5YWo44Gr5YmK6Zmk44GX44G+44GZ44CCCgkgKiDjgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jga/jgIHjgZ3jga7lhYjjgpLov73jgo/jgZrjgIHjgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/mnKzkvZPjga7jgb/jgpLliYrpmaTjgZfjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOaIkOWKn+aZguOBqyBgdHJ1ZWDjgIHlpLHmlZfmmYLjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJtKCAkcGF0aCApewoJCSRwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGgpOwoKCQlpZiggISR0aGlzLT5pc193cml0YWJsZSggJHBhdGggKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCSRwYXRoID0gQHJlYWxwYXRoKCAkcGF0aCApOwoJCWlmKCAkcGF0aCA9PT0gZmFsc2UgKXsgcmV0dXJuIGZhbHNlOyB9CgkJaWYoICR0aGlzLT5pc19maWxlKCAkcGF0aCApIHx8ICR0aGlzLT5pc19saW5rKCAkcGF0aCApICl7CgkJCS8vIOODleOCoeOCpOODq+OBvuOBn+OBr+OCt+ODs+ODnOODquODg+OCr+ODquODs+OCr+OBruWgtOWQiOOBruWHpueQhgoJCQkkcmVzdWx0ID0gQHVubGluayggJHBhdGggKTsKCQkJcmV0dXJuCSRyZXN1bHQ7CgoJCX1lbHNlaWYoICR0aGlzLT5pc19kaXIoICRwYXRoICkgKXsKCQkJLy8g44OH44Kj44Os44Kv44OI44Oq44Gu5Yem55CGCgkJCSRmbGlzdCA9ICR0aGlzLT5scyggJHBhdGggKTsKCQkJaWYoIGlzX2FycmF5KCRmbGlzdCkgKXsKCQkJCWZvcmVhY2ggKCAkZmxpc3QgYXMgJExpbmUgKXsKCQkJCQlpZiggJExpbmUgPT0gJy4nIHx8ICRMaW5lID09ICcuLicgKXsgY29udGludWU7IH0KCQkJCQkkdGhpcy0+cm0oICRwYXRoLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgKTsKCQkJCX0KCQkJfQoJCQkkcmVzdWx0ID0gQHJtZGlyKCAkcGF0aCApOwoJCQlyZXR1cm4JJHJlc3VsdDsKCgkJfQoKCQlyZXR1cm4gZmFsc2U7Cgl9Ly9ybSgpCgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgpLliYrpmaTjgZnjgovjgIIKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jg4fjgqPjg6zjgq/jg4jjg6rjgpLliYrpmaTjgZfjgb7jgZnjgIIKCSAqIOS4rei6q+OBruOBquOBhOOAgeepuuOBruODh+OCo+ODrOOCr+ODiOODquS7peWkluOBr+WJiumZpOOBp+OBjeOBvuOBm+OCk+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44OH44Kj44Os44Kv44OI44Oq44Gu44OR44K5CgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gcm1kaXIoICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgoJCWlmKCAhJHRoaXMtPmlzX3dyaXRhYmxlKCAkcGF0aCApICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJJHBhdGggPSBAcmVhbHBhdGgoICRwYXRoICk7CgkJaWYoICRwYXRoID09PSBmYWxzZSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJHBhdGggKSB8fCAkdGhpcy0+aXNfbGluayggJHBhdGggKSApewoJCQkvLyDjg5XjgqHjgqTjg6vjgb7jgZ/jga/jgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jga7loLTlkIjjga7lh6bnkIYKCQkJLy8g44OH44Kj44Os44Kv44OI44Oq5Lul5aSW44Gv5YmK6Zmk44Gn44GN44G+44Gb44KT44CCCgkJCXJldHVybiBmYWxzZTsKCgkJfWVsc2VpZiggJHRoaXMtPmlzX2RpciggJHBhdGggKSApewoJCQkvLyDjg4fjgqPjg6zjgq/jg4jjg6rjga7lh6bnkIYKCQkJLy8gcm1kaXIoKSDjga/lho3luLDnmoTliYrpmaTjgpLooYzjgYTjgb7jgZvjgpPjgIIKCQkJLy8g5YaN5biw55qE44Gr5YmK6Zmk44GX44Gf44GE5aC05ZCI44Gv44CB5Luj44KP44KK44GrIGBybSgpYCDjgb7jgZ/jga8gYHJtZGlyX3IoKWAg44KS5L2/55So44GX44G+44GZ44CCCgkJCXJldHVybiBAcm1kaXIoICRwYXRoICk7CgkJfQoKCQlyZXR1cm4gZmFsc2U7Cgl9Ly9ybWRpcigpCgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgpLlho3luLDnmoTjgavliYrpmaTjgZnjgovjgIIKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jg4fjgqPjg6zjgq/jg4jjg6rjgpLlho3luLDnmoTjgavliYrpmaTjgZfjgb7jgZnjgIIKCSAqIOS4rei6q+OBruOBquOBhOOAgeepuuOBruODh+OCo+ODrOOCr+ODiOODquS7peWkluOBr+WJiumZpOOBp+OBjeOBvuOBm+OCk+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44OH44Kj44Os44Kv44OI44Oq44Gu44OR44K5CgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gcm1kaXJfciggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCgkJaWYoICEkdGhpcy0+aXNfd3JpdGFibGUoICRwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkcGF0aCA9IEByZWFscGF0aCggJHBhdGggKTsKCQlpZiggJHBhdGggPT09IGZhbHNlICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJaWYoICR0aGlzLT5pc19maWxlKCAkcGF0aCApIHx8ICR0aGlzLT5pc19saW5rKCAkcGF0aCApICl7CgkJCS8vIOODleOCoeOCpOODq+OBvuOBn+OBr+OCt+ODs+ODnOODquODg+OCr+ODquODs+OCr+OBruWgtOWQiOOBruWHpueQhgoJCQkvLyDjg4fjgqPjg6zjgq/jg4jjg6rku6XlpJbjga/liYrpmaTjgafjgY3jgb7jgZvjgpPjgIIKCQkJcmV0dXJuIGZhbHNlOwoKCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZGlyKCAkcGF0aCApICl7CgkJCS8vIOODh+OCo+ODrOOCr+ODiOODquOBruWHpueQhgoJCQkkZmlsZWxpc3QgPSAkdGhpcy0+bHMoJHBhdGgpOwoJCQlpZiggaXNfYXJyYXkoJGZpbGVsaXN0KSApewoJCQkJZm9yZWFjaCggJGZpbGVsaXN0IGFzICRiYXNlbmFtZSApewoJCQkJCWlmKCAkdGhpcy0+aXNfZmlsZSggJHBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kYmFzZW5hbWUgKSApewoJCQkJCQkkdGhpcy0+cm0oICRwYXRoLkRJUkVDVE9SWV9TRVBBUkFUT1IuJGJhc2VuYW1lICk7CgkJCQkJfWVsc2UgaWYoICEkdGhpcy0+cm1kaXJfciggJHBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kYmFzZW5hbWUgKSApewoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJfQoJCQl9CgkJCXJldHVybiAkdGhpcy0+cm1kaXIoICRwYXRoICk7CgkJfQoKCQlyZXR1cm4gZmFsc2U7Cgl9Ly9ybWRpcl9yKCkKCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgpLkuIrmm7jjgY3kv53lrZjjgZnjgovjgIIKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jgIFgJGZpbGVwYXRoYCDjgavjg4fjg7zjgr/jgpLkv53lrZjjgZfjgb7jgZnjgIIKCSAqIOOCguOBqOOCguOBqOS/neWtmOOBleOCjOOBpuOBhOOBn+WGheWuueOBr+egtOajhOOBleOCjOOAgeaWsOOBl+OBhOODh+ODvOOCv+OBp+S4iuabuOOBjeOBl+OBvuOBmeOAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGZpbGVwYXRoIOS/neWtmOWFiOODleOCoeOCpOODq+OBruODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkY29udGVudCDkv53lrZjjgZnjgovlhoXlrrkKCSAqIEBwYXJhbSBpbnQgJHBlcm0g5L+d5a2Y44GZ44KL44OV44Kh44Kk44Or44Gr5LiO44GI44KL44OR44O844Of44OD44K344On44OzCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gc2F2ZV9maWxlKCAkZmlsZXBhdGggLCAkY29udGVudCAsICRwZXJtID0gbnVsbCApewoJCSRmaWxlcGF0aCA9ICR0aGlzLT5nZXRfcmVhbHBhdGgoJGZpbGVwYXRoKTsKCQkkZmlsZXBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkZmlsZXBhdGgpOwoKCQlpZiggJHRoaXMtPmlzX2RpciggJGZpbGVwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZiggISR0aGlzLT5pc193cml0YWJsZSggJGZpbGVwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJaWYoICFzdHJsZW4oICRjb250ZW50ICkgKXsKCQkJLy8g56m655m944Gu44OV44Kh44Kk44Or44Gn5LiK5pu444GN44GX44Gf44GE5aC05ZCICgkJCWlmKCAkdGhpcy0+aXNfZmlsZSggJGZpbGVwYXRoICkgKXsKCQkJCUB1bmxpbmsoICRmaWxlcGF0aCApOwoJCQl9CgkJCUB0b3VjaCggJGZpbGVwYXRoICk7CgkJCSR0aGlzLT5jaG1vZCggJGZpbGVwYXRoICwgJHBlcm0gKTsKCQkJY2xlYXJzdGF0Y2FjaGUoKTsKCQkJcmV0dXJuICR0aGlzLT5pc19maWxlKCAkZmlsZXBhdGggKTsKCQl9CgoJCWNsZWFyc3RhdGNhY2hlKCk7CgkJJGZwID0gZm9wZW4oICRmaWxlcGF0aCwgJ3cnICk7CgkJaWYoICFpc19yZXNvdXJjZSggJGZwICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJZm9yICgkd3JpdHRlbiA9IDA7ICR3cml0dGVuIDwgc3RybGVuKCRjb250ZW50KTsgJHdyaXR0ZW4gKz0gJGZ3cml0ZSkgewoJCQkkZndyaXRlID0gZndyaXRlKCRmcCwgc3Vic3RyKCRjb250ZW50LCAkd3JpdHRlbikpOwoJCQlpZiAoJGZ3cml0ZSA9PT0gZmFsc2UpIHsKCQkJCWJyZWFrOwoJCQl9CgkJfQoKCQlmY2xvc2UoJGZwKTsKCgkJJHRoaXMtPmNobW9kKCAkZmlsZXBhdGggLCAkcGVybSApOwoJCWNsZWFyc3RhdGNhY2hlKCk7CgkJcmV0dXJuICFlbXB0eSggJHdyaXR0ZW4gKTsKCX0vL3NhdmVfZmlsZSgpCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjga7kuK3ouqvjgpLmloflrZfliJfjgajjgZfjgablj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOODleOCoeOCpOODq+OBruODkeOCuQoJICogQHJldHVybiBzdHJpbmcg44OV44Kh44Kk44OrIGAkcGF0aGAg44Gu5YaF5a65CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByZWFkX2ZpbGUoICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgkJcmV0dXJuIGZpbGVfZ2V0X2NvbnRlbnRzKCAkcGF0aCApOwoJfS8vZmlsZV9nZXRfY29udGVudHMoKQoKCS8qKgoJICog44OV44Kh44Kk44Or44Gu5pu05paw5pel5pmC44KS5q+U6LyD44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aF9hIOavlOi8g+WvvuixoUEKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGhfYiDmr5TovIPlr77osaFCCgkgKiBAcmV0dXJuIGJvb2x8bnVsbAoJICogYCRwYXRoX2FgIOOBruaWueOBjOaWsOOBl+OBi+OBo+OBn+WgtOWQiOOBqyBgdHJ1ZWDjgIEKCSAqIGAkcGF0aF9iYCDjga7mlrnjgYzmlrDjgZfjgYvjgaPjgZ/loLTlkIjjgasgYGZhbHNlYOOAgQoJICog5ZCM5pmC44Gg44Gj44Gf5aC05ZCI44GrIGBudWxsYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqCgkgKiDjgYTjgZrjgozjgYvkuIDmlrnjgIHjgb7jgZ/jga/kuKHmlrnjga7jg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZfjgarjgYTloLTlkIjjgIHmrKHjga7jgojjgYbjgavmjK/jgovoiJ7jgYTjgb7jgZnjgIIKCSAqIC0g5Lih5pa544Gu44OV44Kh44Kk44Or44GM5a2Y5Zyo44GX44Gq44GE5aC05ZCIID0gYG51bGxgCgkgKiAtICRwYXRoX2Eg44GM5a2Y5Zyo44Gb44Ga44CBJHBhdGhfYiDjga/lrZjlnKjjgZnjgovloLTlkIggPSBgZmFsc2VgCgkgKiAtICRwYXRoX2Eg44GM5a2Y5Zyo44GX44CBJHBhdGhfYiDjga/lrZjlnKjjgZfjgarjgYTloLTlkIggPSBgdHJ1ZWAKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX25ld2VyX2FfdGhhbl9iKCAkcGF0aF9hICwgJHBhdGhfYiApewoJCSRwYXRoX2EgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aF9hKTsKCQkkcGF0aF9iID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGhfYik7CgoJCS8vIOavlOi8g+OBp+OBjeOBquOBhOWgtOWQiOOBqwoJCWlmKCFmaWxlX2V4aXN0cygkcGF0aF9hKSAmJiAhZmlsZV9leGlzdHMoJHBhdGhfYikpe3JldHVybiBudWxsO30KCQlpZighZmlsZV9leGlzdHMoJHBhdGhfYSkpe3JldHVybiBmYWxzZTt9CgkJaWYoIWZpbGVfZXhpc3RzKCRwYXRoX2IpKXtyZXR1cm4gdHJ1ZTt9CgoJCSRtdGltZV9hID0gZmlsZW10aW1lKCAkcGF0aF9hICk7CgkJJG10aW1lX2IgPSBmaWxlbXRpbWUoICRwYXRoX2IgKTsKCQlpZiggJG10aW1lX2EgPiAkbXRpbWVfYiApewoJCQlyZXR1cm4gdHJ1ZTsKCQl9ZWxzZWlmKCAkbXRpbWVfYSA8ICRtdGltZV9iICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJcmV0dXJuIG51bGw7Cgl9Ly9pc19uZXdlcl9hX3RoYW5fYigpCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vlkI0v44OH44Kj44Os44Kv44OI44Oq5ZCN44KS5aSJ5pu044GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkb3JpZ2luYWwg54++5Zyo44Gu44OV44Kh44Kk44Or44G+44Gf44Gv44OH44Kj44Os44Kv44OI44Oq5ZCNCgkgKiBAcGFyYW0gc3RyaW5nICRuZXduYW1lIOWkieabtOW+jOOBruODleOCoeOCpOODq+OBvuOBn+OBr+ODh+OCo+ODrOOCr+ODiOODquWQjQoJICogQHJldHVybiBib29sIOaIkOWKn+aZgiBgdHJ1ZWDjgIHlpLHmlZfmmYIgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJlbmFtZSggJG9yaWdpbmFsICwgJG5ld25hbWUgKXsKCQkkb3JpZ2luYWwgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkb3JpZ2luYWwpOwoJCSRuZXduYW1lICA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRuZXduYW1lICk7CgoJCWlmKCAhQGZpbGVfZXhpc3RzKCAkb3JpZ2luYWwgKSApeyByZXR1cm4gZmFsc2U7IH0KCQlpZiggISR0aGlzLT5pc193cml0YWJsZSggJG9yaWdpbmFsICkgKXsgcmV0dXJuIGZhbHNlOyB9CgkJcmV0dXJuIEByZW5hbWUoICRvcmlnaW5hbCAsICRuZXduYW1lICk7Cgl9Ly9yZW5hbWUoKQoKCS8qKgoJICog44OV44Kh44Kk44Or5ZCNL+ODh+OCo+ODrOOCr+ODiOODquWQjeOCkuW8t+WItueahOOBq+WkieabtOOBmeOCi+OAggoJICoKCSAqIOenu+WLleWFiOOBruimquODh+OCo+ODrOOCr+ODiOODquOBjOWtmOWcqOOBl+OBquOBhOWgtOWQiOOBq+OCguOAgeimquODh+OCo+ODrOOCr+ODiOODquOCkuS9nOaIkOOBl+OBpuenu+WLleOBmeOCi+OCiOOBhuippuOBv+OBvuOBmeOAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJG9yaWdpbmFsIOePvuWcqOOBruODleOCoeOCpOODq+OBvuOBn+OBr+ODh+OCo+ODrOOCr+ODiOODquWQjQoJICogQHBhcmFtIHN0cmluZyAkbmV3bmFtZSDlpInmm7Tlvozjga7jg5XjgqHjgqTjg6vjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rlkI0KCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYIgYHRydWVg44CB5aSx5pWX5pmCIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByZW5hbWVfZiggJG9yaWdpbmFsICwgJG5ld25hbWUgKXsKCQkkb3JpZ2luYWwgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkb3JpZ2luYWwpOwoJCSRuZXduYW1lICA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRuZXduYW1lICk7CgoJCWlmKCAhQGZpbGVfZXhpc3RzKCAkb3JpZ2luYWwgKSApeyByZXR1cm4gZmFsc2U7IH0KCQlpZiggISR0aGlzLT5pc193cml0YWJsZSggJG9yaWdpbmFsICkgKXsgcmV0dXJuIGZhbHNlOyB9CgkJJGRpcm5hbWUgPSBkaXJuYW1lKCAkbmV3bmFtZSApOwoJCWlmKCAhJHRoaXMtPmlzX2RpciggJGRpcm5hbWUgKSApewoJCQlpZiggISR0aGlzLT5ta2Rpcl9yKCAkZGlybmFtZSApICl7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQl9CgkJcmV0dXJuIEByZW5hbWUoICRvcmlnaW5hbCAsICRuZXduYW1lICk7Cgl9Ly9yZW5hbWVfZigpCgoJLyoqCgkgKiDntbblr77jg5HjgrnjgpLlvpfjgovjgIIKCSAqCgkgKiDjg5Hjgrnmg4XloLHjgpLlj5fjgZHlj5bjgorjgIHjgrnjg6njg4Pjgrfjg6XjgYvjgonlp4vjgb7jgovjgrXjg7zjg5Djg7zlhoXpg6jntbblr77jg5HjgrnjgavlpInmj5vjgZfjgabov5TjgZfjgb7jgZnjgIIKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jgIFQSFDjga4gYHJlYWxwYXRoKClgIOOBqOeVsOOBquOCiuOAgeWtmOWcqOOBl+OBquOBhOODkeOCueOCgue1tuWvvuODkeOCueOBq+WkieaPm+OBl+OBvuOBmeOAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcGFyYW0gc3RyaW5nICRjZCDjgqvjg6zjg7Pjg4jjg4fjgqPjg6zjgq/jg4jjg6rjg5HjgrnjgIIKCSAqIOWun+WcqOOBmeOCi+acieWKueOBquODh+OCo+ODrOOCr+ODiOODquOBruODkeOCueOAgeOBvuOBn+OBr+e1tuWvvuODkeOCueOBruihqOePvuOBp+aMh+WumuOBleOCjOOCi+W/heimgeOBjOOBguOCiuOBvuOBmeOAggoJICog55yB55Wl5pmC44CB44Kr44Os44Oz44OI44OH44Kj44Os44Kv44OI44Oq44KS6Ieq5YuV5o6h55So44GX44G+44GZ44CCCgkgKiBAcmV0dXJuIHN0cmluZyDntbblr77jg5HjgrkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9yZWFscGF0aCggJHBhdGgsICRjZCA9ICcuJyApewoJCSRpc19kaXIgPSBmYWxzZTsKCQlpZiggcHJlZ19tYXRjaCggJy8oXC98XFxcXCkrJC9zJywgJHBhdGggKSApewoJCQkkaXNfZGlyID0gdHJ1ZTsKCQl9CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgkJaWYoIGlzX251bGwoJGNkKSApeyAkY2QgPSAnLic7IH0KCQkkY2QgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkY2QpOwoJCSRwcmVnX2RpcnNlcCA9IHByZWdfcXVvdGUoRElSRUNUT1JZX1NFUEFSQVRPUiwgJy8nKTsKCgkJaWYoICR0aGlzLT5pc19kaXIoJGNkKSApewoJCQkkY2QgPSByZWFscGF0aCgkY2QpOwoJCX1lbHNlaWYoICFwcmVnX21hdGNoKCcvXigoPzpbQS1aYS16XVxcOicuJHByZWdfZGlyc2VwLicpfCcuJHByZWdfZGlyc2VwLid7MSwyfSkoLio/KSQvJywgJGNkKSApewoJCQkkY2QgPSBmYWxzZTsKCQl9CgkJaWYoICRjZCA9PT0gZmFsc2UgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJJHByZWZpeCA9ICcnOwoJCSRsb2NhbHBhdGggPSAkcGF0aDsKCQlpZiggcHJlZ19tYXRjaCgnL14oKD86W0EtWmEtel1cXDonLiRwcmVnX2RpcnNlcC4nKXwnLiRwcmVnX2RpcnNlcC4nezEsMn0pKC4qPykkLycsICRwYXRoLCAkbWF0Y2hlZCkgKXsKCQkJLy8g44KC44Go44KC44Go57W25a++44OR44K544Gu5oyH5a6a44GL6Kq/44G544KLCgkJCSRwcmVmaXggPSBwcmVnX3JlcGxhY2UoJy8nLiRwcmVnX2RpcnNlcC4nJC8nLCAnJywgJG1hdGNoZWRbMV0pOwoJCQkkbG9jYWxwYXRoID0gJG1hdGNoZWRbMl07CgkJCSRjZCA9IG51bGw7IC8vIOWFg+OBruaMh+WumuOBjOe1tuWvvuODkeOCueOBoOOBo+OBn+OCieOAgeOCq+ODrOODs+ODiOODh+OCo+ODrOOCr+ODiOODquOBr+mWouS/guOBquOBhOOBruOBp+aNqOOBpuOCi+OAggoJCX0KCgkJJHBhdGggPSAkY2QuRElSRUNUT1JZX1NFUEFSQVRPUi4nLicuRElSRUNUT1JZX1NFUEFSQVRPUi4kbG9jYWxwYXRoOwoKCQlpZiggZmlsZV9leGlzdHMoICRwcmVmaXguJHBhdGggKSApewoJCQkkcnRuID0gcmVhbHBhdGgoICRwcmVmaXguJHBhdGggKTsKCQkJaWYoICRpc19kaXIgJiYgJHJ0biAhPSByZWFscGF0aCgnLycpICl7CgkJCQkkcnRuIC49IERJUkVDVE9SWV9TRVBBUkFUT1I7CgkJCX0KCQkJcmV0dXJuICRydG47CgkJfQoKCQkkcGF0aHMgPSBleHBsb2RlKCBESVJFQ1RPUllfU0VQQVJBVE9SLCAkcGF0aCApOwoJCSRwYXRoID0gJyc7CgkJZm9yZWFjaCggJHBhdGhzIGFzICRpZHg9PiRyb3cgKXsKCQkJaWYoICRyb3cgPT0gJycgfHwgJHJvdyA9PSAnLicgKXsKCQkJCWNvbnRpbnVlOwoJCQl9CgkJCWlmKCAkcm93ID09ICcuLicgKXsKCQkJCSRwYXRoID0gZGlybmFtZSgkcGF0aCk7CgkJCQlpZigkcGF0aCA9PSBESVJFQ1RPUllfU0VQQVJBVE9SKXsKCQkJCQkkcGF0aCA9ICcnOwoJCQkJfQoJCQkJY29udGludWU7CgkJCX0KCQkJaWYoISgkaWR4PT09MCAmJiBESVJFQ1RPUllfU0VQQVJBVE9SID09ICdcXCcgJiYgcHJlZ19tYXRjaCgnL15bYS16QS1aXVw6JC9zJywgJHJvdykpKXsKCQkJCSRwYXRoIC49IERJUkVDVE9SWV9TRVBBUkFUT1I7CgkJCX0KCQkJJHBhdGggLj0gJHJvdzsKCQl9CgoJCSRydG4gPSAkcHJlZml4LiRwYXRoOwoJCWlmKCAkaXNfZGlyICl7CgkJCSRydG4gLj0gRElSRUNUT1JZX1NFUEFSQVRPUjsKCQl9CgkJcmV0dXJuICRydG47Cgl9CgoJLyoqCgkgKiDnm7jlr77jg5HjgrnjgpLlvpfjgovjgIIKCSAqCgkgKiDjg5Hjgrnmg4XloLHjgpLlj5fjgZHlj5bjgorjgIHjg4njg4Pjg4jjgrnjg6njg4Pjgrfjg6XjgYvjgonlp4vjgb7jgovnm7jlr77ntbblr77jg5HjgrnjgavlpInmj5vjgZfjgabov5TjgZfjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeOBruODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkY2Qg44Kr44Os44Oz44OI44OH44Kj44Os44Kv44OI44Oq44OR44K544CCCgkgKiDlrp/lnKjjgZnjgovmnInlirnjgarjg4fjgqPjg6zjgq/jg4jjg6rjga7jg5HjgrnjgIHjgb7jgZ/jga/ntbblr77jg5Hjgrnjga7ooajnj77jgafmjIflrprjgZXjgozjgovlv4XopoHjgYzjgYLjgorjgb7jgZnjgIIKCSAqIOecgeeVpeaZguOAgeOCq+ODrOODs+ODiOODh+OCo+ODrOOCr+ODiOODquOCkuiHquWLleaOoeeUqOOBl+OBvuOBmeOAggoJICogQHJldHVybiBzdHJpbmcg55u45a++44OR44K5CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfcmVsYXRlZHBhdGgoICRwYXRoLCAkY2QgPSAnLicgKXsKCQkkaXNfZGlyID0gZmFsc2U7CgkJaWYoIHByZWdfbWF0Y2goICcvKFwvfFxcXFwpKyQvcycsICRwYXRoICkgKXsKCQkJJGlzX2RpciA9IHRydWU7CgkJfQoJCWlmKCBAIXN0cmxlbiggJGNkICkgKXsKCQkJJGNkID0gcmVhbHBhdGgoJy4nKTsKCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZGlyKCRjZCkgKXsKCQkJJGNkID0gcmVhbHBhdGgoJGNkKTsKCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZmlsZSgkY2QpICl7CgkJCSRjZCA9IHJlYWxwYXRoKGRpcm5hbWUoJGNkKSk7CgkJfQoJCSRwYXRoID0gJHRoaXMtPmdldF9yZWFscGF0aCgkcGF0aCwgJGNkKTsKCgkJJG5vcm1hbGl6ZSA9IGZ1bmN0aW9uKCAkdG1wX3BhdGgsICRmcyApewoJCQkkdG1wX3BhdGggPSAkZnMtPmxvY2FsaXplX3BhdGgoICR0bXBfcGF0aCApOwoJCQkkcHJlZ19kaXJzZXAgPSBwcmVnX3F1b3RlKERJUkVDVE9SWV9TRVBBUkFUT1IsICcvJyk7CgkJCWlmKCBESVJFQ1RPUllfU0VQQVJBVE9SID09ICdcXCcgKXsKCQkJCSR0bXBfcGF0aCA9IHByZWdfcmVwbGFjZSggJy9eW2EtekEtWl1cOi9zJywgJycsICR0bXBfcGF0aCApOwoJCQl9CgkJCSR0bXBfcGF0aCA9IHByZWdfcmVwbGFjZSggJy9eKCcuJHByZWdfZGlyc2VwLicpKy9zJywgJycsICR0bXBfcGF0aCApOwoJCQkkdG1wX3BhdGggPSBwcmVnX3JlcGxhY2UoICcvKCcuJHByZWdfZGlyc2VwLicpKyQvcycsICcnLCAkdG1wX3BhdGggKTsKCQkJaWYoIHN0cmxlbigkdG1wX3BhdGgpICl7CgkJCQkkdG1wX3BhdGggPSBleHBsb2RlKCBESVJFQ1RPUllfU0VQQVJBVE9SLCAkdG1wX3BhdGggKTsKCQkJfWVsc2V7CgkJCQkkdG1wX3BhdGggPSBhcnJheSgpOwoJCQl9CgoJCQlyZXR1cm4gJHRtcF9wYXRoOwoJCX07CgoJCSRjZCA9ICRub3JtYWxpemUoJGNkLCAkdGhpcyk7CgkJJHBhdGggPSAkbm9ybWFsaXplKCRwYXRoLCAkdGhpcyk7CgoJCSRydG4gPSBhcnJheSgpOwoJCXdoaWxlKCAxICl7CgkJCWlmKCAhY291bnQoJGNkKSB8fCAhY291bnQoJHBhdGgpICl7CgkJCQlicmVhazsKCQkJfQoJCQlpZiggJGNkWzBdID09PSAkcGF0aFswXSApewoJCQkJYXJyYXlfc2hpZnQoICRjZCApOwoJCQkJYXJyYXlfc2hpZnQoICRwYXRoICk7CgkJCQljb250aW51ZTsKCQkJfQoJCQlicmVhazsKCQl9CgkJaWYoIGNvdW50KCRjZCkgKXsKCQkJZm9yZWFjaCgkY2QgYXMgJGRpcm5hbWUpewoJCQkJYXJyYXlfcHVzaCggJHJ0biwgJy4uJyApOwoJCQl9CgkJfWVsc2V7CgkJCWFycmF5X3B1c2goICRydG4sICcuJyApOwoJCX0KCQkkcnRuID0gYXJyYXlfbWVyZ2UoICRydG4sICRwYXRoICk7CgkJJHJ0biA9IGltcGxvZGUoIERJUkVDVE9SWV9TRVBBUkFUT1IsICRydG4gKTsKCgkJaWYoICRpc19kaXIgKXsKCQkJJHJ0biAuPSBESVJFQ1RPUllfU0VQQVJBVE9SOwoJCX0KCQlyZXR1cm4gJHJ0bjsKCX0KCgkvKioKCSAqIOODkeOCueaDheWgseOCkuW+l+OCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcmV0dXJuIGFycmF5IOODkeOCueaDheWgsQoJICovCglwdWJsaWMgZnVuY3Rpb24gcGF0aGluZm8oICRwYXRoICl7CgkJaWYoc3RycG9zKCRwYXRoLCcjJykhPT1mYWxzZSl7IGxpc3QoJHBhdGgsICRoYXNoKSA9IEBleHBsb2RlKCAnIycsICRwYXRoLCAyICk7IH0KCQlpZihzdHJwb3MoJHBhdGgsJz8nKSE9PWZhbHNlKXsgbGlzdCgkcGF0aCwgJHF1ZXJ5KSA9IEBleHBsb2RlKCAnPycsICRwYXRoLCAyICk7IH0KCgkJJHBhdGhpbmZvID0gcGF0aGluZm8oICRwYXRoICk7CgkJJHBhdGhpbmZvWydmaWxlbmFtZSddID0gJHRoaXMtPnRyaW1fZXh0ZW5zaW9uKCAkcGF0aGluZm9bJ2Jhc2VuYW1lJ10gKTsKCQkkcGF0aGluZm9bJ2V4dGVuc2lvbiddID0gJHRoaXMtPmdldF9leHRlbnNpb24oICRwYXRoaW5mb1snYmFzZW5hbWUnXSApOwoJCSRwYXRoaW5mb1sncXVlcnknXSA9IChAc3RybGVuKCRxdWVyeSkgPyAnPycuJHF1ZXJ5IDogbnVsbCk7CgkJJHBhdGhpbmZvWydoYXNoJ10gPSAoQHN0cmxlbigkaGFzaCkgPyAnIycuJGhhc2ggOiBudWxsKTsKCQlyZXR1cm4gJHBhdGhpbmZvOwoJfQoKCS8qKgoJICog44OR44K55oOF5aCx44GL44KJ44CB44OV44Kh44Kk44Or5ZCN44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gc3RyaW5nIOaKnOOBjeWHuuOBleOCjOOBn+ODleOCoeOCpOODq+WQjQoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2Jhc2VuYW1lKCAkcGF0aCApewoJCSRwYXRoID0gcGF0aGluZm8oICRwYXRoICwgUEFUSElORk9fQkFTRU5BTUUgKTsKCQlpZiggIXN0cmxlbigkcGF0aCkgKXskcGF0aCA9IG51bGw7fQoJCXJldHVybiAkcGF0aDsKCX0KCgkvKioKCSAqIOODkeOCueaDheWgseOBi+OCieOAgeaLoeW8teWtkOOCkumZpOOBhOOBn+ODleOCoeOCpOODq+WQjeOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcmV0dXJuIHN0cmluZyDmi6HlvLXlrZDjgYzpmaTjgYvjgozjgZ/jg5HjgrkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHRyaW1fZXh0ZW5zaW9uKCAkcGF0aCApewoJCSRwYXRoaW5mbyA9IHBhdGhpbmZvKCAkcGF0aCApOwoJCSRSVE4gPSBwcmVnX3JlcGxhY2UoICcvXC4nLnByZWdfcXVvdGUoIEAkcGF0aGluZm9bJ2V4dGVuc2lvbiddLCAnLycgKS4nJC8nICwgJycgLCAkcGF0aCApOwoJCXJldHVybiAkUlROOwoJfQoKCS8qKgoJICog44OV44Kh44Kk44Or5ZCN44KS5ZCr44KA44OR44K55oOF5aCx44GL44KJ44CB44OV44Kh44Kk44Or44GM5qC857SN44GV44KM44Gm44GE44KL44OH44Kj44Os44Kv44OI44Oq5ZCN44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gc3RyaW5nIOimquODh+OCo+ODrOOCr+ODiOODquOBruODkeOCuQoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2RpcnBhdGgoICRwYXRoICl7CgkJJHBhdGggPSBwYXRoaW5mbyggJHBhdGggLCBQQVRISU5GT19ESVJOQU1FICk7CgkJaWYoICFzdHJsZW4oJHBhdGgpICl7JHBhdGggPSBudWxsO30KCQlyZXR1cm4gJHBhdGg7Cgl9CgoJLyoqCgkgKiDjg5Hjgrnmg4XloLHjgYvjgonjgIHmi6HlvLXlrZDjgpLlj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBzdHJpbmcg5ouh5by15a2QCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfZXh0ZW5zaW9uKCAkcGF0aCApewoJCSRwYXRoID0gcHJlZ19yZXBsYWNlKCcvXCMuKiQvc2knLCAnJywgJHBhdGgpOwoJCSRwYXRoID0gcHJlZ19yZXBsYWNlKCcvXD8uKiQvc2knLCAnJywgJHBhdGgpOwoJCSRwYXRoID0gcGF0aGluZm8oICRwYXRoICwgUEFUSElORk9fRVhURU5TSU9OICk7CgkJaWYoIXN0cmxlbigkcGF0aCkpeyRwYXRoID0gbnVsbDt9CgkJcmV0dXJuICRwYXRoOwoJfQoKCgkvKioKCSAqIENTVuODleOCoeOCpOODq+OCkuiqreOBv+i+vOOCgOOAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44GuQ1NW44OV44Kh44Kk44Or44Gu44OR44K5CgkgKiBAcGFyYW0gYXJyYXkgJG9wdGlvbnMg44Kq44OX44K344On44OzCgkgKiAtIGRlbGltaXRlciA9IOWMuuWIh+OCiuaWh+WtlyjnnIHnlaXmmYLjgIHjgqvjg7Pjg54pCgkgKiAtIGVuY2xvc3VyZSA9IOOCr+ODreODvOOCuOODo+ODvOaWh+WtlyjnnIHnlaXmmYLjgIHjg4Djg5bjg6vjgq/jgqrjg7zjg4gpCgkgKiAtIHNpemUgPSDkuIDluqbjgavoqq3jgb/ovrzjgoDjgrXjgqTjgroo55yB55Wl5pmC44CBMTAwMDApCgkgKiAtIGNoYXJzZXQgPSDmloflrZfjgrvjg4Pjg4go55yB55Wl5pmC44CBVVRGLTgpCgkgKiBAcmV0dXJuIGFycmF5fGJvb2wg6Kqt44G/6L6844G/44Gr5oiQ5Yqf44GX44Gf5aC05ZCI44CB6KGM5YiX44KS5qC857SN44GX44Gf6YWN5YiX44CB5aSx5pWX44GX44Gf5aC05ZCI44Gr44GvIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByZWFkX2NzdiggJHBhdGggLCAkb3B0aW9ucyA9IGFycmF5KCkgKXsKCQkvLyAkb3B0aW9uc1snY2hhcnNldCddIOOBr+OAgeS/neWtmOOBleOCjOOBpuOBhOOCi0NTVuODleOCoeOCpOODq+OBruaWh+Wtl+OCqOODs+OCs+ODvOODieOBp+OBmeOAggoJCS8vIOecgeeVpeaZguOBryBVVEYtOCDjgYvjgonjgIHlhoXpg6jjgqjjg7PjgrPjg7zjg4fjgqPjg7PjgrDjgavlpInmj5vjgZfjgb7jgZnjgIIKCgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgoJCWlmKCAhJHRoaXMtPmlzX2ZpbGUoICRwYXRoICkgKXsKCQkJLy8g44OV44Kh44Kk44Or44GM44Gq44GR44KM44GwZmFsc2XjgpLov5TjgZkKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJaWYoICFzdHJsZW4oIEAkb3B0aW9uc1snZGVsaW1pdGVyJ10gKSApICAgIHsgJG9wdGlvbnNbJ2RlbGltaXRlciddID0gJywnOyB9CgkJaWYoICFzdHJsZW4oIEAkb3B0aW9uc1snZW5jbG9zdXJlJ10gKSApICAgIHsgJG9wdGlvbnNbJ2VuY2xvc3VyZSddID0gJyInOyB9CgkJaWYoICFzdHJsZW4oIEAkb3B0aW9uc1snc2l6ZSddICkgKSAgICAgICAgIHsgJG9wdGlvbnNbJ3NpemUnXSA9IDEwMDAwOyB9CgkJaWYoICFzdHJsZW4oIEAkb3B0aW9uc1snY2hhcnNldCddICkgKSAgICAgIHsgJG9wdGlvbnNbJ2NoYXJzZXQnXSA9ICdVVEYtOCc7IH0vL+KGkENTVuOBruaWh+Wtl+OCu+ODg+ODiAoKCQkkUlROID0gYXJyYXkoKTsKCQkkZnAgPSBmb3BlbiggJHBhdGgsICdyJyApOwoJCWlmKCAhaXNfcmVzb3VyY2UoICRmcCApICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCXdoaWxlKCAkU01NRU1PID0gZmdldGNzdiggJGZwICwgaW50dmFsKCAkb3B0aW9uc1snc2l6ZSddICkgLCAkb3B0aW9uc1snZGVsaW1pdGVyJ10gLCAkb3B0aW9uc1snZW5jbG9zdXJlJ10gKSApewoJCQlmb3JlYWNoKCAkU01NRU1PIGFzICRrZXk9PiRyb3cgKXsKCQkJCSRTTU1FTU9bJGtleV0gPSBtYl9jb252ZXJ0X2VuY29kaW5nKCAkcm93ICwgbWJfaW50ZXJuYWxfZW5jb2RpbmcoKSAsICRvcHRpb25zWydjaGFyc2V0J10uJyxVVEYtOCxTSklTLXdpbixldWNKUC13aW4sU0pJUyxFVUMtSlAnICk7CgkJCX0KCQkJYXJyYXlfcHVzaCggJFJUTiAsICRTTU1FTU8gKTsKCQl9CgkJZmNsb3NlKCRmcCk7CgkJcmV0dXJuICRSVE47Cgl9Ly9yZWFkX2NzdigpCgoJLyoqCgkgKiDphY3liJfjgpJDU1blvaLlvI/jgavlpInmj5vjgZnjgovjgIIKCSAqCgkgKiDmlLnooYzjgrPjg7zjg4njga9MRuOBp+WHuuWKm+OBleOCjOOBvuOBmeOAggoJICoKCSAqIEBwYXJhbSBhcnJheSAkYXJyYXkgMuasoeWFg+mFjeWIlwoJICogQHBhcmFtIGFycmF5ICRvcHRpb25zIOOCquODl+OCt+ODp+ODswoJICogLSBjaGFyc2V0ID0g5paH5a2X44K744OD44OIKOecgeeVpeaZguOAgVVURi04KQoJICogQHJldHVybiBzdHJpbmcg55Sf5oiQ44GV44KM44GfQ1NW5b2i5byP44Gu44OG44Kt44K544OICgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBta19jc3YoICRhcnJheSAsICRvcHRpb25zID0gYXJyYXkoKSApewoJCS8vICRvcHRpb25zWydjaGFyc2V0J10g44Gv44CB5Ye65Yqb44GV44KM44KLQ1NW5b2i5byP44Gu5paH5a2X44Ko44Oz44Kz44O844OJ44KS5oyH5a6a44GX44G+44GZ44CCCgkJLy8g55yB55Wl5pmC44GvIFVURi04IOOBq+WkieaPm+OBl+OBpui/lOOBl+OBvuOBmeOAggoJCWlmKCAhaXNfYXJyYXkoICRhcnJheSApICl7ICRhcnJheSA9IGFycmF5KCk7IH0KCgkJaWYoIEAhc3RybGVuKCAkb3B0aW9uc1snY2hhcnNldCddICkgKXsKCQkJJG9wdGlvbnNbJ2NoYXJzZXQnXSA9ICdVVEYtOCc7CgkJfQoJCSRSVE4gPSAnJzsKCQlmb3JlYWNoKCAkYXJyYXkgYXMgJExpbmUgKXsKCQkJaWYoIGlzX251bGwoICRMaW5lICkgKXsgY29udGludWU7IH0KCQkJaWYoICFpc19hcnJheSggJExpbmUgKSApeyAkTGluZSA9IGFycmF5KCk7IH0KCQkJZm9yZWFjaCggJExpbmUgYXMgJGNlbGwgKXsKCQkJCSRjZWxsID0gbWJfY29udmVydF9lbmNvZGluZyggJGNlbGwgLCAkb3B0aW9uc1snY2hhcnNldCddICwgbWJfaW50ZXJuYWxfZW5jb2RpbmcoKS4nLFVURi04LFNKSVMtd2luLGV1Y0pQLXdpbixTSklTLEVVQy1KUCcgKTsKCQkJCWlmKCBwcmVnX21hdGNoKCAnLyIvJyAsICRjZWxsICkgKXsKCQkJCQkkY2VsbCA9IHByZWdfcmVwbGFjZSggJy8iLycgLCAnIiInICwgJGNlbGwpOwoJCQkJfQoJCQkJaWYoIHN0cmxlbiggJGNlbGwgKSApewoJCQkJCSRjZWxsID0gJyInLiRjZWxsLiciJzsKCQkJCX0KCQkJCSRSVE4gLj0gJGNlbGwuJywnOwoJCQl9CgkJCSRSVE4gPSBwcmVnX3JlcGxhY2UoICcvLCQvJyAsICcnICwgJFJUTiApOwoJCQkkUlROIC49ICJcbiI7CgkJfQoJCXJldHVybiAkUlROOwoJfS8vbWtfY3N2KCkKCgkvKioKCSAqIOODleOCoeOCpOODq+OCkuikh+ijveOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGZyb20g44Kz44OU44O85YWD44OV44Kh44Kk44Or44Gu44OR44K5CgkgKiBAcGFyYW0gc3RyaW5nICR0byDjgrPjg5Tjg7zlhYjjga7jg5HjgrkKCSAqIEBwYXJhbSBpbnQgJHBlcm0g5L+d5a2Y44GZ44KL44OV44Kh44Kk44Or44Gr5LiO44GI44KL44OR44O844Of44OD44K344On44OzCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gY29weSggJGZyb20gLCAkdG8gLCAkcGVybSA9IG51bGwgKXsKCQkkZnJvbSA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRmcm9tKTsKCQkkdG8gICA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCR0byAgKTsKCgkJaWYoICEkdGhpcy0+aXNfZmlsZSggJGZyb20gKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAhJHRoaXMtPmlzX3JlYWRhYmxlKCAkZnJvbSApICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJHRvICkgKXsKCQkJLy8J44G+44Gj44Gf44GP5ZCM44GY44OV44Kh44Kk44Or44Gg44Gj44Gf5aC05ZCI44Gv44CB6KSH6KO944GX44Gq44GE44GndHJ1ZeOCkui/lOOBmeOAggoJCQlpZiggbWQ1X2ZpbGUoICRmcm9tICkgPT0gbWQ1X2ZpbGUoICR0byApICYmIGZpbGVzaXplKCAkZnJvbSApID09IGZpbGVzaXplKCAkdG8gKSApewoJCQkJcmV0dXJuIHRydWU7CgkJCX0KCQl9CgkJaWYoICFAY29weSggJGZyb20gLCAkdG8gKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCSR0aGlzLT5jaG1vZCggJHRvICwgJHBlcm0gKTsKCQlyZXR1cm4gdHJ1ZTsKCX0vL2NvcHkoKQoKCS8qKgoJICog44OH44Kj44Os44Kv44OI44Oq44KS6KSH6KO944GZ44KLKOS4i+WxpOODh+OCo+ODrOOCr+ODiOODquOCguWFqOOBpuOCs+ODlOODvCkKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRmcm9tIOOCs+ODlOODvOWFg+ODleOCoeOCpOODq+OBruODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkdG8g44Kz44OU44O85YWI44Gu44OR44K5CgkgKiBAcGFyYW0gaW50ICRwZXJtIOS/neWtmOOBmeOCi+ODleOCoeOCpOODq+OBq+S4juOBiOOCi+ODkeODvOODn+ODg+OCt+ODp+ODswoJICogQHJldHVybiBib29sIOaIkOWKn+aZguOBqyBgdHJ1ZWDjgIHlpLHmlZfmmYLjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNvcHlfciggJGZyb20gLCAkdG8gLCAkcGVybSA9IG51bGwgKXsKCQkkZnJvbSA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRmcm9tKTsKCQkkdG8gICA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCR0byAgKTsKCgkJJHJlc3VsdCA9IHRydWU7CgoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJGZyb20gKSApewoJCQlpZiggJHRoaXMtPm1rZGlyX3IoIGRpcm5hbWUoICR0byApICkgKXsKCQkJCWlmKCAhJHRoaXMtPmNvcHkoICRmcm9tICwgJHRvICwgJHBlcm0gKSApewoJCQkJCSRyZXN1bHQgPSBmYWxzZTsKCQkJCX0KCQkJfWVsc2V7CgkJCQkkcmVzdWx0ID0gZmFsc2U7CgkJCX0KCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZGlyKCAkZnJvbSApICl7CgkJCWlmKCAhJHRoaXMtPmlzX2RpciggJHRvICkgKXsKCQkJCWlmKCAhJHRoaXMtPm1rZGlyX3IoICR0byApICl7CgkJCQkJJHJlc3VsdCA9IGZhbHNlOwoJCQkJfQoJCQl9CgkJCSRpdGVtbGlzdCA9ICR0aGlzLT5scyggJGZyb20gKTsKCQkJaWYoIGlzX2FycmF5KCRpdGVtbGlzdCkgKXsKCQkJCWZvcmVhY2goICRpdGVtbGlzdCBhcyAkTGluZSApewoJCQkJCWlmKCAkTGluZSA9PSAnLicgfHwgJExpbmUgPT0gJy4uJyApeyBjb250aW51ZTsgfQoJCQkJCWlmKCAkdGhpcy0+aXNfZGlyKCAkZnJvbS5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCQkJaWYoICR0aGlzLT5pc19maWxlKCAkdG8uRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSApICl7CgkJCQkJCQljb250aW51ZTsKCQkJCQkJfWVsc2VpZiggISR0aGlzLT5pc19kaXIoICR0by5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCQkJCWlmKCAhJHRoaXMtPm1rZGlyX3IoICR0by5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCQkJCQkkcmVzdWx0ID0gZmFsc2U7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJaWYoICEkdGhpcy0+Y29weV9yKCAkZnJvbS5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICwgJHRvLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgLCAkcGVybSApICl7CgkJCQkJCQkkcmVzdWx0ID0gZmFsc2U7CgkJCQkJCX0KCQkJCQkJY29udGludWU7CgkJCQkJfWVsc2VpZiggJHRoaXMtPmlzX2ZpbGUoICRmcm9tLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgKSApewoJCQkJCQlpZiggISR0aGlzLT5jb3B5X3IoICRmcm9tLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgLCAkdG8uRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSAsICRwZXJtICkgKXsKCQkJCQkJCSRyZXN1bHQgPSBmYWxzZTsKCQkJCQkJfQoJCQkJCQljb250aW51ZTsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9CgoJCXJldHVybiAkcmVzdWx0OwoJfS8vY29weV9yKCkKCgkvKioKCSAqIOODkeODvOODn+ODg+OCt+ODp+ODs+OCkuWkieabtOOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGZpbGVwYXRoIOWvvuixoeOBruODkeOCuQoJICogQHBhcmFtIGludCAkcGVybSDkv53lrZjjgZnjgovjg5XjgqHjgqTjg6vjgavkuI7jgYjjgovjg5Hjg7zjg5/jg4Pjgrfjg6fjg7MKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBjaG1vZCggJGZpbGVwYXRoICwgJHBlcm0gPSBudWxsICl7CgkJJGZpbGVwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJGZpbGVwYXRoKTsKCgkJaWYoIGlzX251bGwoICRwZXJtICkgKXsKCQkJaWYoICR0aGlzLT5pc19kaXIoICRmaWxlcGF0aCApICl7CgkJCQkkcGVybSA9ICR0aGlzLT5kZWZhdWx0X3Blcm1pc3Npb25bJ2RpciddOwoJCQl9ZWxzZXsKCQkJCSRwZXJtID0gJHRoaXMtPmRlZmF1bHRfcGVybWlzc2lvblsnZmlsZSddOwoJCQl9CgkJfQoJCWlmKCBpc19udWxsKCAkcGVybSApICl7CgkJCSRwZXJtID0gMDc3NTsgLy8g44Kz44Oz44OV44Kj44Kw44Gr6Kit5a6a44Oi44Os44GM44GC44Gj44Gf5aC05ZCICgkJfQoJCXJldHVybiBAY2htb2QoICRmaWxlcGF0aCAsICRwZXJtICk7Cgl9Ly9jaG1vZCgpCgoJLyoqCgkgKiDjg5Hjg7zjg5/jg4Pjgrfjg6fjg7Pmg4XloLHjgpLoqr/jgbnjgIEz5qGB44Gu5pWw5a2X44Gn6L+U44GZ44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gaW50fGJvb2wg5oiQ5Yqf5pmC44GrIDPmoYHjga7mlbDlrZfjgIHlpLHmlZfmmYLjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9wZXJtaXNzaW9uKCAkcGF0aCApewoJCSRwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGgpOwoKCQlpZiggIUBmaWxlX2V4aXN0cyggJHBhdGggKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCSRwZXJtID0gcnRyaW0oIHNwcmludGYoICIlb1xuIiAsIGZpbGVwZXJtcyggJHBhdGggKSApICk7CgkJJHN0YXJ0ID0gc3RybGVuKCAkcGVybSApIC0gMzsKCQlyZXR1cm4gc3Vic3RyKCAkcGVybSAsICRzdGFydCAsIDMgKTsKCX0vL2dldF9wZXJtaXNzaW9uKCkKCgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgavjgYLjgovjg5XjgqHjgqTjg6vlkI3jga7jg6rjgrnjg4jjgpLphY3liJfjgafov5TjgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeODh+OCo+ODrOOCr+ODiOODquOBruODkeOCuQoJICogQHJldHVybiBhcnJheXxib29sIOaIkOWKn+aZguOBq+ODleOCoeOCpOODq+OBvuOBn+OBr+ODh+OCo+ODrOOCr+ODiOODquWQjeOBruS4gOimp+OCkuagvOe0jeOBl+OBn+mFjeWIl+OAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gbHMoJHBhdGgpewoJCSRwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGgpOwoKCQlpZiggJHBhdGggPT09IGZhbHNlICl7IHJldHVybiBmYWxzZTsgfQoJCWlmKCAhQGZpbGVfZXhpc3RzKCAkcGF0aCApICl7IHJldHVybiBmYWxzZTsgfQoJCWlmKCAhJHRoaXMtPmlzX2RpciggJHBhdGggKSApeyByZXR1cm4gZmFsc2U7IH0KCgkJJFJUTiA9IGFycmF5KCk7CgkJJGRyID0gQG9wZW5kaXIoJHBhdGgpOwoJCXdoaWxlKCAoICRlbnQgPSByZWFkZGlyKCAkZHIgKSApICE9PSBmYWxzZSApewoJCQkvLyBDdXJyZW50RGly44GoUGFyZW50RGly44Gv5ZCr44KB44Gq44GECgkJCWlmKCAkZW50ID09ICcuJyB8fCAkZW50ID09ICcuLicgKXsgY29udGludWU7IH0KCQkJYXJyYXlfcHVzaCggJFJUTiAsICRlbnQgKTsKCQl9CgkJY2xvc2VkaXIoJGRyKTsKCQlpZiggc3RybGVuKCAkdGhpcy0+ZmlsZXN5c3RlbV9lbmNvZGluZyApICl7CgkJCS8vUHhGVyAwLjYuNCDov73liqAKCQkJJFJUTiA9IEAkdGhpcy0+Y29udmVydF9maWxlc3lzdGVtX2VuY29kaW5nKCAkUlROICk7CgkJfQoJCXVzb3J0KCRSVE4sICJzdHJuYXRjbXAiKTsKCQlyZXR1cm4JJFJUTjsKCX0vL2xzKCkKCgkvKioKCSAqIOODh+OCo+ODrOOCr+ODiOODquOBruWGhemDqOOCkuavlOi8g+OBl+OAgSRjb21wYXJpc29u44Gr5ZCr44G+44KM44Gq44GE6KaB57Sg44KSJHRhcmdldOOBi+OCieWJiumZpOOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHRhcmdldCDjgq/jg6rjg7zjg4vjg7PjgrDlr77osaHjga7jg4fjgqPjg6zjgq/jg4jjg6rjg5HjgrkKCSAqIEBwYXJhbSBzdHJpbmcgJGNvbXBhcmlzb24g5q+U6LyD44GZ44KL44OH44Kj44Os44Kv44OI44Oq44Gu44OR44K5CgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmCIGB0cnVlYOOAgeWkseaVl+aZgiBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gY29tcGFyZV9hbmRfY2xlYW51cCggJHRhcmdldCAsICRjb21wYXJpc29uICl7CgkJaWYoIGlzX251bGwoICRjb21wYXJpc29uICkgfHwgaXNfbnVsbCggJHRhcmdldCApICl7IHJldHVybiBmYWxzZTsgfQoKCQkkdGFyZ2V0ID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHRhcmdldCk7CgkJJGNvbXBhcmlzb24gPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkY29tcGFyaXNvbik7CgoJCWlmKCAhQGZpbGVfZXhpc3RzKCAkY29tcGFyaXNvbiApICYmIEBmaWxlX2V4aXN0cyggJHRhcmdldCApICl7CgkJCSR0aGlzLT5ybSggJHRhcmdldCApOwoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgoJCWlmKCAkdGhpcy0+aXNfZGlyKCAkdGFyZ2V0ICkgKXsKCQkJJGZsaXN0ID0gJHRoaXMtPmxzKCAkdGFyZ2V0ICk7CgkJfWVsc2V7CgkJCXJldHVybiB0cnVlOwoJCX0KCgkJaWYoIGlzX2FycmF5KCRmbGlzdCkgKXsKCQkJZm9yZWFjaCAoICRmbGlzdCBhcyAkTGluZSApewoJCQkJaWYoICRMaW5lID09ICcuJyB8fCAkTGluZSA9PSAnLi4nICl7IGNvbnRpbnVlOyB9CgkJCQkkdGhpcy0+Y29tcGFyZV9hbmRfY2xlYW51cCggJHRhcmdldC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICwgJGNvbXBhcmlzb24uRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSApOwoJCQl9CgkJfQoKCQlyZXR1cm4gdHJ1ZTsKCX0vL2NvbXBhcmVfYW5kX2NsZWFudXAoKQoKCS8qKgoJICog44OH44Kj44Os44Kv44OI44Oq44KS5ZCM5pyf44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aF9zeW5jX2Zyb20g5ZCM5pyf5YWD44OH44Kj44Os44Kv44OI44OqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoX3N5bmNfdG8g5ZCM5pyf5YWI44OH44Kj44Os44Kv44OI44OqCgkgKiBAcmV0dXJuIGJvb2wg5bi444GrIGB0cnVlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHN5bmNfZGlyKCAkcGF0aF9zeW5jX2Zyb20gLCAkcGF0aF9zeW5jX3RvICl7CgkJJHRoaXMtPmNvcHlfciggJHBhdGhfc3luY19mcm9tICwgJHBhdGhfc3luY190byApOwoJCSR0aGlzLT5jb21wYXJlX2FuZF9jbGVhbnVwKCAkcGF0aF9zeW5jX3RvICwgJHBhdGhfc3luY19mcm9tICk7CgkJcmV0dXJuIHRydWU7Cgl9Ly9zeW5jX2RpcigpCgoJLyoqCgkgKiDmjIflrprjgZXjgozjgZ/jg4fjgqPjg6zjgq/jg4jjg6rku6XkuIvjga7jgIHlhajjgabjga7nqbrjgaPjgb3jga7jg4fjgqPjg6zjgq/jg4jjg6rjgpLliYrpmaTjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOODh+OCo+ODrOOCr+ODiOODquODkeOCuQoJICogQHBhcmFtIGFycmF5ICRvcHRpb25zIOOCquODl+OCt+ODp+ODswoJICogQHJldHVybiBib29sIOaIkOWKn+aZgiBgdHJ1ZWDjgIHlpLHmlZfmmYIgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJlbW92ZV9lbXB0eV9kaXIoICRwYXRoICwgJG9wdGlvbnMgPSBhcnJheSgpICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgoJCWlmKCAhJHRoaXMtPmlzX3dyaXRhYmxlKCAkcGF0aCApICl7IHJldHVybiBmYWxzZTsgfQoJCWlmKCAhJHRoaXMtPmlzX2RpciggJHBhdGggKSApeyByZXR1cm4gZmFsc2U7IH0KCQlpZiggJHRoaXMtPmlzX2ZpbGUoICRwYXRoICkgfHwgJHRoaXMtPmlzX2xpbmsoICRwYXRoICkgKXsgcmV0dXJuIGZhbHNlOyB9CgkJJHBhdGggPSBAcmVhbHBhdGgoICRwYXRoICk7CgkJaWYoICRwYXRoID09PSBmYWxzZSApeyByZXR1cm4gZmFsc2U7IH0KCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkvLyDmrKHjga7pmo7lsaTjgpLlh6bnkIbjgZnjgovjgYvjganjgYbjgYvjga7jgrnjgqTjg4Pjg4EKCQkkc3dpdGNoX2RvbmV4dCA9IGZhbHNlOwoJCWlmKCBpc19udWxsKCAkb3B0aW9uc1snZGVwdGgnXSApICl7CgkJCS8vIOa3seOBleOBruaMh+WumuOBjOOBquOBkeOCjOOBsOaOmOOCiwoJCQkkc3dpdGNoX2RvbmV4dCA9IHRydWU7CgkJfWVsc2VpZiggIWlzX2ludCggJG9wdGlvbnNbJ2RlcHRoJ10gKSApewoJCQkvLyDmjIflrprjgYxudWxs44Gn44KC5pWw5YCk44Gn44KC44Gq44GR44KM44Gw5o6Y44KJ44Gq44GECgkJCSRzd2l0Y2hfZG9uZXh0ID0gZmFsc2U7CgkJfWVsc2VpZiggJG9wdGlvbnNbJ2RlcHRoJ10gPD0gMCApewoJCQkvLyDmjIflrprjgYzjgrzjg63ku6XkuIvjgarjgonjgIHku4rlm57jga7lh6bnkIbjgpLjgZfjgabntYLkuoYKCQkJJHN3aXRjaF9kb25leHQgPSBmYWxzZTsKCQl9ZWxzZWlmKCAkb3B0aW9uc1snZGVwdGgnXSA+IDAgKXsKCQkJLy8g5oyH5a6a44GM5q2j44Gu5pWwKOOCvOODreOBr+WQq+OBvuOBquOBhCnjgarjgonjgIHmjpjjgosKCQkJJG9wdGlvbnNbJ2RlcHRoJ10gLS07CgkJCSRzd2l0Y2hfZG9uZXh0ID0gdHJ1ZTsKCQl9ZWxzZXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkvLyAvIOasoeOBrumajuWxpOOCkuWHpueQhuOBmeOCi+OBi+OBqeOBhuOBi+OBruOCueOCpOODg+ODgQoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoJCSRmbGlzdCA9ICR0aGlzLT5scyggJHBhdGggKTsKCQlpZiggIWNvdW50KCAkZmxpc3QgKSApewoJCQkvLyDplovjgYTjgZ/jg4fjgqPjg6zjgq/jg4jjg6rjga7kuK3ouqvjgYwKCQkJLy8gIi4iIOOBqCAiLi4iIOOBruOBv+OBoOOBo+OBn+WgtOWQiAoJCQkvLyDliYrpmaTjgZfjgabntYLkuoYKCQkJJHJlc3VsdCA9IEBybWRpciggJHBhdGggKTsKCQkJcmV0dXJuCSRyZXN1bHQ7CgkJfQoJCSRhbGl2ZSA9IGZhbHNlOwoJCWZvcmVhY2ggKCAkZmxpc3QgYXMgJExpbmUgKXsKCQkJaWYoICRMaW5lID09ICcuJyB8fCAkTGluZSA9PSAnLi4nICl7IGNvbnRpbnVlOyB9CgkJCWlmKCAkdGhpcy0+aXNfbGluayggJHBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSApICl7CgkJCQkvLyDjgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jga/nhKHoppbjgZnjgovjgIIKCQkJfWVsc2VpZiggJHRoaXMtPmlzX2RpciggJHBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSApICl7CgkJCQlpZiggJHN3aXRjaF9kb25leHQgKXsKCQkJCQkvLyDjgZXjgonjgavmjpjjgozjgajmjIfku6TjgYzjgYLjgozjgbDjgIHmjpjjgovjgIIKCQkJCQkkdGhpcy0+cmVtb3ZlX2VtcHR5X2RpciggJHBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSAsICRvcHRpb25zICk7CgkJCQl9CgkJCX0KCQkJaWYoIEBmaWxlX2V4aXN0cyggJHBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSApICl7CgkJCQkkYWxpdmUgPSB0cnVlOwoJCQl9CgkJfQoJCWlmKCAhJGFsaXZlICl7CgkJCSRyZXN1bHQgPSBAcm1kaXIoICRwYXRoICk7CgkJCXJldHVybgkkcmVzdWx0OwoJCX0KCQlyZXR1cm4gdHJ1ZTsKCX0vL3JlbW92ZV9lbXB0eV9kaXIoKQoKCgkvKioKCSAqIOaMh+WumuOBleOCjOOBnzLjgaTjga7jg4fjgqPjg6zjgq/jg4jjg6rjga7lhoXlrrnjgpLmr5TovIPjgZfjgIHjgb7jgaPjgZ/jgY/lkIzjgZjjgYvjganjgYbjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRkaXJfYSDmr5TovIPlr77osaHjg4fjgqPjg6zjgq/jg4jjg6pBCgkgKiBAcGFyYW0gc3RyaW5nICRkaXJfYiDmr5TovIPlr77osaHjg4fjgqPjg6zjgq/jg4jjg6pCCgkgKiBAcGFyYW0gYXJyYXkgJG9wdGlvbnMg44Kq44OX44K344On44OzCgkgKiA8ZGw+CgkgKiAgIDxkdD5ib29sICRvcHRpb25zWydjb21wYXJlX2ZpbGVjb250ZW50J108L2R0PgoJICogCSAgIDxkZD7jg5XjgqHjgqTjg6vjga7kuK3ouqvjgoLmr5TovIPjgZnjgovjgYvvvJ88L2RkPgoJICogICA8ZHQ+Ym9vbCAkb3B0aW9uc1snY29tcGFyZV9lbXB0eWRpciddPC9kdD4KCSAqIAkgICA8ZGQ+56m644Gj44G944Gu44OH44Kj44Os44Kv44OI44Oq44Gu5pyJ54Sh44KC6KmV5L6h44Gr5ZCr44KB44KL44GL77yfPC9kZD4KCSAqIDwvZGw+CgkgKiBAcmV0dXJuIGJvb2wg5ZCM44GY5aC05ZCI44GrIGB0cnVlYOOAgeeVsOOBquOCi+WgtOWQiOOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gY29tcGFyZV9kaXIoICRkaXJfYSAsICRkaXJfYiAsICRvcHRpb25zID0gYXJyYXkoKSApewoKCQlpZiggc3RybGVuKCAkdGhpcy0+ZmlsZXN5c3RlbV9lbmNvZGluZyApICl7CgkJCS8vUHhGVyAwLjYuNCDov73liqAKCQkJJGRpcl9hID0gQCR0aGlzLT5jb252ZXJ0X2ZpbGVzeXN0ZW1fZW5jb2RpbmcoICRkaXJfYSApOwoJCQkkZGlyX2IgPSBAJHRoaXMtPmNvbnZlcnRfZmlsZXN5c3RlbV9lbmNvZGluZyggJGRpcl9iICk7CgkJfQoKCQlpZiggKCAkdGhpcy0+aXNfZmlsZSggJGRpcl9hICkgJiYgISR0aGlzLT5pc19maWxlKCAkZGlyX2IgKSApIHx8ICggISR0aGlzLT5pc19maWxlKCAkZGlyX2EgKSAmJiAkdGhpcy0+aXNfZmlsZSggJGRpcl9iICkgKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAoICggJHRoaXMtPmlzX2RpciggJGRpcl9hICkgJiYgISR0aGlzLT5pc19kaXIoICRkaXJfYiApICkgfHwgKCAhJHRoaXMtPmlzX2RpciggJGRpcl9hICkgJiYgJHRoaXMtPmlzX2RpciggJGRpcl9iICkgKSApICYmICRvcHRpb25zWydjb21wYXJlX2VtcHR5ZGlyJ10gKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJaWYoICR0aGlzLT5pc19maWxlKCAkZGlyX2EgKSAmJiAkdGhpcy0+aXNfZmlsZSggJGRpcl9iICkgKXsKCQkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJLy8g5Lih5pa544OV44Kh44Kk44Or44Gg44Gj44Gf44KJCgkJCWlmKCAkb3B0aW9uc1snY29tcGFyZV9maWxlY29udGVudCddICl7CgkJCQkvLyDjg5XjgqHjgqTjg6vjga7lhoXlrrnjgoLmr5TovIPjgZnjgovoqK3lrprjga7loLTlkIjjgIEKCQkJCS8vIOOBneOCjOOBnuOCjOODleOCoeOCpOODq+OCkumWi+OBhOOBpuWQjOOBmOOBi+OBqeOBhuOBi+OCkuavlOi8gwoJCQkJJGZpbGVjb250ZW50X2EgPSAkdGhpcy0+cmVhZF9maWxlKCAkZGlyX2EgKTsKCQkJCSRmaWxlY29udGVudF9iID0gJHRoaXMtPnJlYWRfZmlsZSggJGRpcl9iICk7CgkJCQlpZiggJGZpbGVjb250ZW50X2EgIT09ICRmaWxlY29udGVudF9iICl7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQl9CgkJCXJldHVybiB0cnVlOwoJCX0KCgkJaWYoICR0aGlzLT5pc19kaXIoICRkaXJfYSApIHx8ICR0aGlzLT5pc19kaXIoICRkaXJfYiApICl7CgkJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJCS8vIOS4oeaWueODh+OCo+ODrOOCr+ODiOODquOBoOOBo+OBn+OCiQoJCQkkY29udGxpc3RfYSA9ICR0aGlzLT5scyggJGRpcl9hICk7CgkJCSRjb250bGlzdF9iID0gJHRoaXMtPmxzKCAkZGlyX2IgKTsKCgkJCWlmKCAkb3B0aW9uc1snY29tcGFyZV9lbXB0eWRpciddICYmICRjb250bGlzdF9hICE9PSAkY29udGxpc3RfYiApewoJCQkJLy8g56m644Gj44G944Gu44OH44Kj44Os44Kv44OI44Oq44KC5Y6z5a+G44Gr6KmV5L6h44GZ44KL6Kit5a6a44Gn44CBCgkJCQkvLyDjg4fjgqPjg6zjgq/jg4jjg6rlhoXjga7opoHntKDphY3liJfjga7lhoXlrrnjgYznlbDjgarjgozjgbDjgIFmYWxzZeOAggoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgoJCQkkZG9uZSA9IGFycmF5KCk7CgkJCWZvcmVhY2goICRjb250bGlzdF9hIGFzICRMaW5lICl7CgkJCQkvLyBB44KS44OB44Kn44OD44KvCgkJCQlpZiggJExpbmUgPT0gJy4uJyB8fCAkTGluZSA9PSAnLicgKXsgY29udGludWU7IH0KCQkJCWlmKCAhJHRoaXMtPmNvbXBhcmVfZGlyKCAkZGlyX2EuRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSAsICRkaXJfYi5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICwgJG9wdGlvbnMgKSApewoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJCSRkb25lWyRMaW5lXSA9IHRydWU7CgkJCX0KCgkJCWZvcmVhY2goICRjb250bGlzdF9iIGFzICRMaW5lICl7CgkJCQkvLyBB44Gr5ZCr44G+44KM44Gq44GL44Gj44GfQuOCkuODgeOCp+ODg+OCrwoJCQkJaWYoICRkb25lWyRMaW5lXSApeyBjb250aW51ZTsgfQoJCQkJaWYoICRMaW5lID09ICcuLicgfHwgJExpbmUgPT0gJy4nICl7IGNvbnRpbnVlOyB9CgkJCQlpZiggISR0aGlzLT5jb21wYXJlX2RpciggJGRpcl9hLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgLCAkZGlyX2IuRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSAsICRvcHRpb25zICkgKXsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCQkkZG9uZVskTGluZV0gPSB0cnVlOwoJCQl9CgoJCX0KCgkJcmV0dXJuIHRydWU7Cgl9Ly9jb21wYXJlX2RpcigpCgoKCS8qKgoJICog44K144O844OQ44GMVU5JWOODkeOCueOBi+iqv+OBueOCi+OAggoJICoKCSAqIEByZXR1cm4gYm9vbCBVTklY44OR44K544Gq44KJIGB0cnVlYOOAgeOBneOCjOS7peWkluOBquOCiSBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNfdW5peCgpewoJCWlmKCBESVJFQ1RPUllfU0VQQVJBVE9SID09ICcvJyApewoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJcmV0dXJuIGZhbHNlOwoJfS8vaXNfdW5peCgpCgoJLyoqCgkgKiDjgrXjg7zjg5DjgYxXaW5kb3dz44OR44K544GL6Kq/44G544KL44CCCgkgKgoJICogQHJldHVybiBib29sIFdpbmRvd3Pjg5HjgrnjgarjgokgYHRydWVg44CB44Gd44KM5Lul5aSW44Gq44KJIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc193aW5kb3dzKCl7CgkJaWYoIERJUkVDVE9SWV9TRVBBUkFUT1IgPT0gJ1xcJyApewoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJcmV0dXJuIGZhbHNlOwoJfS8vaXNfd2luZG93cygpCgoKCS8qKgoJICog44OR44K544KS5q2j6KaP5YyW44GZ44KL44CCCgkgKgoJICog5Y+X44GR5Y+W44Gj44Gf44OR44K544KS44CB44K544Op44OD44K344Ol5Yy65YiH44KK44Gu6KGo54++44Gr5q2j6KaP5YyW44GX44G+44GZ44CCCgkgKiBXaW5kb3dz44Gu44Oc44Oq44Ol44O844Og44Op44OZ44Or44GM5LuY44GE44Gm44GE44KL5aC05ZCI44Gv5YmK6Zmk44GX44G+44GZ44CCCgkgKiBVUknjgrnjgq3jg7zjg6AoaHR0cCwgaHR0cHMsIGZ0cCDjgarjgakpIOOBp+Wni+OBvuOCi+WgtOWQiOOAgTLjgaTjga7jgrnjg6njg4Pjgrfjg6Xjgaflp4vjgb7jgovloLTlkIgoYC8vd3d3LmV4YW1wbGUuY29tL2FiYy9gIOOBquOBqSnjgIHjgZPjgozjgpLmrovjgZfjgabmraPopo/ljJbjgZfjgb7jgZnjgIIKCSAqCgkgKiAgLSDkvovvvJogYFxhXGJcYy5odG1sYCDihpIgYC9hL2IvYy5odG1sYCDjg5Djg4Pjgq/jgrnjg6njg4Pjgrfjg6Xjga/jgrnjg6njg4Pjgrfjg6Xjgavnva7jgY3mj5vjgYjjgonjgozjgb7jgZnjgIIKCSAqICAtIOS+i++8miBgL2EvYi8vLy9jLmh0bWxgIOKGkiBgL2EvYi9jLmh0bWxgIOS9meioiOOBquOCueODqeODg+OCt+ODpeOBr+OBvuOBqOOCgeOCieOCjOOBvuOBmeOAggoJICogIC0g5L6L77yaIGBDOlxhXGJcYy5odG1sYCDihpIgYC9hL2IvYy5odG1sYCDjg5zjg6rjg6Xjg7zjg6Djg6njg5njg6vjga/liYrpmaTjgZXjgozjgb7jgZnjgIIKCSAqICAtIOS+i++8miBgaHR0cDovL2EvYi9jLmh0bWxgIOKGkiBgaHR0cDovL2EvYi9jLmh0bWxgIFVSSeOCueOCreODvOODoOOBr+aui+OBleOCjOOBvuOBmeOAggoJICogIC0g5L6L77yaIGAvL2EvYi9jLmh0bWxgIOKGkiBgLy9hL2IvYy5odG1sYCDjg4njg6HjgqTjg7PlkI3jga/mrovjgZXjgozjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOato+imj+WMluOBmeOCi+ODkeOCuQoJICogQHJldHVybiBzdHJpbmcg5q2j6KaP5YyW44GV44KM44Gf44OR44K5CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBub3JtYWxpemVfcGF0aCgkcGF0aCl7CgkJJHBhdGggPSB0cmltKCRwYXRoKTsKCQkkcGF0aCA9ICR0aGlzLT5jb252ZXJ0X2VuY29kaW5nKCAkcGF0aCApOy8v5paH5a2X44Kz44O844OJ44KS5o+D44GI44KLCgkJJHBhdGggPSBwcmVnX3JlcGxhY2UoICcvXFwvfFxcXFwvcycsICcvJywgJHBhdGggKTsvL+ODkOODg+OCr+OCueODqeODg+OCt+ODpeOCkuOCueODqeODg+OCt+ODpeOBq+e9ruOBjeaPm+OBiOOCi+OAggoJCSRwYXRoID0gcHJlZ19yZXBsYWNlKCAnL15bQS1aXVxcOlxcLy9zJywgJy8nLCAkcGF0aCApOy8vV2luZG93c+OBruODnOODquODpeODvOODoOODqeODmeODq+OCkuWJiumZpAoJCSRwcmVmaXggPSAnJzsKCQlpZiggcHJlZ19tYXRjaCggJy9eKCg/OlthLXpBLVowLTldK1xcOik/XFwvKShcXC8uKikkLycsICRwYXRoLCAkbWF0Y2hlZCApICl7CgkJCSRwcmVmaXggPSAkbWF0Y2hlZFsxXTsKCQkJJHBhdGggPSAkbWF0Y2hlZFsyXTsKCQl9CgkJJHBhdGggPSBwcmVnX3JlcGxhY2UoICcvXFwvKy9zJywgJy8nLCAkcGF0aCApOy8v6YeN6KSH44GZ44KL44K544Op44OD44K344Ol44KSMeOBpOOBq+OBvuOBqOOCgeOCiwoJCXJldHVybiAkcHJlZml4LiRwYXRoOwoJfQoKCgkvKioKCSAqIOODkeOCueOCkk9T44Gu5qiZ5rqW55qE44Gq6KGo54++44Gr5aSJ5o+b44GZ44KL44CCCgkgKgoJICog5Y+X44GR5Y+W44Gj44Gf44OR44K544KS44CBT1Pjga7mqJnmupbnmoTjgarooajnj77jgavlpInmj5vjgZfjgb7jgZnjgIIKCSAqIC0g44K544Op44OD44K344Ol44Go44OQ44OD44Kv44K544Op44OD44K344Ol44Gu6YGV44GE44KS5ZC45Y+O44GX44CBYERJUkVDVE9SWV9TRVBBUkFUT1JgIOOBq+e9ruOBjeaPm+OBiOOBvuOBmeOAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg44Ot44O844Kr44Op44Kk44K644GZ44KL44OR44K5CgkgKiBAcmV0dXJuIHN0cmluZyDjg63jg7zjgqvjg6njgqTjgrrjgZXjgozjgZ/jg5HjgrkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGxvY2FsaXplX3BhdGgoJHBhdGgpewoJCSRwYXRoID0gJHRoaXMtPmNvbnZlcnRfZmlsZXN5c3RlbV9lbmNvZGluZyggJHBhdGggKTsvL+aWh+Wtl+OCs+ODvOODieOCkuaPg+OBiOOCiwoJCSRwYXRoID0gcHJlZ19yZXBsYWNlKCAnL1xcL3xcXFxcL3MnLCAnLycsICRwYXRoICk7Ly/kuIDml6bjgrnjg6njg4Pjgrfjg6Xjgavnva7jgY3mj5vjgYjjgovjgIIKCQlpZiggJHRoaXMtPmlzX3VuaXgoKSApewoJCQkvLyBXaW5kb3dz5Lul5aSW44Gg44Gj44Gf5aC05ZCI44Gr44CB44Oc44Oq44Ol44O844Og44Op44OZ44Or44KS5Y+X44GR5Y+W44Gj44Gf44KJ5YmK6Zmk44GZ44KLCgkJCSRwYXRoID0gcHJlZ19yZXBsYWNlKCAnL15bQS1aXVxcOlxcLy9zJywgJy8nLCAkcGF0aCApOy8vV2luZG93c+OBruODnOODquODpeODvOODoOODqeODmeODq+OCkuWJiumZpAoJCX0KCQkkcGF0aCA9IHByZWdfcmVwbGFjZSggJy9cXC8rL3MnLCAnLycsICRwYXRoICk7Ly/ph43opIfjgZnjgovjgrnjg6njg4Pjgrfjg6XjgpIx44Gk44Gr44G+44Go44KB44KLCgkJJHBhdGggPSBwcmVnX3JlcGxhY2UoICcvXFwvfFxcXFwvcycsIERJUkVDVE9SWV9TRVBBUkFUT1IsICRwYXRoICk7CgkJcmV0dXJuICRwYXRoOwoJfQoKCgoJLyoqCgkgKiDlj5fjgZHlj5bjgaPjgZ/jg4bjgq3jgrnjg4jjgpLjgIHjg5XjgqHjgqTjg6vjgrfjgrnjg4bjg6Djgqjjg7PjgrPjg7zjg4njgavlpInmj5vjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gbWl4ZWQgJHRleHQg44OG44Kt44K544OICgkgKiBAcmV0dXJuIHN0cmluZyDmloflrZfjgrvjg4Pjg4jlpInmj5vlvozjga7jg4bjgq3jgrnjg4gKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBjb252ZXJ0X2ZpbGVzeXN0ZW1fZW5jb2RpbmcoICR0ZXh0ICl7CgkJJFJUTiA9ICR0ZXh0OwoJCWlmKCAhaXNfY2FsbGFibGUoICdtYl9pbnRlcm5hbF9lbmNvZGluZycgKSApewoJCQlyZXR1cm4gJHRleHQ7CgkJfQoJCWlmKCAhc3RybGVuKCAkdGhpcy0+ZmlsZXN5c3RlbV9lbmNvZGluZyApICl7CgkJCXJldHVybiAkdGV4dDsKCQl9CgoJCSR0b19lbmNvZGluZyA9ICR0aGlzLT5maWxlc3lzdGVtX2VuY29kaW5nOwoJCSRmcm9tX2VuY29kaW5nID0gbWJfaW50ZXJuYWxfZW5jb2RpbmcoKS4nLFVURi04LFNKSVMtd2luLGV1Y0pQLXdpbixTSklTLEVVQy1KUCxKSVMsQVNDSUknOwoKCQlyZXR1cm4gJHRoaXMtPmNvbnZlcnRfZW5jb2RpbmcoICR0ZXh0LCAkdG9fZW5jb2RpbmcsICRmcm9tX2VuY29kaW5nICk7CgoJfS8vY29udmVydF9maWxlc3lzdGVtX2VuY29kaW5nKCkKCgkvKioKCSAqIOWPl+OBkeWPluOBo+OBn+ODhuOCreOCueODiOOCkuOAgeODleOCoeOCpOODq+OCt+OCueODhuODoOOCqOODs+OCs+ODvOODieOBq+WkieaPm+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBtaXhlZCAkdGV4dCDjg4bjgq3jgrnjg4gKCSAqIEBwYXJhbSBzdHJpbmcgJHRvX2VuY29kaW5nIOaWh+Wtl+OCu+ODg+ODiCjnnIHnlaXmmYLjgIHlhoXpg6jmloflrZfjgrvjg4Pjg4gpCgkgKiBAcGFyYW0gc3RyaW5nICRmcm9tX2VuY29kaW5nIOWkieaPm+WJjeOBruaWh+Wtl+OCu+ODg+ODiAoJICogQHJldHVybiBzdHJpbmcg5paH5a2X44K744OD44OI5aSJ5o+b5b6M44Gu44OG44Kt44K544OICgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBjb252ZXJ0X2VuY29kaW5nKCAkdGV4dCwgJHRvX2VuY29kaW5nID0gbnVsbCwgJGZyb21fZW5jb2RpbmcgPSBudWxsICl7CgkJJFJUTiA9ICR0ZXh0OwoJCWlmKCAhaXNfY2FsbGFibGUoICdtYl9pbnRlcm5hbF9lbmNvZGluZycgKSApewoJCQlyZXR1cm4gJHRleHQ7CgkJfQoKCQkkdG9fZW5jb2RpbmdfZmluID0gJHRvX2VuY29kaW5nOwoJCWlmKCAhc3RybGVuKCR0b19lbmNvZGluZ19maW4pICl7CgkJCSR0b19lbmNvZGluZ19maW4gPSBtYl9pbnRlcm5hbF9lbmNvZGluZygpOwoJCX0KCQlpZiggIXN0cmxlbigkdG9fZW5jb2RpbmdfZmluKSApewoJCQkkdG9fZW5jb2RpbmdfZmluID0gJ1VURi04JzsKCQl9CgoJCSRmcm9tX2VuY29kaW5nX2ZpbiA9IChzdHJsZW4oJGZyb21fZW5jb2RpbmcpPyRmcm9tX2VuY29kaW5nLicsJzonJykubWJfaW50ZXJuYWxfZW5jb2RpbmcoKS4nLFVURi04LFNKSVMtd2luLGV1Y0pQLXdpbixTSklTLEVVQy1KUCxKSVMsQVNDSUknOwoKCQkvLyAtLS0KCQlpZiggaXNfYXJyYXkoICR0ZXh0ICkgKXsKCQkJJFJUTiA9IGFycmF5KCk7CgkJCWlmKCAhY291bnQoICR0ZXh0ICkgKXsKCQkJCXJldHVybiAkdGV4dDsKCQkJfQoJCQlmb3JlYWNoKCAkdGV4dCBhcyAka2V5PT4kcm93ICl7CgkJCQkkUlROWyRrZXldID0gJHRoaXMtPmNvbnZlcnRfZW5jb2RpbmcoICRyb3csICR0b19lbmNvZGluZywgJGZyb21fZW5jb2RpbmcgKTsKCQkJfQoJCX1lbHNlewoJCQlpZiggIXN0cmxlbiggJHRleHQgKSApewoJCQkJcmV0dXJuICR0ZXh0OwoJCQl9CgkJCSRSVE4gPSBtYl9jb252ZXJ0X2VuY29kaW5nKCAkdGV4dCwgJHRvX2VuY29kaW5nX2ZpbiwgJGZyb21fZW5jb2RpbmdfZmluICk7CgkJfQoJCXJldHVybiAkUlROOwoJfS8vY29udmVydF9lbmNvZGluZygpCgoJLyoqCgkgKiDlj5fjgZHlj5bjgaPjgZ/jg4bjgq3jgrnjg4jjgpLjgIHmjIflrprjga7mlLnooYzjgrPjg7zjg4njgavlpInmj5vjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gbWl4ZWQgJHRleHQg44OG44Kt44K544OICgkgKiBAcGFyYW0gc3RyaW5nICRjcmxmIOaUueihjOOCs+ODvOODieWQjeOAgkNSfExGKGRlZmF1bHQpfENSTEYKCSAqIEByZXR1cm4gc3RyaW5nIOaUueihjOOCs+ODvOODieWkieaPm+W+jOOBruODhuOCreOCueODiAoJICovCglwdWJsaWMgZnVuY3Rpb24gY29udmVydF9jcmxmKCAkdGV4dCwgJGNybGYgPSBudWxsICl7CgkJaWYoICFzdHJsZW4oJGNybGYpICl7CgkJCSRjcmxmID0gJ0xGJzsKCQl9CgkJJGNybGZfY29kZSA9ICJcbiI7CgkJc3dpdGNoKHN0cnRvdXBwZXIoJGNybGYpKXsKCQkJY2FzZSAnQ1InOgoJCQkJJGNybGZfY29kZSA9ICJcciI7CgkJCQlicmVhazsKCQkJY2FzZSAnQ1JMRic6CgkJCQkkY3JsZl9jb2RlID0gIlxyXG4iOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ0xGJzoKCQkJZGVmYXVsdDoKCQkJCSRjcmxmX2NvZGUgPSAiXG4iOwoJCQkJYnJlYWs7CgkJfQoJCSRSVE4gPSAkdGV4dDsKCQlpZiggaXNfYXJyYXkoICR0ZXh0ICkgKXsKCQkJJFJUTiA9IGFycmF5KCk7CgkJCWlmKCAhY291bnQoICR0ZXh0ICkgKXsKCQkJCXJldHVybiAkdGV4dDsKCQkJfQoJCQlmb3JlYWNoKCAkdGV4dCBhcyAka2V5PT4kdmFsICl7CgkJCQkkUlROWyRrZXldID0gJHRoaXMtPmNvbnZlcnRfY3JsZiggJHZhbCAsICRjcmxmICk7CgkJCX0KCQl9ZWxzZXsKCQkJaWYoICFzdHJsZW4oICR0ZXh0ICkgKXsKCQkJCXJldHVybiAkdGV4dDsKCQkJfQoJCQkkUlROID0gcHJlZ19yZXBsYWNlKCAnL1xyXG58XHJ8XG4vJywgJGNybGZfY29kZSwgJHRleHQgKTsKCQl9CgkJcmV0dXJuICRSVE47Cgl9Cgp9Cj8+',
           "request" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiB0b21rNzkvcmVxdWVzdCBjb3JlIGNsYXNzCiAqCiAqIEBhdXRob3IgVG9tb3lhIEtveWFuYWdpIDx0b21rNzlAZ21haWwuY29tPgogKi8KY2xhc3MgcmVxdWVzdHsKCS8qKgoJICog6Kit5a6a44Kq44OW44K444Kn44Kv44OICgkgKi8KCXByaXZhdGUgJGNvbmY7CgkvKioKCSAqIOODleOCoeOCpOODq+OCt+OCueODhuODoOOCquODluOCuOOCp+OCr+ODiAoJICovCglwcml2YXRlICRmczsKCS8qKgoJICogVVJM44OR44Op44Oh44O844K/CgkgKi8KCXByaXZhdGUgJHBhcmFtID0gYXJyYXkoKTsKCS8qKgoJICog44Kz44Oe44Oz44OJ44GL44KJ44Gu44Ki44Kv44K744K5IOODleODqeOCsAoJICovCglwcml2YXRlICRmbGdfY21kID0gZmFsc2U7CgkvKioKCSAqIOWEquWFiOODh+OCo+ODrOOCr+ODiOODquOCpOODs+ODh+ODg+OCr+OCuQoJICovCglwcml2YXRlICRkaXJlY3RvcnlfaW5kZXhfcHJpbWFyeTsKCS8qKgoJICog44Kz44Oe44Oz44OJ44Op44Kk44Oz44Kq44OX44K344On44OzCgkgKi8KCXByaXZhdGUgJGNsaV9vcHRpb25zOwoJLyoqCgkgKiDjgrPjg57jg7Pjg4njg6njgqTjg7Pjg5Hjg6njg6Hjg7zjgr8KCSAqLwoJcHJpdmF0ZSAkY2xpX3BhcmFtczsKCgkvKioKCSAqIOOCs+ODs+OCueODiOODqeOCr+OCvwoJICoKCSAqIEBwYXJhbSBvYmplY3QgJGNvbmYg6Kit5a6a44Kq44OW44K444Kn44Kv44OICgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkY29uZj1udWxsKXsKCQkkdGhpcy0+Y29uZiA9ICRjb25mOwoJCWlmKCAhaXNfb2JqZWN0KCR0aGlzLT5jb25mKSApewoJCQkkdGhpcy0+Y29uZiA9IGpzb25fZGVjb2RlKCd7fScpOwoJCX0KCgkJaWYoIXByb3BlcnR5X2V4aXN0cygkdGhpcy0+Y29uZiwgJ2dldCcpIHx8ICFAaXNfYXJyYXkoJHRoaXMtPmNvbmYtPmdldCkpewoJCQkkdGhpcy0+Y29uZi0+Z2V0ID0gJF9HRVQ7CgkJfQoJCWlmKCFwcm9wZXJ0eV9leGlzdHMoJHRoaXMtPmNvbmYsICdwb3N0JykgfHwgIUBpc19hcnJheSgkdGhpcy0+Y29uZi0+cG9zdCkpewoJCQkkdGhpcy0+Y29uZi0+cG9zdCA9ICRfUE9TVDsKCQl9CgkJaWYoIXByb3BlcnR5X2V4aXN0cygkdGhpcy0+Y29uZiwgJ2ZpbGVzJykgfHwgIUBpc19hcnJheSgkdGhpcy0+Y29uZi0+ZmlsZXMpKXsKCQkJJHRoaXMtPmNvbmYtPmZpbGVzID0gJF9GSUxFUzsKCQl9CgkJaWYoIXByb3BlcnR5X2V4aXN0cygkdGhpcy0+Y29uZiwgJ3NlcnZlcicpIHx8ICFAaXNfYXJyYXkoJHRoaXMtPmNvbmYtPnNlcnZlcikpewoJCQkkdGhpcy0+Y29uZi0+c2VydmVyID0gJF9TRVJWRVI7CgkJfQoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cyggJ1BBVEhfSU5GTycgLCAkdGhpcy0+Y29uZi0+c2VydmVyICkgKXsKCQkJJHRoaXMtPmNvbmYtPnNlcnZlclsnUEFUSF9JTkZPJ10gPSBudWxsOwoJCX0KCQlpZiggIWFycmF5X2tleV9leGlzdHMoICdIVFRQX1VTRVJfQUdFTlQnICwgJHRoaXMtPmNvbmYtPnNlcnZlciApICl7CgkJCSR0aGlzLT5jb25mLT5zZXJ2ZXJbJ0hUVFBfVVNFUl9BR0VOVCddID0gbnVsbDsKCQl9CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCAnYXJndicgLCAkdGhpcy0+Y29uZi0+c2VydmVyICkgKXsKCQkJJHRoaXMtPmNvbmYtPnNlcnZlclsnYXJndiddID0gbnVsbDsKCQl9CgkJaWYoIXByb3BlcnR5X2V4aXN0cygkdGhpcy0+Y29uZiwgJ3Nlc3Npb25fbmFtZScpIHx8ICFAc3RybGVuKCR0aGlzLT5jb25mLT5zZXNzaW9uX25hbWUpKXsKCQkJJHRoaXMtPmNvbmYtPnNlc3Npb25fbmFtZSA9ICdTRVNTSUQnOwoJCX0KCQlpZighcHJvcGVydHlfZXhpc3RzKCR0aGlzLT5jb25mLCAnc2Vzc2lvbl9leHBpcmUnKSB8fCAhQHN0cmxlbigkdGhpcy0+Y29uZi0+c2Vzc2lvbl9leHBpcmUpKXsKCQkJJHRoaXMtPmNvbmYtPnNlc3Npb25fZXhwaXJlID0gMTgwMDsKCQl9CgkJaWYoIXByb3BlcnR5X2V4aXN0cygkdGhpcy0+Y29uZiwgJ2RpcmVjdG9yeV9pbmRleF9wcmltYXJ5JykgfHwgIUBzdHJsZW4oJHRoaXMtPmNvbmYtPmRpcmVjdG9yeV9pbmRleF9wcmltYXJ5KSl7CgkJCSR0aGlzLT5jb25mLT5kaXJlY3RvcnlfaW5kZXhfcHJpbWFyeSA9ICdpbmRleC5odG1sJzsKCQl9CgkJaWYoIXByb3BlcnR5X2V4aXN0cygkdGhpcy0+Y29uZiwgJ2Nvb2tpZV9kZWZhdWx0X3BhdGgnKSB8fCAhQHN0cmxlbigkdGhpcy0+Y29uZi0+Y29va2llX2RlZmF1bHRfcGF0aCkpewoJCQkvLyDjgq/jg4Pjgq3jg7zjga7jg4fjg5Xjgqnjg6vjg4jjga7jg5HjgrkKCQkJLy8gc2Vzc2lvbiDjga7nr4Tlm7LjgoLjgZPjga7oqK3lrprjgavlvpPjgYbjgIIKCQkJJHRoaXMtPmNvbmYtPmNvb2tpZV9kZWZhdWx0X3BhdGggPSAkdGhpcy0+Z2V0X3BhdGhfY3VycmVudF9kaXIoKTsKCQl9CgoJCSR0aGlzLT5wYXJzZV9pbnB1dCgpOwoJCSR0aGlzLT5zZXNzaW9uX3N0YXJ0KCk7Cgl9CgoJLyoqCgkgKgnlhaXlipvlgKTjgpLop6PmnpDjgZnjgovjgIIKCSAqCgkgKiBgJF9HRVRgLCBgJF9QT1NUYCwgYCRfRklMRVNgIOOBq+mAgeOCieOCjOOBn+ODkeODqeODoeODvOOCv+aDheWgseOCkuWPluOCiuOBvuOBqOOCgeOAgTHjgaTjga7pgKPmg7PphY3liJfjgajjgZfjgabjgb7jgajjgoHjgb7jgIHjgqrjg5bjgrjjgqfjgq/jg4jlhoXjgavkv53mjIHjgZfjgb7jgZnjgIIKCSAqCgkgKiDjgrPjg57jg7Pjg4njg6njgqTjg7PjgYvjgonlrp/ooYzjgZXjgozjgZ/loLTlkIjjga/jgIHjgrPjg57jg7Pjg4njg6njgqTjg7Pjgqrjg5fjgrfjg6fjg7PjgpLjgZ3jgozjgZ7jgowgYD1gIOiomOWPt+OBp+WMuuWIh+OCiuOAgVVSTOODkeODqeODoeODvOOCv+WQjOanmOOBq+ODkeODvOOCueOBl+OBvuOBmeOAggoJICoKCSAqIOOBk+OBruODoeOCveODg+ODieOBruWHpueQhuOBq+OBr+OAgeWFpeWKm+aWh+Wtl+OCs+ODvOODieOBruWkieaPmyhVVEYtOOOBuOe1seS4gCnjgarjganjga7mlbTlvaLlh6bnkIbjgYzlkKvjgb7jgozjgb7jgZnjgIIKCSAqCgkgKiBAcmV0dXJuIGJvb2wg5bi444GrIGB0cnVlYAoJICovCglwcml2YXRlIGZ1bmN0aW9uIHBhcnNlX2lucHV0KCl7CgkJJHRoaXMtPmNsaV9wYXJhbXMgPSBhcnJheSgpOwoJCSR0aGlzLT5jbGlfb3B0aW9ucyA9IGFycmF5KCk7CgoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cyggJ1JFTU9URV9BRERSJyAsICR0aGlzLT5jb25mLT5zZXJ2ZXIgKSApewoJCQkvLyAg44Kz44Oe44Oz44OJ44Op44Kk44Oz44GL44KJ44Gu5a6f6KGM44GL5ZCm44GL5Yik5patCgkJCSR0aGlzLT5mbGdfY21kID0gdHJ1ZTsvL+OCs+ODnuODs+ODieODqeOCpOODs+OBi+OCieWun+ihjOOBl+OBpuOBhOOCi+OBi+ODleODqeOCsAoJCQlpZiggaXNfYXJyYXkoICR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXSApICYmIGNvdW50KCAkdGhpcy0+Y29uZi0+c2VydmVyWydhcmd2J10gKSApewoJCQkJJHRtcF9wYXRoID0gbnVsbDsKCQkJCWZvciggJGkgPSAwOyBjb3VudCggJHRoaXMtPmNvbmYtPnNlcnZlclsnYXJndiddICkgPiAkaTsgJGkgKysgKXsKCQkJCQlpZiggcHJlZ19tYXRjaCggJy9eXC0vJywgJHRoaXMtPmNvbmYtPnNlcnZlclsnYXJndiddWyRpXSApICl7CgkJCQkJCSR0aGlzLT5jbGlfcGFyYW1zID0gYXJyYXkoKTsvL+OCquODl+OCt+ODp+ODs+OBruWJjeOBq+W8leaVsOOBr+S7mOOBkeOCieOCjOOBquOBhAoJCQkJCQkkdGhpcy0+Y2xpX29wdGlvbnNbJHRoaXMtPmNvbmYtPnNlcnZlclsnYXJndiddWyRpXV0gPSAkdGhpcy0+Y29uZi0+c2VydmVyWydhcmd2J11bJGkrMV07CgkJCQkJCSRpICsrOwoJCQkJCX1lbHNlewoJCQkJCQlhcnJheV9wdXNoKCAkdGhpcy0+Y2xpX3BhcmFtcywgJHRoaXMtPmNvbmYtPnNlcnZlclsnYXJndiddWyRpXSApOwoJCQkJCX0KCQkJCX0KCQkJCSR0bXBfcGF0aCA9IEAkdGhpcy0+Y2xpX3BhcmFtc1tjb3VudCgkdGhpcy0+Y2xpX3BhcmFtcyktMV07CgkJCQlpZiggcHJlZ19tYXRjaCggJy9eXC8vJywgJHRtcF9wYXRoICkgJiYgQGlzX2FycmF5KCR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXSkgKXsKCQkJCQkkdG1wX3BhdGggPSBhcnJheV9wb3AoICR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXSApOwoJCQkJCSR0bXBfcGF0aCA9IHBhcnNlX3VybCgkdG1wX3BhdGgpOwoJCQkJCUBwYXJzZV9zdHIoICR0bXBfcGF0aFsncXVlcnknXSwgJHF1ZXJ5ICk7CgkJCQkJaWYoIGlzX2FycmF5KCRxdWVyeSkgKXsKCQkJCQkJJHRoaXMtPmNvbmYtPmdldCA9IGFycmF5X21lcmdlKCAkdGhpcy0+Y29uZi0+Z2V0LCAkcXVlcnkgKTsKCQkJCQl9CgkJCQl9CgkJCQl1bnNldCggJHRtcF9wYXRoICk7CgkJCX0KCQl9CgoJCWlmKCBpbmlfZ2V0KCdtYWdpY19xdW90ZXNfZ3BjJykgKXsKCQkJLy8gUEhQSU5J44GubWFnaWNfcXVvdGVzX2dwY+ioreWumuOBjE9u44Gg44Gj44Gf44KJ44CBCgkJCS8vIOOCqOOCueOCseODvOODl+aWh+Wtl+OCkuWJiumZpOOAggoJCQlmb3JlYWNoKCBhcnJheV9rZXlzKCAkdGhpcy0+Y29uZi0+Z2V0ICkgYXMgJExpbmUgKXsKCQkJCSR0aGlzLT5jb25mLT5nZXRbJExpbmVdID0gc2VsZjo6c3RyaXBzbGFzaGVzKCAkdGhpcy0+Y29uZi0+Z2V0WyRMaW5lXSApOwoJCQl9CgkJCWZvcmVhY2goIGFycmF5X2tleXMoICR0aGlzLT5jb25mLT5wb3N0ICkgYXMgJExpbmUgKXsKCQkJCSR0aGlzLT5jb25mLT5wb3N0WyRMaW5lXSA9IHNlbGY6OnN0cmlwc2xhc2hlcyggJHRoaXMtPmNvbmYtPnBvc3RbJExpbmVdICk7CgkJCX0KCQl9CgoJCSR0aGlzLT5jb25mLT5nZXQgPSBzZWxmOjpjb252ZXJ0X2VuY29kaW5nKCAkdGhpcy0+Y29uZi0+Z2V0ICk7CgkJJHRoaXMtPmNvbmYtPnBvc3QgPSBzZWxmOjpjb252ZXJ0X2VuY29kaW5nKCAkdGhpcy0+Y29uZi0+cG9zdCApOwoJCSRwYXJhbSA9IGFycmF5X21lcmdlKCAkdGhpcy0+Y29uZi0+Z2V0ICwgJHRoaXMtPmNvbmYtPnBvc3QgKTsKCQkkcGFyYW0gPSAkdGhpcy0+bm9ybWFsaXplX2lucHV0KCAkcGFyYW0gKTsKCgkJaWYoIGlzX2FycmF5KCAkdGhpcy0+Y29uZi0+ZmlsZXMgKSApewoJCQkkRklMRVNfS0VZUyA9IGFycmF5X2tleXMoICR0aGlzLT5jb25mLT5maWxlcyApOwoJCQlmb3JlYWNoKCRGSUxFU19LRVlTIGFzICRMaW5lKXsKCQkJCSR0aGlzLT5jb25mLT5maWxlc1skTGluZV1bJ25hbWUnXSA9IHNlbGY6OmNvbnZlcnRfZW5jb2RpbmcoICR0aGlzLT5jb25mLT5maWxlc1skTGluZV1bJ25hbWUnXSApOwoJCQkJJHRoaXMtPmNvbmYtPmZpbGVzWyRMaW5lXVsnbmFtZSddID0gbWJfY29udmVydF9rYW5hKCAkdGhpcy0+Y29uZi0+ZmlsZXNbJExpbmVdWyduYW1lJ10gLCAnS1YnICwgbWJfaW50ZXJuYWxfZW5jb2RpbmcoKSApOwoJCQkJJHBhcmFtWyRMaW5lXSA9ICR0aGlzLT5jb25mLT5maWxlc1skTGluZV07CgkJCX0KCQl9CgoJCSR0aGlzLT5wYXJhbSA9ICRwYXJhbTsKCQl1bnNldCgkcGFyYW0pOwoKCQlyZXR1cm4JdHJ1ZTsKCX0vL3BhcnNlX2lucHV0KCkKCgkvKioKCSAqCeWFpeWKm+WApOOBq+WvvuOBmeOCi+aomea6lueahOOBquWkieaPm+WHpueQhgoJICoKCSAqIEBwYXJhbSBhcnJheSAkcGFyYW0g44OR44Op44Oh44O844K/CgkgKiBAcmV0dXJuIGFycmF5IOWkieaPm+W+jOOBruODkeODqeODoeODvOOCvwoJICovCglwcml2YXRlIGZ1bmN0aW9uIG5vcm1hbGl6ZV9pbnB1dCggJHBhcmFtICl7CgkJJGlzX2NhbGxhYmxlX21iX2NoZWNrX2VuY29kaW5nID0gaXNfY2FsbGFibGUoICdtYl9jaGVja19lbmNvZGluZycgKTsKCQlmb3JlYWNoKCAkcGFyYW0gYXMgJGtleT0+JHZhbCApewoJCQkvLyBVUkzjg5Hjg6njg6Hjg7zjgr/jgpLliqDlt6UKCQkJaWYoIGlzX2FycmF5KCAkdmFsICkgKXsKCQkJCS8vIOmFjeWIl+OBquOCiQoJCQkJJHBhcmFtWyRrZXldID0gJHRoaXMtPm5vcm1hbGl6ZV9pbnB1dCggJHBhcmFtWyRrZXldICk7CgkJCX1lbHNlaWYoIGlzX3N0cmluZyggJHBhcmFtWyRrZXldICkgKXsKCQkJCS8vIOaWh+Wtl+WIl+OBquOCiQoJCQkJJHBhcmFtWyRrZXldID0gbWJfY29udmVydF9rYW5hKCAkcGFyYW1bJGtleV0gLCAnS1YnICwgbWJfaW50ZXJuYWxfZW5jb2RpbmcoKSApOwoJCQkJCS8vIOWNiuinkuOCq+ODiuOBr+WFqOinkuOBq+e1seS4gAoJCQkJJHBhcmFtWyRrZXldID0gcHJlZ19yZXBsYWNlKCAnL1xyXG58XHJ8XG4vJyAsICJcbiIgLCAkcGFyYW1bJGtleV0gKTsKCQkJCQkvLyDmlLnooYzjgrPjg7zjg4njga9MRuOBq+e1seS4gAoJCQkJaWYoICRpc19jYWxsYWJsZV9tYl9jaGVja19lbmNvZGluZyApewoJCQkJCS8vIOS4jeato+OBquODkOOCpOODiOOCs+ODvOODieOBruODgeOCp+ODg+OCrwoJCQkJCWlmKCAhbWJfY2hlY2tfZW5jb2RpbmcoICRrZXkgLCBtYl9pbnRlcm5hbF9lbmNvZGluZygpICkgKXsKCQkJCQkJLy8g44Kt44O844Gu5Lit44Gr6KaL44Gk44GR44Gf44KJ44OR44Op44Oh44O844K/44GU44Go5YmK6ZmkCgkJCQkJCXVuc2V0KCAkcGFyYW1bJGtleV0gKTsKCQkJCQl9CgkJCQkJaWYoICFtYl9jaGVja19lbmNvZGluZyggJHBhcmFtWyRrZXldICwgbWJfaW50ZXJuYWxfZW5jb2RpbmcoKSApICl7CgkJCQkJCS8vIOWApOOBruS4reOBq+imi+OBpOOBkeOBn+OCiSBmYWxzZSDjgavnva7jgY3mj5vjgYjjgosKCQkJCQkJJHBhcmFtWyRrZXldID0gZmFsc2U7CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoJCXJldHVybiAkcGFyYW07Cgl9Ly9ub3JtYWxpemVfaW5wdXQoKQoKCS8qKgoJICog44OR44Op44Oh44O844K/44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogYCRfR0VUYCwgYCRfUE9TVGDjgIFgJF9GSUxFU2Ag44KS5ZCI44KP44Gb44Gf6YCj5oOz6YWN5YiX44Gu5Lit44GL44KJIGAka2V5YCDjgavlvZPjgZ/jgovlgKTjgpLlvJXjgYTjgabov5TjgZfjgb7jgZnjgIIKCSAqIOOCreODvOOBjOWumue+qeOBleOCjOOBpuOBhOOBquOBhOWgtOWQiOOBr+OAgWBudWxsYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkgVVJM44OR44Op44Oh44O844K/5ZCNCgkgKiBAcmV0dXJuIG1peGVkIFVSTOODkeODqeODoeODvOOCv+WApAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3BhcmFtKCAka2V5ICl7CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCRrZXksICR0aGlzLT5wYXJhbSkgKXsgcmV0dXJuIG51bGw7IH0KCQlyZXR1cm4gQCR0aGlzLT5wYXJhbVska2V5XTsKCX0vL2dldF9wYXJhbSgpCgoJLyoqCgkgKiDjg5Hjg6njg6Hjg7zjgr/jgpLjgrvjg4Pjg4jjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44OR44Op44Oh44O844K/5ZCNCgkgKiBAcGFyYW0gbWl4ZWQgJHZhbCDjg5Hjg6njg6Hjg7zjgr/lgKQKCSAqIEByZXR1cm4gYm9vbCDluLjjgasgYHRydWVgCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBzZXRfcGFyYW0oICRrZXkgLCAkdmFsICl7CgkJJHRoaXMtPnBhcmFtWyRrZXldID0gJHZhbDsKCQlyZXR1cm4gdHJ1ZTsKCX0vL3NldF9wYXJhbSgpCgoJLyoqCgkgKiDjg5Hjg6njg6Hjg7zjgr/jgpLjgZnjgbnjgablj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcmV0dXJuIGFycmF5IOOBmeOBueOBpuOBruODkeODqeODoeODvOOCv+OCkuagvOe0jeOBmeOCi+mAo+aDs+mFjeWIlwoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2FsbF9wYXJhbXMoKXsKCQlyZXR1cm4gJHRoaXMtPnBhcmFtOwoJfQoKCS8qKgoJICog44Kz44Oe44Oz44OJ44Op44Kk44Oz44Kq44OX44K344On44Oz44KS5Y+W5b6X44GZ44KLCgkgKiBAcGFyYW0gc3RyaW5nICRuYW1lIOOCquODl+OCt+ODp+ODs+WQjQoJICogQHJldHVybiBzdHJpbmcg5oyH5a6a44GV44KM44Gf44Kq44OX44K344On44Oz5YCkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfY2xpX29wdGlvbiggJG5hbWUgKXsKCQlpZiggIWFycmF5X2tleV9leGlzdHMoJG5hbWUsICR0aGlzLT5jbGlfb3B0aW9ucykgKXsKCQkJcmV0dXJuIG51bGw7CgkJfQoJCXJldHVybiBAJHRoaXMtPmNsaV9vcHRpb25zWyRuYW1lXTsKCX0KCgkvKioKCSAqIOOBmeOBueOBpuOBruOCs+ODnuODs+ODieODqeOCpOODs+OCquODl+OCt+ODp+ODs+OCkumAo+aDs+mFjeWIl+OBp+WPluW+l+OBmeOCiwoJICogQHJldHVybiBhcnJheSDjgZnjgbnjgabjga7jgrPjg57jg7Pjg4njg6njgqTjg7Pjgqrjg5fjgrfjg6fjg7MKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9jbGlfb3B0aW9ucygpewoJCXJldHVybiBAJHRoaXMtPmNsaV9vcHRpb25zOwoJfQoKCS8qKgoJICog44Kz44Oe44Oz44OJ44Op44Kk44Oz44OR44Op44Oh44O844K/44KS5Y+W5b6X44GZ44KLCgkgKiBAcGFyYW0gc3RyaW5nICRpZHgg44OR44Op44Oh44O844K/55Wq5Y+3CgkgKiBAcmV0dXJuIHN0cmluZyDmjIflrprjgZXjgozjgZ/jgqrjg5fjgrfjg6fjg7PlgKQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9jbGlfcGFyYW0oICRpZHggPSAwICl7CgkJaWYoJGlkeCA8IDApewoJCQkvLyDjg57jgqTjg4rjgrnjga7jgqTjg7Pjg4fjg4Pjgq/jgrnjgYzkuI7jgYjjgonjgozjgZ/loLTlkIjjgIEKCQkJLy8g6YWN5YiX44Gu5pyA5b6M44GL44KJ5pWw44GI44KLCgkJCSRpZHggPSBjb3VudCgkdGhpcy0+Y2xpX3BhcmFtcykrJGlkeDsKCQl9CgkJcmV0dXJuIEAkdGhpcy0+Y2xpX3BhcmFtc1skaWR4XTsKCX0KCgkvKioKCSAqIOOBmeOBueOBpuOBruOCs+ODnuODs+ODieODqeOCpOODs+ODkeODqeODoeODvOOCv+OCkumFjeWIl+OBp+WPluW+l+OBmeOCiwoJICogQHJldHVybiBhcnJheSDjgZnjgbnjgabjga7jgrPjg57jg7Pjg4njg6njgqTjg7Pjg5Hjg6njg6Hjg7zjgr8KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9jbGlfcGFyYW1zKCl7CgkJcmV0dXJuIEAkdGhpcy0+Y2xpX3BhcmFtczsKCX0KCgoKCS8vIC0tLS0tIGNvb2tpZXMgLS0tLS0KCgkvKioKCSAqIOOCr+ODg+OCreODvOaDheWgseOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGtleSDjgq/jg4Pjgq3jg7zlkI0KCSAqIEByZXR1cm4gbWl4ZWQg44Kv44OD44Kt44O844Gu5YCkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfY29va2llKCAka2V5ICl7CgkJaWYoIEAhaXNfYXJyYXkoICRfQ09PS0lFICkgKXsgcmV0dXJuIG51bGw7IH0KCQlpZiggQCFhcnJheV9rZXlfZXhpc3RzKCRrZXksICRfQ09PS0lFKSApeyByZXR1cm4gbnVsbDsgfQoJCXJldHVybglAJF9DT09LSUVbJGtleV07Cgl9Ly9nZXRfY29va2llKCkKCgkvKioKCSAqIOOCr+ODg+OCreODvOaDheWgseOCkuOCu+ODg+ODiOOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGtleSDjgq/jg4Pjgq3jg7zlkI0KCSAqIEBwYXJhbSBzdHJpbmcgJHZhbCDjgq/jg4Pjgq3jg7zlgKQKCSAqIEBwYXJhbSBzdHJpbmcgJGV4cGlyZSDjgq/jg4Pjgq3jg7zjga7mnInlirnmnJ/pmZAKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg44K144O844OQ44O85LiK44Gn44Gu44CB44Kv44OD44Kt44O844KS5pyJ5Yq544Go44GX44Gf44GE44OR44K5CgkgKiBAcGFyYW0gc3RyaW5nICRkb21haW4g44Kv44OD44Kt44O844GM5pyJ5Yq544Gq44OJ44Oh44Kk44OzCgkgKiBAcGFyYW0gYm9vbCAkc2VjdXJlIOOCr+ODqeOCpOOCouODs+ODiOOBi+OCieOBruOCu+OCreODpeOCouOBqiBIVFRQUyDmjqXntprjga7loLTlkIjjgavjga7jgb/jgq/jg4Pjgq3jg7zjgYzpgIHkv6HjgZXjgozjgovjgojjgYbjgavjgZfjgb7jgZnjgILjg4fjg5Xjgqnjg6vjg4jjga8gYHRydWVgCgkgKiBAcmV0dXJuIOaIkOWKn+aZgiBgdHJ1ZWDjgIHlpLHmlZfmmYIgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHNldF9jb29raWUoICRrZXkgLCAkdmFsICwgJGV4cGlyZSA9IG51bGwgLCAkcGF0aCA9IG51bGwgLCAkZG9tYWluID0gbnVsbCAsICRzZWN1cmUgPSB0cnVlICl7CgkJaWYoIGlzX251bGwoICRwYXRoICkgKXsKCQkJJHBhdGggPSAkdGhpcy0+Y29uZi0+Y29va2llX2RlZmF1bHRfcGF0aDsKCQkJaWYoICFzdHJsZW4oICRwYXRoICkgKXsKCQkJCSRwYXRoID0gJHRoaXMtPmdldF9wYXRoX2N1cnJlbnRfZGlyKCk7CgkJCX0KCQkJaWYoICFzdHJsZW4oICRwYXRoICkgKXsKCQkJCSRwYXRoID0gJy8nOwoJCQl9CgkJfQoJCWlmKCAhQHNldGNvb2tpZSggJGtleSAsICR2YWwgLCAkZXhwaXJlICwgJHBhdGggLCAkZG9tYWluICwgJHNlY3VyZSApICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCSRfQ09PS0lFWyRrZXldID0gJHZhbDsvL+ePvuWcqOOBruWHpueQhuOBi+OCieOCguWRvOOBs+WHuuOBm+OCi+OCiOOBhuOBqwoJCXJldHVybiB0cnVlOwoJfS8vc2V0X2Nvb2tpZSgpCgoJLyoqCgkgKiDjgq/jg4Pjgq3jg7zmg4XloLHjgpLliYrpmaTjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44Kv44OD44Kt44O85ZCNCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmCIGB0cnVlYOOAgeWkseaVl+aZgiBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gZGVsZXRlX2Nvb2tpZSggJGtleSApewoJCWlmKCAhQHNldGNvb2tpZSggJGtleSAsIG51bGwgKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCXVuc2V0KCAkX0NPT0tJRVska2V5XSApOwoJCXJldHVybiB0cnVlOwoJfS8vZGVsZXRlX2Nvb2tpZSgpCgoKCgkvLyAtLS0tLSBzZXNzaW9uIC0tLS0tCgoJLyoqCgkgKiDjgrvjg4Pjgrfjg6fjg7PjgpLplovlp4vjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRzaWQg44K744OD44K344On44OzSUTjgILnnIHnlaXmmYLjgIHoh6rli5XnmbrooYzjgIIKCSAqIEByZXR1cm4gYm9vbCDjgrvjg4Pjgrfjg6fjg7PjgYzmraPluLjjgavplovlp4vjgZfjgZ/loLTlkIjjgasgYHRydWVg44CB44Gd44KM5Lul5aSW44Gu5aC05ZCI44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gc2Vzc2lvbl9zdGFydCggJHNpZCA9IG51bGwgKXsKCQkkZXhwaXJlID0gaW50dmFsKCR0aGlzLT5jb25mLT5zZXNzaW9uX2V4cGlyZSk7CgkJJGNhY2hlX2xpbWl0ZXIgPSAnbm9jYWNoZSc7CgkJJHNlc3Npb25fbmFtZSA9ICdTRVNTSUQnOwoJCWlmKCBzdHJsZW4oICR0aGlzLT5jb25mLT5zZXNzaW9uX25hbWUgKSApewoJCQkkc2Vzc2lvbl9uYW1lID0gJHRoaXMtPmNvbmYtPnNlc3Npb25fbmFtZTsKCQl9CgkJJHBhdGggPSAkdGhpcy0+Y29uZi0+Y29va2llX2RlZmF1bHRfcGF0aDsKCQlpZiggIXN0cmxlbiggJHBhdGggKSApewoJCQkkcGF0aCA9ICR0aGlzLT5nZXRfcGF0aF9jdXJyZW50X2RpcigpOwoJCX0KCQlpZiggIXN0cmxlbiggJHBhdGggKSApewoJCQkkcGF0aCA9ICcvJzsKCQl9CgoJCUBzZXNzaW9uX25hbWUoICRzZXNzaW9uX25hbWUgKTsKCQlAc2Vzc2lvbl9jYWNoZV9saW1pdGVyKCAkY2FjaGVfbGltaXRlciApOwoJCUBzZXNzaW9uX2NhY2hlX2V4cGlyZSggaW50dmFsKCRleHBpcmUvNjApICk7CgoJCWlmKCBpbnR2YWwoIGluaV9nZXQoICdzZXNzaW9uLmdjX21heGxpZmV0aW1lJyApICkgPCAkZXhwaXJlICsgMTAgKXsKCQkJLy8g44Ks44OZ44O844K444Kz44Os44Kv44K344On44Oz44Gu55Sf5a2Y5pyf6ZaT44GMCgkJCS8vICRleHBpcmXjgojjgorjgoLnn63jgYTloLTlkIjjga/jgIHkuIrmm7jjgY3jgZnjgovjgIIKCQkJLy8g44OQ44OD44OV44Kh44Gv5Zu65a6a5YCk44GnMTDnp5LjgIIKCQkJQGluaV9zZXQoICdzZXNzaW9uLmdjX21heGxpZmV0aW1lJyAsICRleHBpcmUgKyAxMCApOwoJCX0KCgkJQHNlc3Npb25fc2V0X2Nvb2tpZV9wYXJhbXMoIDAgLCAkcGF0aCApOwoJCQkvLyAg44K744OD44K344On44Oz44Kv44OD44Kt44O86Ieq5L2T44Gu5a+/5ZG944Gv5a6a44KB44Gq44GEKD0wKQoJCQkvLyAg44Gd44Gu44GL44KP44KK44CBU0VTU0lPTl9MQVNUX01PRElGSUVEIOOCkuaWsOioreOBl+OAgeiHquWIhuOBp+Wvv+WRveOCkueuoeeQhuOBmeOCi+OAggoKCQlpZiggc3RybGVuKCAkc2lkICkgKXsKCQkJLy8g44K744OD44K344On44OzSUTjgavmjIflrprjgYzjgYLjgozjgbDjgIHmnInlirnjgavjgZnjgovjgIIKCQkJc2Vzc2lvbl9pZCggJHNpZCApOwoJCX0KCgkJLy8g44K744OD44K344On44Oz44KS6ZaL5aeLCgkJJHJ0biA9IEBzZXNzaW9uX3N0YXJ0KCk7CgoJCS8vIOOCu+ODg+OCt+ODp+ODs+OBruacieWKueacn+mZkOOCkuipleS+oQoJCWlmKCBzdHJsZW4oICR0aGlzLT5nZXRfc2Vzc2lvbiggJ1NFU1NJT05fTEFTVF9NT0RJRklFRCcgKSApICYmIGludHZhbCggJHRoaXMtPmdldF9zZXNzaW9uKCAnU0VTU0lPTl9MQVNUX01PRElGSUVEJyApICkgPCBpbnR2YWwoIHRpbWUoKSAtICRleHBpcmUgKSApewoJCQkjCeOCu+ODg+OCt+ODp+ODs+OBruacieWKueacn+mZkOOBjOWIh+OCjOOBpuOBhOOBn+OCieOAgeOCu+ODg+OCt+ODp+ODs+OCreODvOOCkuWGjeeZuuihjOOAggoJCQlpZiggaXNfY2FsbGFibGUoJ3Nlc3Npb25fcmVnZW5lcmF0ZV9pZCcpICl7CgkJCQlAc2Vzc2lvbl9yZWdlbmVyYXRlX2lkKCB0cnVlICk7CgkJCX0KCQl9CgkJJHRoaXMtPnNldF9zZXNzaW9uKCAnU0VTU0lPTl9MQVNUX01PRElGSUVEJyAsIHRpbWUoKSApOwoJCXJldHVybiAkcnRuOwoJfS8vc2Vzc2lvbl9zdGFydCgpCgoJLyoqCgkgKiDjgrvjg4Pjgrfjg6fjg7NJROOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEByZXR1cm4gc3RyaW5nIOOCu+ODg+OCt+ODp+ODs0lECgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfc2Vzc2lvbl9pZCgpewoJCXJldHVybiBzZXNzaW9uX2lkKCk7Cgl9Ly9nZXRfc2Vzc2lvbl9pZCgpCgoJLyoqCgkgKiDjgrvjg4Pjgrfjg6fjg7Pmg4XloLHjgpLlj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44K744OD44K344On44Oz44Kt44O8CgkgKiBAcmV0dXJuIG1peGVkIGAka2V5YCDjgavlr77lv5zjgZnjgovjgrvjg4Pjgrfjg6fjg7PlgKQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9zZXNzaW9uKCAka2V5ICl7CgkJaWYoIEAhaXNfYXJyYXkoICRfU0VTU0lPTiApICl7IHJldHVybiBudWxsOyB9CgkJaWYoIEAhYXJyYXlfa2V5X2V4aXN0cygka2V5LCAkX1NFU1NJT04pICl7IHJldHVybiBudWxsOyB9CgkJcmV0dXJuIEAkX1NFU1NJT05bJGtleV07Cgl9Ly9nZXRfc2Vzc2lvbigpCgoJLyoqCgkgKiDjgrvjg4Pjgrfjg6fjg7Pmg4XloLHjgpLjgrvjg4Pjg4jjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44K744OD44K344On44Oz44Kt44O8CgkgKiBAcGFyYW0gbWl4ZWQgJHZhbCBgJGtleWAg44Gr5a++5b+c44GZ44KL44K744OD44K344On44Oz5YCkCgkgKiBAcmV0dXJuIGJvb2wg5bi444GrIGB0cnVlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHNldF9zZXNzaW9uKCAka2V5ICwgJHZhbCApewoJCSRfU0VTU0lPTlska2V5XSA9ICR2YWw7CgkJcmV0dXJuIHRydWU7Cgl9Ly9zZXRfc2Vzc2lvbigpCgoJLyoqCgkgKiDjgrvjg4Pjgrfjg6fjg7Pmg4XloLHjgpLliYrpmaTjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44K744OD44K344On44Oz44Kt44O8CgkgKiBAcmV0dXJuIGJvb2wg5bi444GrIGB0cnVlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGRlbGV0ZV9zZXNzaW9uKCAka2V5ICl7CgkJdW5zZXQoICRfU0VTU0lPTlska2V5XSApOwoJCXJldHVybiB0cnVlOwoJfS8vZGVsZXRlX3Nlc3Npb24oKQoKCgkvLyAtLS0tLSB1cGxvYWQgZmlsZSBhY2Nlc3MgLS0tLS0KCgkvKioKCSAqIOOCouODg+ODl+ODreODvOODieOBleOCjOOBn+ODleOCoeOCpOODq+OCkuOCu+ODg+OCt+ODp+ODs+OBq+S/neWtmOOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGtleSDjgrvjg4Pjgrfjg6fjg7Pjgq3jg7wKCSAqIEBwYXJhbSBhcnJheSAkdWxmaWxlaW5mbyDjgqLjg4Pjg5fjg63jg7zjg4njg5XjgqHjgqTjg6vmg4XloLEKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYIgYHRydWVg44CB5aSx5pWX5pmCIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBzYXZlX3VwbG9hZGZpbGUoICRrZXkgLCAkdWxmaWxlaW5mbyApewoJCS8vIGJhc2U2NOOBp+OCqOODs+OCs+ODvOODieOBl+OBpuOAgeODkOOCpOODiuODquODh+ODvOOCv+OCkuaMgeOBoeOBvuOBmeOAggoJCS8vICR1bGZpbGVpbmZvWydjb250ZW50J10g44Gr44OQ44Kk44OK44Oq44KS5qC857SN44GX44Gm5rih44GZ44GL44CBCgkJLy8gJHVsZmlsZWluZm9bJ3RtcF9uYW1lJ10g44G+44Gf44GvICR1bGZpbGVpbmZvWydwYXRoJ10g44Gu44GE44Ga44KM44GL44Gr44CBCgkJLy8g44Ki44OD44OX44Ot44O844OJ44OV44Kh44Kk44Or44Gu44OR44K544KS5oyH5a6a44GX44Gm44GP44Gg44GV44GE44CCCgkJJGZpbGVpbmZvID0gYXJyYXkoKTsKCQkkZmlsZWluZm9bJ25hbWUnXSA9ICR1bGZpbGVpbmZvWyduYW1lJ107CgkJJGZpbGVpbmZvWyd0eXBlJ10gPSAkdWxmaWxlaW5mb1sndHlwZSddOwoKCQlpZiggJHVsZmlsZWluZm9bJ2NvbnRlbnQnXSApewoJCQkkZmlsZWluZm9bJ2NvbnRlbnQnXSA9IGJhc2U2NF9lbmNvZGUoICR1bGZpbGVpbmZvWydjb250ZW50J10gKTsKCQl9ZWxzZXsKCQkJJGZpbGVwYXRoID0gJyc7CgkJCWlmKCBAaXNfZmlsZSggJHVsZmlsZWluZm9bJ3RtcF9uYW1lJ10gKSApewoJCQkJJGZpbGVwYXRoID0gJHVsZmlsZWluZm9bJ3RtcF9uYW1lJ107CgkJCX1lbHNlaWYoIEBpc19maWxlKCAkdWxmaWxlaW5mb1sncGF0aCddICkgKXsKCQkJCSRmaWxlcGF0aCA9ICR1bGZpbGVpbmZvWydwYXRoJ107CgkJCX1lbHNlewoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgkJCSRmaWxlaW5mb1snY29udGVudCddID0gYmFzZTY0X2VuY29kZSggZmlsZV9nZXRfY29udGVudHMoICRmaWxlcGF0aCApICk7CgkJfQoKCQlpZiggQCFpc19hcnJheSggJF9TRVNTSU9OICkgKXsKCQkJJF9TRVNTSU9OID0gYXJyYXkoKTsKCQl9CgkJaWYoIEAhYXJyYXlfa2V5X2V4aXN0cygnRklMRScsICRfU0VTU0lPTikgKXsKCQkJJF9TRVNTSU9OWydGSUxFJ10gPSBhcnJheSgpOwoJCX0KCgkJJF9TRVNTSU9OWydGSUxFJ11bJGtleV0gPSAkZmlsZWluZm87CgkJcmV0dXJuCXRydWU7Cgl9CgkvKioKCSAqIOOCu+ODg+OCt+ODp+ODs+OBq+S/neWtmOOBleOCjOOBn+ODleOCoeOCpOODq+aDheWgseOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGtleSDjgrvjg4Pjgrfjg6fjg7Pjgq3jg7wKCSAqIEByZXR1cm4gYXJyYXl8Ym9vbCDmiJDlip/mmYLjgIHjg5XjgqHjgqTjg6vmg4XloLEg44KS5qC857SN44GX44Gf6YCj5oOz6YWN5YiX44CB5aSx5pWX5pmCIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfdXBsb2FkZmlsZSggJGtleSApewoJCWlmKCFzdHJsZW4oJGtleSkpeyByZXR1cm4gZmFsc2U7IH0KCQlpZiggQCFpc19hcnJheSggJF9TRVNTSU9OICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZiggQCFhcnJheV9rZXlfZXhpc3RzKCdGSUxFJywgJF9TRVNTSU9OKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCBAIWFycmF5X2tleV9leGlzdHMoJGtleSwgJF9TRVNTSU9OWydGSUxFJ10pICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCSRydG4gPSBAJF9TRVNTSU9OWydGSUxFJ11bJGtleV07CgkJaWYoIGlzX251bGwoICRydG4gKSApeyByZXR1cm4gZmFsc2U7IH0KCgkJJHJ0blsnY29udGVudCddID0gYmFzZTY0X2RlY29kZSggQCRydG5bJ2NvbnRlbnQnXSApOwoJCXJldHVybgkkcnRuOwoJfQoJLyoqCgkgKiDjgrvjg4Pjgrfjg6fjg7Pjgavkv53lrZjjgZXjgozjgZ/jg5XjgqHjgqTjg6vmg4XloLHjga7kuIDopqfjgpLlj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcmV0dXJuIGFycmF5IOODleOCoeOCpOODq+aDheWgsSDjgpLmoLzntI3jgZfjgZ/pgKPmg7PphY3liJcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF91cGxvYWRmaWxlX2xpc3QoKXsKCQlpZiggQCFhcnJheV9rZXlfZXhpc3RzKCdGSUxFJywgJF9TRVNTSU9OKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCXJldHVybglhcnJheV9rZXlzKCAkX1NFU1NJT05bJ0ZJTEUnXSApOwoJfQoJLyoqCgkgKiDjgrvjg4Pjgrfjg6fjg7Pjgavkv53lrZjjgZXjgozjgZ/jg5XjgqHjgqTjg6vjgpLliYrpmaTjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44K744OD44K344On44Oz44Kt44O8CgkgKiBAcmV0dXJuIGJvb2wg5bi444GrIGB0cnVlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGRlbGV0ZV91cGxvYWRmaWxlKCAka2V5ICl7CgkJaWYoIEAhYXJyYXlfa2V5X2V4aXN0cygnRklMRScsICRfU0VTU0lPTikgKXsKCQkJcmV0dXJuIHRydWU7CgkJfQoJCXVuc2V0KCAkX1NFU1NJT05bJ0ZJTEUnXVska2V5XSApOwoJCXJldHVybgl0cnVlOwoJfQoJLyoqCgkgKiDjgrvjg4Pjgrfjg6fjg7Pjgavkv53lrZjjgZXjgozjgZ/jg5XjgqHjgqTjg6vjgpLlhajjgabliYrpmaTjgZnjgovjgIIKCSAqCgkgKiBAcmV0dXJuIGJvb2wg5bi444GrIGB0cnVlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGRlbGV0ZV91cGxvYWRmaWxlX2FsbCgpewoJCXJldHVybgkkdGhpcy0+ZGVsZXRlX3Nlc3Npb24oICdGSUxFJyApOwoJfQoKCgkvLyAtLS0tLSB1dGlscyAtLS0tLQoKCS8qKgoJICogVVNFUl9BR0VOVCDjgpLlj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcmV0dXJuIHN0cmluZyBVU0VSX0FHRU5UCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfdXNlcl9hZ2VudCgpewoJCXJldHVybiBAJHRoaXMtPmNvbmYtPnNlcnZlclsnSFRUUF9VU0VSX0FHRU5UJ107Cgl9Ly9nZXRfdXNlcl9hZ2VudCgpCgoJLyoqCgkgKiAgU1NM6YCa5L+h44GL6Kq/44G544KLCgkgKgoJICogQHJldHVybiBib29sIFNTTOmAmuS/oeOBruWgtOWQiCBgdHJ1ZWDjgIHjgZ3jgozku6XlpJbjga7loLTlkIggYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX3NzbCgpewoJCWlmKCBAJHRoaXMtPmNvbmYtPnNlcnZlclsnSFRUUF9TU0wnXSB8fCBAJHRoaXMtPmNvbmYtPnNlcnZlclsnSFRUUFMnXSApewoJCQkvLyBTU0zpgJrkv6HjgYzmnInlirnjgYvlkKbjgYvliKTmlq0KCQkJcmV0dXJuIHRydWU7CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCgkvKioKCSAqIOOCs+ODnuODs+ODieODqeOCpOODs+OBq+OCiOOCi+Wun+ihjOOBi+eiuuiqjeOBmeOCi+OAggoJICoKCSAqIEByZXR1cm4gYm9vbCDjgrPjg57jg7Pjg4njgYvjgonjga7lrp/ooYzjga7loLTlkIggYHRydWVg44CB44Km44Kn44OW44GL44KJ44Gu5a6f6KGM44Gu5aC05ZCIIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc19jbWQoKXsKCQlpZiggYXJyYXlfa2V5X2V4aXN0cyggJ1JFTU9URV9BRERSJyAsICR0aGlzLT5jb25mLT5zZXJ2ZXIgKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCXJldHVybgl0cnVlOwoJfQoKCgkvLyAtLS0tLSBwcml2YXRlIC0tLS0tCgoJLyoqCgkgKiDlj5fjgZHlj5bjgaPjgZ/jg4bjgq3jgrnjg4jjgpLjgIHmjIflrprjga7mloflrZfjgrvjg4Pjg4jjgavlpInmj5vjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gbWl4ZWQgJHRleHQg44OG44Kt44K544OICgkgKiBAcGFyYW0gc3RyaW5nICRlbmNvZGUg5aSJ5o+b5b6M44Gu5paH5a2X44K744OD44OI44CC55yB55Wl5pmC44CBYG1iX2ludGVybmFsX2VuY29kaW5nKClgIOOBi+OCieWPluW+lwoJICogQHBhcmFtIHN0cmluZyAkZW5jb2RlZnJvbSDlpInmj5vliY3jga7mloflrZfjgrvjg4Pjg4jjgILnnIHnlaXmmYLjgIHoh6rli5XmpJzlh7oKCSAqIEByZXR1cm4gc3RyaW5nIOaWh+Wtl+OCu+ODg+ODiOWkieaPm+W+jOOBruODhuOCreOCueODiAoJICovCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBjb252ZXJ0X2VuY29kaW5nKCAkdGV4dCwgJGVuY29kZSA9IG51bGwsICRlbmNvZGVmcm9tID0gbnVsbCApewoJCWlmKCAhaXNfY2FsbGFibGUoICdtYl9pbnRlcm5hbF9lbmNvZGluZycgKSApeyByZXR1cm4gJHRleHQ7IH0KCQlpZiggIXN0cmxlbiggJGVuY29kZWZyb20gKSApeyAkZW5jb2RlZnJvbSA9IG1iX2ludGVybmFsX2VuY29kaW5nKCkuJyxVVEYtOCxTSklTLXdpbixldWNKUC13aW4sU0pJUyxFVUMtSlAsSklTLEFTQ0lJJzsgfQoJCWlmKCAhc3RybGVuKCAkZW5jb2RlICkgKXsgJGVuY29kZSA9IG1iX2ludGVybmFsX2VuY29kaW5nKCk7IH0KCgkJaWYoIGlzX2FycmF5KCAkdGV4dCApICl7CgkJCSRydG4gPSBhcnJheSgpOwoJCQlpZiggIWNvdW50KCAkdGV4dCApICl7IHJldHVybiAkdGV4dDsgfQoJCQkkVEVYVF9LRVlTID0gYXJyYXlfa2V5cyggJHRleHQgKTsKCQkJZm9yZWFjaCggJFRFWFRfS0VZUyBhcyAkTGluZSApewoJCQkJJEtFWSA9IG1iX2NvbnZlcnRfZW5jb2RpbmcoICRMaW5lICwgJGVuY29kZSAsICRlbmNvZGVmcm9tICk7CgkJCQlpZiggaXNfYXJyYXkoICR0ZXh0WyRMaW5lXSApICl7CgkJCQkJJHJ0blskS0VZXSA9IHNlbGY6OmNvbnZlcnRfZW5jb2RpbmcoICR0ZXh0WyRMaW5lXSAsICRlbmNvZGUgLCAkZW5jb2RlZnJvbSApOwoJCQkJfWVsc2V7CgkJCQkJJHJ0blskS0VZXSA9IEBtYl9jb252ZXJ0X2VuY29kaW5nKCAkdGV4dFskTGluZV0gLCAkZW5jb2RlICwgJGVuY29kZWZyb20gKTsKCQkJCX0KCQkJfQoJCX1lbHNlewoJCQlpZiggIXN0cmxlbiggJHRleHQgKSApeyByZXR1cm4gJHRleHQ7IH0KCQkJJHJ0biA9IEBtYl9jb252ZXJ0X2VuY29kaW5nKCAkdGV4dCAsICRlbmNvZGUgLCAkZW5jb2RlZnJvbSApOwoJCX0KCQlyZXR1cm4gJHJ0bjsKCX0KCgkvKioKCSAqIOOCr+OCqeODvOODiOOBleOCjOOBn+aWh+Wtl+WIl+OBruOCr+OCqeODvOODiOmDqOWIhuOCkuWPluOCiumZpOOBj+OAggoJICoKCSAqIOOBk+OBrumWouaVsOOBr+OAgVBIUOOBriBgc3RyaXBzbGFzaGVzKClgIOOBruODqeODg+ODkeODvOOBp+OBmeOAggoJICog6YWN5YiX44KS5Y+X44GR5Y+W44KL44Go5YaN5biw55qE44Gr5paH5a2X5YiX44KS5aSJ5o+b44GX44Gm6L+U44GX44G+44GZ44CCCgkgKgoJICogQHBhcmFtIG1peGVkICR0ZXh0IOODhuOCreOCueODiAoJICogQHJldHVybiBzdHJpbmcg44Kv44Kp44O844OI44GM5YWD44Gr5oi744GV44KM44Gf44OG44Kt44K544OICgkgKi8KCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIHN0cmlwc2xhc2hlcyggJHRleHQgKXsKCQlpZiggaXNfYXJyYXkoICR0ZXh0ICkgKXsKCQkJLy8g6YWN5YiX44Gq44KJCgkJCWZvcmVhY2goICR0ZXh0IGFzICRrZXk9PiR2YWwgKXsKCQkJCSR0ZXh0WyRrZXldID0gc2VsZjo6c3RyaXBzbGFzaGVzKCAkdmFsICk7CgkJCX0KCQl9ZWxzZWlmKCBpc19zdHJpbmcoICR0ZXh0ICkgKXsKCQkJLy8g5paH5a2X5YiX44Gq44KJCgkJCSR0ZXh0ID0gc3RyaXBzbGFzaGVzKCAkdGV4dCApOwoJCX0KCQlyZXR1cm4JJHRleHQ7Cgl9CgoJLyoqCgkgKiDjgqvjg6zjg7Pjg4jjg4fjgqPjg6zjgq/jg4jjg6rjga7jg5HjgrnjgpLlj5blvpcKCSAqIEByZXR1cm4gc3RyaW5nIOODieOCreODpeODoeODs+ODiOODq+ODvOODiOOBi+OCieOBruODkeOCuSjjgrnjg6njg4Pjgrfjg6XplonjgZgpCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gZ2V0X3BhdGhfY3VycmVudF9kaXIoKXsKCQkvLyAg55Kw5aKD5aSJ5pWw44GL44KJ6Ieq5YuV55qE44Gr5Yik5pat44CCCgkJJHJ0biA9IGRpcm5hbWUoICR0aGlzLT5jb25mLT5zZXJ2ZXJbJ1NDUklQVF9OQU1FJ10gKTsKCQlpZiggIWFycmF5X2tleV9leGlzdHMoICdSRU1PVEVfQUREUicgLCAkdGhpcy0+Y29uZi0+c2VydmVyICkgKXsKCQkJLy8gIENVSeOBi+OCiei1t+WLleOBleOCjOOBn+WgtOWQiAoJCQkvLyAg44OJ44Kt44Ol44Oh44Oz44OI44Or44O844OI44GM5Yik5a6a44Gn44GN44Gq44GE44Gu44Gn44CBCgkJCS8vICDjg4njgq3jg6Xjg6Hjg7Pjg4jjg6vjg7zjg4jnm7TkuIvjgavjgYLjgovjgoLjga7jgajjgZnjgovjgIIKCQkJJHJ0biA9ICcvJzsKCQl9CgkJJHJ0biA9IHN0cl9yZXBsYWNlKCdcXCcsJy8nLCRydG4pOwoJCSRydG4gLj0gKCRydG4hPScvJz8nLyc6JycpOwoJCXJldHVybiAkcnRuOwoJfS8vZ2V0X3BhdGhfY3VycmVudF9kaXIoKQoKfQo/Pg==',
           "login" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiBsb2dpbiBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIGxvZ2luewoJcHJpdmF0ZSAkbWFpbjsKCXByaXZhdGUgJGFwcF9pZCA9ICc8IS0tIGFwcF9pZCAtLT4nOwoKCS8qKgoJICogQ29uc3RydWN0b3IKCSAqLwoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCAkbWFpbiApewoJCSR0aGlzLT5tYWluID0gJG1haW47Cgl9CgoJLyoqCgkgKiDjg63jgrDjgqTjg7PjgZfjgabjgYTjgovjgYvoqr/jgbnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNoZWNrKCl7CgoJCWlmKCAhJHRoaXMtPm1haW4tPmNvbmYoKS0+aXNfbG9naW5fcmVxdWlyZWQoKSApewoJCQkvLyDjg6bjg7zjgrbjg7zjgYzoqK3lrprjgZXjgozjgabjgYTjgarjgZHjgozjgbDjgIHjg63jgrDjgqTjg7Pjga7oqZXkvqHjgpLooYzjgo/jgarjgYTjgIIKCQkJcmV0dXJuIHRydWU7CgkJfQoKCQkkdXNlcnMgPSAoYXJyYXkpICR0aGlzLT5tYWluLT5jb25mKCktPnVzZXJzOwoKCQkkbG9naW5faWQgPSAkdGhpcy0+bWFpbi0+cmVxKCktPmdldF9wYXJhbSgnbG9naW5faWQnKTsKCQkkbG9naW5fcHcgPSAkdGhpcy0+bWFpbi0+cmVxKCktPmdldF9wYXJhbSgnbG9naW5fcHcnKTsKCQkkbG9naW5fdHJ5ID0gJHRoaXMtPm1haW4tPnJlcSgpLT5nZXRfcGFyYW0oJ2xvZ2luX3RyeScpOwoJCWlmKCBzdHJsZW4oICRsb2dpbl90cnkgKSAmJiBzdHJsZW4oJGxvZ2luX2lkKSAmJiBzdHJsZW4oJGxvZ2luX3B3KSApewoJCQkvLyDjg63jgrDjgqTjg7PoqZXkvqEKCQkJaWYoIGFycmF5X2tleV9leGlzdHMoJGxvZ2luX2lkLCAkdXNlcnMpICYmICR1c2Vyc1skbG9naW5faWRdID09IHNoYTEoJGxvZ2luX3B3KSApewoJCQkJJHRoaXMtPm1haW4tPnJlcSgpLT5zZXRfc2Vzc2lvbigkdGhpcy0+YXBwX2lkLidfc2VzX2xvZ2luX2lkJywgJGxvZ2luX2lkKTsKCQkJCSR0aGlzLT5tYWluLT5yZXEoKS0+c2V0X3Nlc3Npb24oJHRoaXMtPmFwcF9pZC4nX3Nlc19sb2dpbl9wdycsIHNoYTEoJGxvZ2luX3B3KSk7CgkJCQloZWFkZXIoJ0xvY2F0aW9uOiA/YT0nLnVybGVuY29kZSgkdGhpcy0+bWFpbi0+cmVxKCktPmdldF9wYXJhbSgnYScpKSk7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoJCX0KCgoJCSRsb2dpbl9pZCA9ICR0aGlzLT5tYWluLT5yZXEoKS0+Z2V0X3Nlc3Npb24oJHRoaXMtPmFwcF9pZC4nX3Nlc19sb2dpbl9pZCcpOwoJCSRsb2dpbl9wd19oYXNoID0gJHRoaXMtPm1haW4tPnJlcSgpLT5nZXRfc2Vzc2lvbigkdGhpcy0+YXBwX2lkLidfc2VzX2xvZ2luX3B3Jyk7CgkJaWYoIHN0cmxlbigkbG9naW5faWQpICYmIHN0cmxlbigkbG9naW5fcHdfaGFzaCkgKXsKCQkJLy8g44Ot44Kw44Kk44Oz5riI44G/44GL6KmV5L6hCgkJCWlmKCBhcnJheV9rZXlfZXhpc3RzKCRsb2dpbl9pZCwgJHVzZXJzKSAmJiAkdXNlcnNbJGxvZ2luX2lkXSA9PSAkbG9naW5fcHdfaGFzaCApewoJCQkJcmV0dXJuIHRydWU7CgkJCX0KCQkJJHRoaXMtPm1haW4tPnJlcSgpLT5kZWxldGVfc2Vzc2lvbigkdGhpcy0+YXBwX2lkLidfc2VzX2xvZ2luX2lkJyk7CgkJCSR0aGlzLT5tYWluLT5yZXEoKS0+ZGVsZXRlX3Nlc3Npb24oJHRoaXMtPmFwcF9pZC4nX3Nlc19sb2dpbl9wdycpOwoJCQkkdGhpcy0+bWFpbi0+Zm9yYmlkZGVuKCk7CgkJCWV4aXQ7CgkJfQoKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJLyoqCgkgKiDjg63jgrDjgqTjg7PnlLvpnaLjgpLooajnpLrjgZfjgabntYLkuobjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHBsZWFzZV9sb2dpbigpewoJCWhlYWRlcignQ29udGVudC10eXBlOiB0ZXh0L2h0bWwnKTsKCQlvYl9zdGFydCgpOwoJCT8+CjwhZG9jdHlwZSBodG1sPgo8aHRtbD4KCTxoZWFkPgoJCTxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPgoJCTx0aXRsZT5yZW5jb248L3RpdGxlPgoJCTxtZXRhIG5hbWU9InJvYm90cyIgY29udGVudD0ibm9mb2xsb3csIG5vaW5kZXgsIG5vYXJjaGl2ZSIgLz4KCQk8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ij9yZXM9Ym9vdHN0cmFwNC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiIC8+CgkJPHNjcmlwdCBzcmM9Ij9yZXM9Ym9vdHN0cmFwNC9qcy9ib290c3RyYXAubWluLmpzIj48L3NjcmlwdD4KCQk8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ij9yZXM9c3R5bGVzL2NvbW1vbi5jc3MiIC8+Cgk8L2hlYWQ+Cgk8Ym9keT4KCQk8ZGl2IGNsYXNzPSJjb250YWluZXIiPgoJCQk8aDE+cmVuY29uPC9oMT4KCQkJPD9waHAgaWYoIHN0cmxlbigkdGhpcy0+bWFpbi0+cmVxKCktPmdldF9wYXJhbSgnbG9naW5fdHJ5JykpICl7ID8+CgkJCQk8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC1kYW5nZXIiIHJvbGU9ImFsZXJ0Ij4KCQkJCQk8ZGl2PklE44G+44Gf44Gv44OR44K544Ov44O844OJ44GM6YGV44GE44G+44GZ44CCPC9kaXY+CgkJCQk8L2Rpdj4KCQkJPD9waHAgfSA/PgoKCQkJPGZvcm0gYWN0aW9uPSI/IiBtZXRob2Q9InBvc3QiPgpJRDogPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImxvZ2luX2lkIiB2YWx1ZT0iIiBjbGFzcz0iZm9ybS1lbGVtZW50IiAvPgpQVzogPGlucHV0IHR5cGU9InBhc3N3b3JkIiBuYW1lPSJsb2dpbl9wdyIgdmFsdWU9IiIgY2xhc3M9ImZvcm0tZWxlbWVudCIgLz4KPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IkxvZ2luIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiAvPgo8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJsb2dpbl90cnkiIHZhbHVlPSIxIiAvPgo8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhIiB2YWx1ZT0iPD89IGh0bWxzcGVjaWFsY2hhcnMoJHRoaXMtPm1haW4tPnJlcSgpLT5nZXRfcGFyYW0oJ2EnKSkgPz4iIC8+CgkJCTwvZm9ybT4KCQk8L2Rpdj4KCTwvYm9keT4KPC9odG1sPgo8P3BocAoJCSRydG4gPSBvYl9nZXRfY2xlYW4oKTsKCQlwcmludCAkcnRuOwoJCWV4aXQ7Cgl9CgoJLyoqCgkgKiDjg63jgrDjgqLjgqbjg4jjgZfjgabntYLkuobjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGxvZ291dCgpewoJCSR0aGlzLT5tYWluLT5yZXEoKS0+ZGVsZXRlX3Nlc3Npb24oJHRoaXMtPmFwcF9pZC4nX3Nlc19sb2dpbl9pZCcpOwoJCSR0aGlzLT5tYWluLT5yZXEoKS0+ZGVsZXRlX3Nlc3Npb24oJHRoaXMtPmFwcF9pZC4nX3Nlc19sb2dpbl9wdycpOwoKCQloZWFkZXIoJ0NvbnRlbnQtdHlwZTogdGV4dC9odG1sJyk7CgkJb2Jfc3RhcnQoKTsKCQk/Pgo8IWRvY3R5cGUgaHRtbD4KPGh0bWw+Cgk8aGVhZD4KCQk8bWV0YSBjaGFyc2V0PSJVVEYtOCIgLz4KCQk8dGl0bGU+cmVuY29uPC90aXRsZT4KCQk8bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQ9Im5vZm9sbG93LCBub2luZGV4LCBub2FyY2hpdmUiIC8+CgkJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSI/cmVzPWJvb3RzdHJhcDQvY3NzL2Jvb3RzdHJhcC5taW4uY3NzIiAvPgoJCTxzY3JpcHQgc3JjPSI/cmVzPWJvb3RzdHJhcDQvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CgkJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSI/cmVzPXN0eWxlcy9jb21tb24uY3NzIiAvPgoJPC9oZWFkPgoJPGJvZHk+CgkJPGRpdiBjbGFzcz0iY29udGFpbmVyIj4KCQkJPGgxPnJlbmNvbjwvaDE+CgkJCTxwPkxvZ2dlZCBvdXQuPC9wPgoJCQk8cD48YSBocmVmPSI/Ij5CYWNrIHRvIEhvbWU8L2E+PC9wPgoJCTwvZGl2PgoJPC9ib2R5Pgo8L2h0bWw+Cjw/cGhwCgkJJHJ0biA9IG9iX2dldF9jbGVhbigpOwoJCXByaW50ICRydG47CgkJZXhpdDsKCX0KCn0KPz4=',
           "resources" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiByZXNvdXJjZU1nciBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIHJlc291cmNlc3sKCXByaXZhdGUgJG1haW47CgoJLyoqCgkgKiBDb25zdHJ1Y3RvcgoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoICRtYWluICl7CgkJJHRoaXMtPm1haW4gPSAkbWFpbjsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZWNob19yZXNvdXJjZSggJHBhdGggKXsKCQkkZXh0ID0gbnVsbDsKCQlpZiggcHJlZ19tYXRjaCgnL1wuKFthLXpBLVowLTlcX1wtXSopJC8nLCAkcGF0aCwgJG1hdGNoZWQpICl7CgkJCSRleHQgPSAkbWF0Y2hlZFsxXTsKCQkJJGV4dCA9IHN0cnRvbG93ZXIoJGV4dCk7CgkJCSRtaW1lID0gJHRoaXMtPmdldF9taW1lX3R5cGUoJGV4dCk7CgkJCWlmKCAhJG1pbWUgKXsgJG1pbWUgPSAndGV4dC9odG1sJzsgfQoJCQloZWFkZXIoJ0NvbnRlbnQtdHlwZTogJy4kbWltZSk7CgkJfQoJCWVjaG8gJHRoaXMtPmdldCgkcGF0aCk7CgkJZXhpdDsKCX0KCgkvKioKCSAqIOODquOCveODvOOCueOCkuWPluW+lwoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0KCAkcGF0aCApewoJCSRwYXRoID0gcHJlZ19yZXBsYWNlKCAnLyQoPzpcLyp8XC5cLj9cLykqLycsICcnLCAkcGF0aCApOwoKCQkkcmVzb3VyY2VzID0gYXJyYXkoCgovKiBmdW5jdGlvbiByZXNvdXJjZSgpICovCgoJCSk7CgoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cygkcGF0aCwgJHJlc291cmNlcykgKXsgcmV0dXJuIGZhbHNlOyB9CgkJcmV0dXJuIGJhc2U2NF9kZWNvZGUoJHJlc291cmNlc1skcGF0aF0pOwoJfQoKCS8qKgoJICog5ouh5by15a2Q44GL44KJIG1pbWUtdHlwZSDjgpLlvpfjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9taW1lX3R5cGUoJGV4dCl7CgkJc3dpdGNoKCAkZXh0ICl7CgkJCWNhc2UgJ2h0bWwnOgoJCQljYXNlICdodG0nOgoJCQkJcmV0dXJuICd0ZXh0L2h0bWwnOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ2pzJzoKCQkJCXJldHVybiAndGV4dC9qYXZhc2NyaXB0JzsKCQkJCWJyZWFrOwoJCQljYXNlICdjc3MnOgoJCQljYXNlICdzY3NzJzoKCQkJCXJldHVybiAndGV4dC9jc3MnOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ2dpZic6CgkJCQlyZXR1cm4gJ2ltYWdlL2dpZic7CgkJCQlicmVhazsKCQkJY2FzZSAncG5nJzoKCQkJCXJldHVybiAnaW1hZ2UvcG5nJzsKCQkJCWJyZWFrOwoJCQljYXNlICdqcGcnOgoJCQljYXNlICdqcGVnJzoKCQkJY2FzZSAnanBlJzoKCQkJCXJldHVybiAnaW1hZ2UvanBlZyc7CgkJCQlicmVhazsKCQkJY2FzZSAnc3ZnJzoKCQkJCXJldHVybiAnaW1hZ2Uvc3ZnK3htbCAnOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ3RleHQnOgoJCQljYXNlICd0eHQnOgoJCQljYXNlICdsb2cnOgoJCQljYXNlICdzaCc6CgkJCWNhc2UgJ2JhdCc6CgkJCWNhc2UgJ3BocCc6CgkJCWNhc2UgJ2pzb24nOgoJCQljYXNlICd5bWwnOgoJCQljYXNlICd5bWwnOgoJCQljYXNlICdodGFjY2Vzcyc6CgkJCQlyZXR1cm4gJ3RleHQvcGxhaW4nOwoJCQkJYnJlYWs7CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCn0KPz4=',
           "theme" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiB0aGVtZSBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIHRoZW1lewoJcHJpdmF0ZSAkbWFpbjsKCXByaXZhdGUgJGFwcF9pbmZvOwoJcHJpdmF0ZSAkY3VycmVudF9wYWdlX2luZm87CgoJLyoqCgkgKiBDb25zdHJ1Y3RvcgoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoICRtYWluLCAkYXBwX2luZm8sICRjdXJyZW50X3BhZ2VfaW5mbyApewoJCSR0aGlzLT5tYWluID0gJG1haW47CgkJJHRoaXMtPmFwcF9pbmZvID0gKG9iamVjdCkgJGFwcF9pbmZvOwoJCSR0aGlzLT5jdXJyZW50X3BhZ2VfaW5mbyA9IChvYmplY3QpICRjdXJyZW50X3BhZ2VfaW5mbzsKCX0KCgkvKioKCSAqIOOCouODl+ODquOCseODvOOCt+ODp+ODs+aDheWgseOCkuWPluW+lwoJICovCglwdWJsaWMgZnVuY3Rpb24gYXBwX2luZm8oKXsKCQlyZXR1cm4gJHRoaXMtPmFwcF9pbmZvOwoJfQoKCS8qKgoJICog44Oa44O844K45oOF5aCx44KS5Y+W5b6XCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfY3VycmVudF9wYWdlX2luZm8oKXsKCQlyZXR1cm4gJHRoaXMtPmN1cnJlbnRfcGFnZV9pbmZvOwoJfQoKCS8qKgoJICog44OG44O844Oe44Gr44Kz44Oz44OG44Oz44OE44KS5YyF44KT44Gn6L+U44GZCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBiaW5kKCAkY29udGVudCApewoJCSRhY3Rpb25fYXJ5ID0gZXhwbG9kZSgnLicsICR0aGlzLT5tYWluLT5yZXEoKS0+Z2V0X3BhcmFtKCdhJykpOwoJCWlmKCAhaXNfYXJyYXkoJGFjdGlvbl9hcnkpIHx8ICFjb3VudCgkYWN0aW9uX2FyeSkgKXsKCQkJJGFjdGlvbl9hcnlbMF0gPSAnJzsKCQl9CgkJJGNsYXNzX2FjdGl2ZVsnYWN0aXZlJ10gPSAkYWN0aW9uX2FyeVswXTsKCQlvYl9zdGFydCgpOwoJCT8+LyogdGhlbWUgdGVtcGxhdGUgKi88P3BocAoJCSRydG4gPSBvYl9nZXRfY2xlYW4oKTsKCQlyZXR1cm4gJHJ0bjsKCX0KfQo/Pg==',
       );
       return base64_decode($files[$className]);
   }
}
