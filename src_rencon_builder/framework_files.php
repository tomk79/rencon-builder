<?php
namespace tomk79\renconBuilder;

class framework_files {
   public function get( $className ) {
       $files = array(
           "rencon" => 'PD9waHAKLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIDwhLS0gYXBwX25hbWUgLS0+IHY8IS0tIHZlcnNpb24gLS0+CgotLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KCm5hbWVzcGFjZSByZW5jb25GcmFtZXdvcms7CgovLyA9LT0tPS09LT0tPS09LT0tPS09LT0tPSBDb25maWd1cmF0aW9uIFNUQVJUID0tPS09LT0tPS09LT0tPS09LT0tPS09CgovKi0tIGNvbmZpZyAtLSovCgovLyA9LT0tPS09LT0tPS09LT0tPS09LT0tPSAvIENvbmZpZ3VyYXRpb24gRU5EID0tPS09LT0tPS09LT0tPS09LT0tPS09CgoKaWYoICFpc3NldCgkY29uZikgKXsKCSRjb25mID0gbmV3IFxzdGRDbGFzcygpOwp9CiRjb25mID0gKG9iamVjdCkgJGNvbmY7CiRyZW5jb24gPSBuZXcgcmVuY29uKCAkY29uZiApOwokcmVuY29uLT5ydW4oKTsKZXhpdCgpOwoKY2xhc3MgcmVuY29uIHsKCglwcml2YXRlICRjb25mOwoJcHJpdmF0ZSAkbGFuZzsKCXByaXZhdGUgJGZzOwoJcHJpdmF0ZSAkcmVxOwoJcHJpdmF0ZSAkbG9nZ2VyOwoJcHJpdmF0ZSAkdXNlcjsKCXByaXZhdGUgJGF1dGg7Cglwcml2YXRlICR0aGVtZTsKCXByaXZhdGUgJHJlc291cmNlczsKCgkvKioKCSAqIOWLleeahOOBq+i/veWKoOOBleOCjOOBn+ODl+ODreODkeODhuOCowoJICoKCSAqIEBhY2Nlc3MgcHJpdmF0ZQoJICovCglwcml2YXRlICRjdXN0b21fZHluYW1pY19wcm9wZXJ0eSA9IGFycmF5KCk7CgoJcHJpdmF0ZSAkYXBwX2lkID0gJzwhLS0gYXBwX2lkIC0tPic7Cglwcml2YXRlICRhcHBfbmFtZSA9ICc8IS0tIGFwcF9uYW1lIC0tPic7CgoJcHJpdmF0ZSAkcm91dGU7Cglwcml2YXRlICRhcGlfcm91dGU7Cglwcml2YXRlICRyb3V0ZV9wYXJhbXM7CgoJcHJpdmF0ZSAkcm91dGluZ19tZXRob2QgPSAnd2ViJzsKCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoICRjb25mICl7CgkJJHRoaXMtPmZzID0gbmV3IGZpbGVzeXN0ZW0oKTsKCQkkdGhpcy0+cmVxID0gbmV3IHJlcXVlc3QoKTsKCQkkdGhpcy0+Y29uZiA9IG5ldyBjb25mKCR0aGlzLCAkY29uZik7CgkJJHRoaXMtPmxhbmcgPSBuZXcgbGFuZygkdGhpcyk7CgkJJHRoaXMtPmxvZ2dlciA9IG5ldyBsb2dnZXIoJHRoaXMpOwoJCSR0aGlzLT51c2VyID0gbmV3IHVzZXIoJHRoaXMpOwoJCSR0aGlzLT5yZXNvdXJjZXMgPSBuZXcgcmVzb3VyY2VzKCR0aGlzKTsKCX0KCgkvKioKCSAqIOWLleeahOOBquODl+ODreODkeODhuOCo+OCkueZu+mMsuOBmeOCiwoJICovCglwdWJsaWMgZnVuY3Rpb24gX19zZXQoICRuYW1lLCAkcHJvcGVydHkgKXsKCQlpZiggaXNzZXQoJHRoaXMtPmN1c3RvbV9keW5hbWljX3Byb3BlcnR5WyRuYW1lXSkgKXsKCQkJdHJpZ2dlcl9lcnJvcignJHJlbmNvbi0+Jy4kbmFtZS4nIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4nKTsKCQkJcmV0dXJuOwoJCX0KCQkkdGhpcy0+Y3VzdG9tX2R5bmFtaWNfcHJvcGVydHlbJG5hbWVdID0gJHByb3BlcnR5OwoJCXJldHVybjsKCX0KCgkvKioKCSAqIOWLleeahOOBq+i/veWKoOOBleOCjOOBn+ODl+ODreODkeODhuOCo+OCkuWPluOCiuWHuuOBmQoJICovCglwdWJsaWMgZnVuY3Rpb24gX19nZXQoICRuYW1lICl7CgkJcmV0dXJuICR0aGlzLT5jdXN0b21fZHluYW1pY19wcm9wZXJ0eVskbmFtZV0gPz8gbnVsbDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gY29uZigpeyByZXR1cm4gJHRoaXMtPmNvbmY7IH0KCXB1YmxpYyBmdW5jdGlvbiBsYW5nKCl7IHJldHVybiAkdGhpcy0+bGFuZzsgfQoJcHVibGljIGZ1bmN0aW9uIGZzKCl7IHJldHVybiAkdGhpcy0+ZnM7IH0KCXB1YmxpYyBmdW5jdGlvbiByZXEoKXsgcmV0dXJuICR0aGlzLT5yZXE7IH0KCXB1YmxpYyBmdW5jdGlvbiBsb2dnZXIoKXsgcmV0dXJuICR0aGlzLT5sb2dnZXI7IH0KCXB1YmxpYyBmdW5jdGlvbiBhdXRoKCl7IHJldHVybiAkdGhpcy0+YXV0aDsgfQoJcHVibGljIGZ1bmN0aW9uIHVzZXIoKXsgcmV0dXJuICR0aGlzLT51c2VyOyB9CglwdWJsaWMgZnVuY3Rpb24gdGhlbWUoKXsgcmV0dXJuICR0aGlzLT50aGVtZTsgfQoJcHVibGljIGZ1bmN0aW9uIHJlc291cmNlcygpeyByZXR1cm4gJHRoaXMtPnJlc291cmNlczsgfQoKCXB1YmxpYyBmdW5jdGlvbiBhcHBfaWQoKXsgcmV0dXJuICR0aGlzLT5hcHBfaWQ7IH0KCXB1YmxpYyBmdW5jdGlvbiBhcHBfbmFtZSgpeyByZXR1cm4gJHRoaXMtPmFwcF9uYW1lOyB9CgoJcHVibGljIGZ1bmN0aW9uIHJ1bigpewoJCWhlYWRlcignQ29udGVudC10eXBlOiB0ZXh0L2h0bWwnKTsgLy8gZGVmYXVsdAoKCQkvLyDkvovlpJbjg4/jg7Pjg4njg6njgpLoqK3lrprjgZnjgosKCQlzZXRfZXhjZXB0aW9uX2hhbmRsZXIoZnVuY3Rpb24oXFRocm93YWJsZSAkZXhjZXB0aW9uKSB7CgkJCSRkYXRlc3RyID0gZGF0ZSgnYycpOwoJCQkkcmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpciA9ICR0aGlzLT5jb25mKCktPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIgPz8gbnVsbDsKCQkJZWNobyAiVW5jYXVnaHQgZXhjZXB0aW9uOiAiLCAkZXhjZXB0aW9uLT5nZXRNZXNzYWdlKCksICJcbiI7CgkJCWlmKCBzdHJsZW4oJHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIgPz8gJycpICYmIGlzX2RpcigkcmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpcikgKXsKCQkJCWlmKCAhZmlsZV9leGlzdHMoJHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIuJy9sb2dzLycpICl7CgkJCQkJbWtkaXIoJHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIuJy9sb2dzLycpOwoJCQkJfQoJCQkJaWYoICFpc19maWxlKCRyZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyLicvbG9ncy9lcnJvcl9yZXBvcnQubG9nLnBocCcpICl7CgkJCQkJZXJyb3JfbG9nKAoJCQkJCQknPCcuJz9waHAgaGVhZGVyKFwnSFRUUC8xLjEgNDA0IE5vdCBGb3VuZFwnKTsgZWNobyhcJzQwNCBOb3QgRm91bmRcJyk7ZXhpdCgpOyA/Jy4nPicuIlxuIiwKCQkJCQkJMywKCQkJCQkJJHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIuJy9sb2dzL2Vycm9yX3JlcG9ydC5sb2cucGhwJwoJCQkJCSk7CgkJCQl9CgkJCQllcnJvcl9sb2coCgkJCQkJJGRhdGVzdHIuIiAtIFVuY2F1Z2h0IGV4Y2VwdGlvbjogIi4kZXhjZXB0aW9uLT5nZXRNZXNzYWdlKCkuJyBvbiAnLiRleGNlcHRpb24tPmdldEZpbGUoKS4nIGxpbmU6Jy4kZXhjZXB0aW9uLT5nZXRMaW5lKCkuIlxuIiwKCQkJCQkzLAoJCQkJCSRyZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyLicvbG9ncy9lcnJvcl9yZXBvcnQubG9nLnBocCcKCQkJCSk7CgkJCX0KCQl9KTsKCgkJLy8g44Ko44Op44O844OP44Oz44OJ44Op44KS6Kit5a6a44GZ44KLCgkJc2V0X2Vycm9yX2hhbmRsZXIoZnVuY3Rpb24oJGVycm5vLCAkZXJyc3RyLCAkZXJyZmlsZSwgJGVycmxpbmUpIHsKCQkJJGRhdGVzdHIgPSBkYXRlKCdjJyk7CgkJCSRyZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyID0gJHRoaXMtPmNvbmYoKS0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpciA/PyBudWxsOwoJCQlpZiggc3RybGVuKCRyZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyID8/ICcnKSAmJiBpc19kaXIoJHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIpICl7CgkJCQlpZiggIWZpbGVfZXhpc3RzKCRyZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyLicvbG9ncy8nKSApewoJCQkJCW1rZGlyKCRyZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyLicvbG9ncy8nKTsKCQkJCX0KCQkJCWlmKCAhaXNfZmlsZSgkcmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2Rpci4nL2xvZ3MvZXJyb3JfcmVwb3J0LmxvZy5waHAnKSApewoJCQkJCWVycm9yX2xvZygKCQkJCQkJJzwnLic/cGhwIGhlYWRlcihcJ0hUVFAvMS4xIDQwNCBOb3QgRm91bmRcJyk7IGVjaG8oXCc0MDQgTm90IEZvdW5kXCcpO2V4aXQoKTsgPycuJz4nLiJcbiIsCgkJCQkJCTMsCgkJCQkJCSRyZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyLicvbG9ncy9lcnJvcl9yZXBvcnQubG9nLnBocCcKCQkJCQkpOwoJCQkJfQoJCQkJZXJyb3JfbG9nKAoJCQkJCSRkYXRlc3RyLicgLSBFcnJvclsnLiRlcnJuby4nXTogJy4kZXJyc3RyLicgb24gJy4kZXJyZmlsZS4nIGxpbmU6Jy4kZXJybGluZS4iXG4iLAoJCQkJCTMsCgkJCQkJJHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIuJy9sb2dzL2Vycm9yX3JlcG9ydC5sb2cucGhwJwoJCQkJKTsKCQkJfQoKCQkJcmV0dXJuIGZhbHNlOwoJCX0pOwoKCQkvLyByb3V0aW5nCgkJJHRoaXMtPnJvdXRlID0gYXJyYXkoCi8qIHJvdXRlcjpyb3V0ZSAqLwoJCSk7CgoJCSR0aGlzLT5hcGlfcm91dGUgPSBhcnJheSgKLyogcm91dGVyOmFwaSAqLwoJCSk7CgoJCSRtaWRkbGV3YXJlID0gYXJyYXkoLyogbWlkZGxld2FyZSAqLyk7CgoJCSRhY3Rpb24gPSAkdGhpcy0+cmVxLT5nZXRfcGFyYW0oJ2EnKSA/PyAnJzsKCQkkYXBpX2FjdGlvbiA9ICR0aGlzLT5yZXEtPmdldF9wYXJhbSgnYXBpJykgPz8gJyc7CgkJJHJlc291cmNlID0gJHRoaXMtPnJlcS0+Z2V0X3BhcmFtKCdyZXMnKSA/PyBudWxsOwoJCSRjb250cm9sbGVyID0gbnVsbDsKCQkkYXBwX2luZm8gPSBhcnJheSgKCQkJJ2lkJyA9PiAkdGhpcy0+YXBwX2lkLAoJCQknbmFtZScgPT4gJHRoaXMtPmFwcF9uYW1lLAoJCQkncGFnZXMnID0+ICR0aGlzLT5yb3V0ZSwKCQkpOwoJCSRwYWdlX2luZm8gPSBhcnJheSgKCQkJJ2lkJyA9PiAkYWN0aW9uLAoJCQkndGl0bGUnID0+ICdIb21lJywKCQkpOwoJCSR0aGlzLT50aGVtZSA9IG5ldyB0aGVtZSggJHRoaXMsICRhcHBfaW5mbywgJHBhZ2VfaW5mbyApOwoJCSR0aGlzLT5hdXRoID0gbmV3IGF1dGgoICR0aGlzLCAkYXBwX2luZm8gKTsKCgoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJLy8g44Or44O844OG44Kj44Oz44Kw44Gu5pa55rOV44KS5rG644KB44KLCgkJJHRoaXMtPnJvdXRpbmdfbWV0aG9kID0gJ3dlYic7CgkJaWYoIHN0cmxlbigkcmVzb3VyY2UgPz8gJycpICl7CgkJCSR0aGlzLT5yb3V0aW5nX21ldGhvZCA9ICdyZXNvdXJjZSc7CgkJfWVsc2VpZiggIXN0cmxlbigkYWN0aW9uID8/ICcnKSAmJiBzdHJsZW4oJGFwaV9hY3Rpb24gPz8gJycpICl7CgkJCSR0aGlzLT5yb3V0aW5nX21ldGhvZCA9ICdhcGknOwoJCX0KCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkvLyDjg6rjgr3jg7zjgrnjgbjjga7jg6rjgq/jgqjjgrnjg4jjgpLlh6bnkIYKCQlpZiggJHRoaXMtPnJvdXRpbmdfbWV0aG9kID09ICdyZXNvdXJjZScgKXsKCQkJJHRoaXMtPnJlc291cmNlcy0+ZWNob19yZXNvdXJjZSggJHJlc291cmNlICk7CgkJCWV4aXQoKTsKCgkJfQoKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCS8vIOWIneacn+WMluWHpueQhgoJCSRpbml0aWFsaXplciA9IG5ldyBpbml0aWFsaXplciggJHRoaXMgKTsKCQkkaW5pdGlhbGl6ZXItPmluaXRpYWxpemUoKTsKCgoJCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkJLy8g6KqN6Ki85Yem55CGCgkJaWYoICR0aGlzLT5yb3V0aW5nX21ldGhvZCA9PSAnd2ViJyApewoJCQlpZiggJGFjdGlvbiA9PSAnbG9nb3V0JyApewoJCQkJJHRoaXMtPmF1dGgoKS0+bG9nb3V0KCk7CgkJCQlleGl0OwoJCQl9CgoJCQkkdGhpcy0+YXV0aCgpLT5hdXRoKCk7CgoJCQlpZiggJGFjdGlvbiA9PSAnbG9nb3V0JyB8fCAkYWN0aW9uID09ICdsb2dpbicgKXsKCQkJCSR0aGlzLT5yZXEoKS0+c2V0X3BhcmFtKCdhJywgJycpOwoJCQl9CgoJCX1lbHNlaWYoICR0aGlzLT5yb3V0aW5nX21ldGhvZCA9PSAnYXBpJyApewoJCQkkcmVxdWVzdF9oZWFkZXIgPSAkdGhpcy0+cmVxKCktPmdldF9oZWFkZXJzKCk7CgkJCSRyZXF1ZXN0X2FwaV9rZXkgPSBudWxsOwoJCQlmb3JlYWNoKCRyZXF1ZXN0X2hlYWRlciBhcyAka2V5PT4kdmFsKXsKCQkJCSRrZXkgPSBzdHJ0b2xvd2VyKCRrZXkpOwoJCQkJaWYoICRrZXkgPT0gJ3gtYXBpLWtleScgKXsKCQkJCQkkcmVxdWVzdF9hcGlfa2V5ID0gJHZhbDsKCQkJCQlicmVhazsKCQkJCX0KCQkJfQoKCQkJaWYoICEkdGhpcy0+YXV0aCgpLT5pc192YWxpZF9hcGlfa2V5KCAkcmVxdWVzdF9hcGlfa2V5ICkgKXsKCQkJCSR0aGlzLT5mb3JiaWRkZW4oKTsKCQkJCWV4aXQ7CgkJCX0KCQl9CgoKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCS8vIG1pZGRsZXdhcmUKCQlmb3JlYWNoKCAkbWlkZGxld2FyZSBhcyAkbWV0aG9kICl7CgkJCWxpc3QoICRjbGFzc05hbWUsICRmdW5jTmFtZSApID0gZXhwbG9kZSgnOjonLCAkbWV0aG9kKTsKCQkJJHRtcF9vYmogPSBuZXcgJGNsYXNzTmFtZSgpOwoJCQljYWxsX3VzZXJfZnVuYyggYXJyYXkoJHRtcF9vYmosICRmdW5jTmFtZSksICR0aGlzICk7CgkJfQoKCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkvLyDjgrPjg7Pjg4bjg7Pjg4TjgpLlh6bnkIYKCQkkY29udHJvbGxlciA9ICR0aGlzLT5yb3V0aW5nKCAkYWN0aW9uLCAkdGhpcy0+cm91dGUgKTsKCQlpZiggJHRoaXMtPnJvdXRpbmdfbWV0aG9kID09ICdhcGknICl7CgkJCWhlYWRlcigiQ29udGVudC10eXBlOiB0ZXh0L2pzb24iKTsKCQkJJGNvbnRyb2xsZXIgPSAkdGhpcy0+cm91dGluZyggJGFwaV9hY3Rpb24sICR0aGlzLT5hcGlfcm91dGUgKTsKCQl9CgkJaWYoICRjb250cm9sbGVyICl7CgoJCQkvLyBtZXRob2Qg44KS5qSc5p+744GZ44KLCgkJCSRhbGxvd19tZXRob2RzID0gYXJyYXkoImdldCIpOwoJCQlpZihpc19zdHJpbmcoJGNvbnRyb2xsZXItPmFsbG93X21ldGhvZHMgPz8gbnVsbCkpewoJCQkJJGFsbG93X21ldGhvZHMgPSBhcnJheShzdHJ0b2xvd2VyKCRjb250cm9sbGVyLT5hbGxvd19tZXRob2RzKSk7CgkJCX1lbHNlaWYoaXNfYXJyYXkoJGNvbnRyb2xsZXItPmFsbG93X21ldGhvZHMgPz8gbnVsbCkpewoJCQkJJGFsbG93X21ldGhvZHMgPSBhcnJheSgpOwoJCQkJZm9yZWFjaCgkY29udHJvbGxlci0+YWxsb3dfbWV0aG9kcyBhcyAkbWV0aG9kKXsKCQkJCQlhcnJheV9wdXNoKCRhbGxvd19tZXRob2RzLCBzdHJ0b2xvd2VyKCRtZXRob2QpKTsKCQkJCX0KCQkJfQoKCQkJaWYoIGFycmF5X3NlYXJjaCggJHRoaXMtPnJlcS0+Z2V0X21ldGhvZCgpLCAkYWxsb3dfbWV0aG9kcyApID09PSBmYWxzZSApewoJCQkJJHRoaXMtPm1ldGhvZF9ub3RfYWxsb3dlZCgpOwoJCQkJZXhpdCgpOwoJCQl9CgoJCQkkdGhpcy0+cm91dGVfcGFyYW1zID0gJGNvbnRyb2xsZXItPnBhcmFtcyA/PyBudWxsOwoJCQlpZiggJHRoaXMtPnJvdXRpbmdfbWV0aG9kID09ICd3ZWInICl7CgkJCQkkcGFnZV9pbmZvWyd0aXRsZSddID0gJGNvbnRyb2xsZXItPnRpdGxlID8/IG51bGw7CgkJCQkkdGhpcy0+dGhlbWUoKS0+c2V0X2N1cnJlbnRfcGFnZV9pbmZvKCAkcGFnZV9pbmZvICk7CgoJCQkJb2Jfc3RhcnQoKTsKCQkJCWNhbGxfdXNlcl9mdW5jKCAkY29udHJvbGxlci0+cGFnZSwgJHRoaXMgKTsKCQkJCSRjb250ZW50ID0gb2JfZ2V0X2NsZWFuKCk7CgoJCQkJJGh0bWwgPSAkdGhpcy0+dGhlbWUoKS0+YmluZCggJGNvbnRlbnQgKTsKCQkJCWVjaG8gJGh0bWw7CgoJCQl9ZWxzZWlmKCAkdGhpcy0+cm91dGluZ19tZXRob2QgPT0gJ2FwaScgKXsKCQkJCW9iX3N0YXJ0KCk7CgkJCQkkY29udGVudCA9IGNhbGxfdXNlcl9mdW5jKCAkY29udHJvbGxlci0+cGFnZSwgJHRoaXMgKTsKCQkJCSRzdGRvdXQgPSBvYl9nZXRfY2xlYW4oKTsKCgkJCQllY2hvIGpzb25fZW5jb2RlKCRjb250ZW50KTsKCQkJfQoKCQl9ZWxzZXsKCQkJJHRoaXMtPm5vdGZvdW5kKCk7CgkJfQoJCWV4aXQoKTsKCX0KCgkvKioKCSAqIOODq+ODvOODhuOCo+ODs+OCsOWHpueQhgoJICovCglwcml2YXRlIGZ1bmN0aW9uIHJvdXRpbmcoICRhY3Rpb24sICRyb3V0ZSApewoJCSRhY3Rpb24gPSAoc3RyaW5nKSAkYWN0aW9uOwoKCQkvLyDpnZnnmoTlm7rlrprjg6vjg7zjg4gKCQlpZiggIXByZWdfbWF0Y2goJy9ceyhbYS16QS1aXVthLXpBLVowLTldKilcP1x9LycsICRhY3Rpb24pICYmIGFycmF5X2tleV9leGlzdHMoICRhY3Rpb24sICRyb3V0ZSApICl7CgkJCSRjb250cm9sbGVyID0gJHJvdXRlWyRhY3Rpb25dOwoJCQlyZXR1cm4gJGNvbnRyb2xsZXI7CgkJfQoKCQkvLyDli5XnmoTjg6vjg7zjg4gKCQlmb3JlYWNoKCAkcm91dGUgYXMgJGFjdGlvbl9rZXkgPT4gJGNvbnRyb2xsZXIgKXsKCQkJJGR5bmFtaWNLZXlzID0gYXJyYXkoKTsKCQkJJGFjdGlvbl9rZXkgPSBwcmVnX3JlcGxhY2UoJy9cLi8nLCAnXFxcXC4nLCAkYWN0aW9uX2tleSk7CgkJCSRhY3Rpb25fcHRuID0gJyc7CgkJCXdoaWxlKDEpewoJCQkJaWYoICFwcmVnX21hdGNoKCcvXiguKj8pXHsoW2EtekEtWl1bYS16QS1aMC05XSopXD9cfSguKikkLycsICRhY3Rpb25fa2V5LCAkbWF0Y2hlZCkgKXsKCQkJCQkkYWN0aW9uX3B0biAuPSAkYWN0aW9uX2tleTsKCQkJCQlicmVhazsKCQkJCX0KCQkJCSRhY3Rpb25fcHRuIC49ICRtYXRjaGVkWzFdOwoJCQkJYXJyYXlfcHVzaCgkZHluYW1pY0tleXMsICRtYXRjaGVkWzJdKTsKCQkJCSRhY3Rpb25fcHRuIC49ICcoW15cLl0qKSc7CgkJCQkkYWN0aW9uX2tleSA9ICRtYXRjaGVkWzNdOwoJCQl9CgkJCWlmKCBwcmVnX21hdGNoKCcvXicuJGFjdGlvbl9wdG4uJyQvJywgJGFjdGlvbiwgJG1hdGNoZWQpICl7CgkJCQkkcm91dGVQYXJhbXMgPSBhcnJheSgpOwoJCQkJZm9yZWFjaCggJGR5bmFtaWNLZXlzIGFzICRpbmRleCA9PiAka2V5ICl7CgkJCQkJJHJvdXRlUGFyYW1zWyRrZXldID0gJG1hdGNoZWRbJGluZGV4ICsgMV07CgkJCQl9CgkJCQkkY29udHJvbGxlci0+cGFyYW1zID0gKG9iamVjdCkgJHJvdXRlUGFyYW1zOwoJCQkJcmV0dXJuICRjb250cm9sbGVyOwoJCQl9CgkJfQoKCQlyZXR1cm4gbnVsbDsKCX0KCgoJLyoqCgkgKiDjg6vjg7zjg4bjgqPjg7PjgrDjg5Hjg6njg6Hjg7zjgr/jgpLjgZnjgbnjgablj5blvpfjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9yb3V0ZV9wYXJhbXMoKXsKCQlyZXR1cm4gJHRoaXMtPnJvdXRlX3BhcmFtczsKCX0KCgkvKioKCSAqIOODq+ODvOODhuOCo+ODs+OCsOODkeODqeODoeODvOOCv+OCkuWPluW+l+OBmeOCiwoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3JvdXRlX3BhcmFtKCAka2V5ICl7CgkJcmV0dXJuICR0aGlzLT5yb3V0ZV9wYXJhbXMtPnska2V5fSA/PyBudWxsOwoJfQoKCgkvKioKCSAqIOODl+ODqeOCsOOCpOODs+WwguacieOBrumdnuWFrOmWi+ODh+ODvOOCv+ODh+OCo+ODrOOCr+ODiOODquOBruWGhemDqOODkeOCueOCkuWPluW+l+OBmeOCiwoJICovCglwdWJsaWMgZnVuY3Rpb24gcmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpciggJGxvY2FscGF0aCA9IG51bGwgKXsKCQkkcmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpciA9IG51bGw7CgkJaWYoIGlzX3N0cmluZyggJHRoaXMtPmNvbmYoKS0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpciA/PyBudWxsICkgKXsKCQkJJHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIgPSAkdGhpcy0+ZnMoKS0+Z2V0X3JlYWxwYXRoKCR0aGlzLT5jb25mKCktPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIuJGxvY2FscGF0aCk7CgkJfQoJCXJldHVybiAkcmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpcjsKCX0KCgoJLyoqCgkgKiBOb3QgRm91bmQg44Oa44O844K444KS6KGo56S644GX44Gm57WC5LqG44GZ44KLCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBub3Rmb3VuZCgpewoJCWhlYWRlcigiSFRUUC8xLjAgNDA0IE5vdCBGb3VuZCIpOwoJCWlmKCAkdGhpcy0+cm91dGluZ19tZXRob2QgPT0gJ3dlYicgKXsKCQkJJHBhZ2VfaW5mb1sndGl0bGUnXSA9ICdOb3QgRm91bmQnOwoJCQkkdGhpcy0+dGhlbWUoKS0+c2V0X2N1cnJlbnRfcGFnZV9pbmZvKCAkcGFnZV9pbmZvICk7CgoJCQkkY29udGVudCA9ICc8cD40MDQ6IE5vdCBGb3VuZDwvcD4nOwoJCQkkaHRtbCA9ICR0aGlzLT50aGVtZSgpLT5iaW5kKCAkY29udGVudCApOwoJCQllY2hvICRodG1sOwoJCX1lbHNlaWYoICR0aGlzLT5yb3V0aW5nX21ldGhvZCA9PSAnYXBpJyApewoJCQloZWFkZXIoIkNvbnRlbnQtdHlwZTogdGV4dC9qc29uIik7CgkJCWVjaG8ganNvbl9lbmNvZGUoYXJyYXkoCgkJCQkicmVzdWx0IiA9PiBmYWxzZSwKCQkJCSJtZXNzYWdlIiA9PiAnTm90IEZvdW5kJywKCQkJKSk7CgkJfQoJCWV4aXQ7Cgl9CgoJLyoqCgkgKiBNZXRob2QgTm90IEFsbG93ZWQg44Oa44O844K444KS6KGo56S644GX44Gm57WC5LqG44GZ44KLCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBtZXRob2Rfbm90X2FsbG93ZWQoKXsKCQloZWFkZXIoIkhUVFAvMS4wIDQwNSBNZXRob2QgTm90IEFsbG93ZWQiKTsKCQlpZiggJHRoaXMtPnJvdXRpbmdfbWV0aG9kID09ICd3ZWInICl7CgkJCSRwYWdlX2luZm9bJ3RpdGxlJ10gPSAnTWV0aG9kIE5vdCBBbGxvd2VkJzsKCQkJJHRoaXMtPnRoZW1lKCktPnNldF9jdXJyZW50X3BhZ2VfaW5mbyggJHBhZ2VfaW5mbyApOwoKCQkJJGNvbnRlbnQgPSAnPHA+NDA1OiBNZXRob2QgTm90IEFsbG93ZWQ8L3A+JzsKCQkJJGh0bWwgPSAkdGhpcy0+dGhlbWUoKS0+YmluZCggJGNvbnRlbnQgKTsKCQkJZWNobyAkaHRtbDsKCQl9ZWxzZWlmKCAkdGhpcy0+cm91dGluZ19tZXRob2QgPT0gJ2FwaScgKXsKCQkJaGVhZGVyKCJDb250ZW50LXR5cGU6IHRleHQvanNvbiIpOwoJCQllY2hvIGpzb25fZW5jb2RlKGFycmF5KAoJCQkJInJlc3VsdCIgPT4gZmFsc2UsCgkJCQkibWVzc2FnZSIgPT4gJ01ldGhvZCBOb3QgQWxsb3dlZCcsCgkJCSkpOwoJCX0KCQlleGl0OwoJfQoKCS8qKgoJICogRm9yYmlkZGVuIOODmuODvOOCuOOCkuihqOekuuOBl+OBpue1guS6huOBmeOCiwoJICovCglwdWJsaWMgZnVuY3Rpb24gZm9yYmlkZGVuKCl7CgkJaGVhZGVyKCJIVFRQLzEuMCA0MDMgRm9yYmlkZGVuIik7CgkJaWYoICR0aGlzLT5yb3V0aW5nX21ldGhvZCA9PSAnd2ViJyApewoJCQkkcGFnZV9pbmZvWyd0aXRsZSddID0gJ0ZvcmJpZGRlbic7CgkJCSR0aGlzLT50aGVtZSgpLT5zZXRfY3VycmVudF9wYWdlX2luZm8oICRwYWdlX2luZm8gKTsKCgkJCSRjb250ZW50ID0gJzxwPjQwMzogRm9yYmlkZGVuPC9wPic7CgkJCSRodG1sID0gJHRoaXMtPnRoZW1lKCktPmJpbmQoICRjb250ZW50ICk7CgkJCWVjaG8gJGh0bWw7CgkJfWVsc2VpZiggJHRoaXMtPnJvdXRpbmdfbWV0aG9kID09ICdhcGknICl7CgkJCWhlYWRlcigiQ29udGVudC10eXBlOiB0ZXh0L2pzb24iKTsKCQkJZWNobyBqc29uX2VuY29kZShhcnJheSgKCQkJCSJyZXN1bHQiID0+IGZhbHNlLAoJCQkJIm1lc3NhZ2UiID0+ICdGb3JiaWRkZW4nLAoJCQkpKTsKCQl9CgkJZXhpdDsKCX0KCgkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyDjgqLjg5fjg6rjgrHjg7zjgrfjg6fjg7Pjg63jg4Pjgq8KCgkvKioKCSAqIOOCouODl+ODquOCseODvOOCt+ODp+ODs+ODreODg+OCr+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGFwcF9uYW1lIOOCouODl+ODquOCseODvOOCt+ODp+ODs+ODreODg+OCr+WQjQoJICogQHBhcmFtIGludCAkZXhwaXJlIOacieWKueaZgumWkyjnp5IpICjnnIHnlaXmmYI6IDYw56eSKQoJICogQHJldHVybiBib29sIOODreODg+OCr+aIkOWKn+aZguOBqyBgdHJ1ZWDjgIHlpLHmlZfmmYLjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGxvY2soICRhcHBfbmFtZSwgJGV4cGlyZSA9IDYwICl7CgkJJGxvY2tmaWxlcGF0aCA9ICR0aGlzLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyKCcvYXBwX2xvY2svJy51cmxlbmNvZGUoJGFwcF9uYW1lID8/ICIiKS4nLmxvY2sucGhwJyk7CgkJJHRpbWVvdXRfbGltaXQgPSA1OwoKCQlpZiggISR0aGlzLT5mcygpLT5pc19kaXIoIGRpcm5hbWUoICRsb2NrZmlsZXBhdGggKSApICl7CgkJCSR0aGlzLT5mcygpLT5ta2Rpcl9yKCBkaXJuYW1lKCAkbG9ja2ZpbGVwYXRoICkgKTsKCQl9CgoJCS8vIFBIUOOBrkZpbGVTdGF0dXNDYWNoZeOCkuOCr+ODquOCogoJCWNsZWFyc3RhdGNhY2hlKCk7CgoJCSRpID0gMDsKCQl3aGlsZSggJHRoaXMtPmlzX2xvY2tlZCggJGFwcF9uYW1lLCAkZXhwaXJlICkgKXsKCQkJJGkgKys7CgkJCWlmKCAkaSA+PSAkdGltZW91dF9saW1pdCApewoJCQkJcmV0dXJuIGZhbHNlOwoJCQkJYnJlYWs7CgkJCX0KCQkJc2xlZXAoMSk7CgoJCQkvLyBQSFDjga5GaWxlU3RhdHVzQ2FjaGXjgpLjgq/jg6rjgqIKCQkJY2xlYXJzdGF0Y2FjaGUoKTsKCQl9CgkJJHNyYyA9ICcnOwoJCSRzcmMgLj0gJzwnLic/cGhwIGhlYWRlcihcJ0hUVFAvMS4xIDQwNCBOb3QgRm91bmRcJyk7IGVjaG8oXCc0MDQgTm90IEZvdW5kXCcpO2V4aXQoKTsgPycuJz4nLiJcbiI7CgkJJHNyYyAuPSAnUHJvY2Vzc0lEPScuZ2V0bXlwaWQoKS4iXHJcbiI7CgkJJHNyYyAuPSBAZGF0ZSggJ2MnLCB0aW1lKCkgKS4iXHJcbiI7CgkJJFJUTiA9ICR0aGlzLT5mcygpLT5zYXZlX2ZpbGUoICRsb2NrZmlsZXBhdGggLCAkc3JjICk7CgkJcmV0dXJuCSRSVE47Cgl9CgoJLyoqCgkgKiDjgqLjg5fjg6rjgrHjg7zjgrfjg6fjg7Pjg63jg4Pjgq/jgZXjgozjgabjgYTjgovjgYvnorroqo3jgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRhcHBfbmFtZSDjgqLjg5fjg6rjgrHjg7zjgrfjg6fjg7Pjg63jg4Pjgq/lkI0KCSAqIEBwYXJhbSBpbnQgJGV4cGlyZSDmnInlirnmmYLplpMo56eSKSAo55yB55Wl5pmCOiA2MOenkikKCSAqIEByZXR1cm4gYm9vbCDjg63jg4Pjgq/kuK3jga7loLTlkIjjgasgYHRydWVg44CB44Gd44KM5Lul5aSW44Gu5aC05ZCI44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc19sb2NrZWQoICRhcHBfbmFtZSwgJGV4cGlyZSA9IDYwICl7CgkJJGxvY2tmaWxlcGF0aCA9ICR0aGlzLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyKCcvYXBwX2xvY2svJy51cmxlbmNvZGUoJGFwcF9uYW1lID8/ICIiKS4nLmxvY2sucGhwJyk7CgkJJGxvY2tmaWxlX2V4cGlyZSA9ICRleHBpcmU7CgoJCS8vIFBIUOOBrkZpbGVTdGF0dXNDYWNoZeOCkuOCr+ODquOCogoJCWNsZWFyc3RhdGNhY2hlKCk7CgoJCWlmKCAkdGhpcy0+ZnMoKS0+aXNfZmlsZSgkbG9ja2ZpbGVwYXRoKSApewoJCQlpZiggKCB0aW1lKCkgLSBmaWxlbXRpbWUoJGxvY2tmaWxlcGF0aCkgKSA+ICRsb2NrZmlsZV9leHBpcmUgKXsKCQkJCS8vIOacieWKueacn+mZkOOCkumBjuOBjuOBpuOBhOOBn+OCieOAgeODreODg+OCr+OBr+aIkOeri+OBmeOCi+OAggoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgoJLyoqCgkgKiDjgqLjg5fjg6rjgrHjg7zjgrfjg6fjg7Pjg63jg4Pjgq/jgpLop6PpmaTjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRhcHBfbmFtZSDjgqLjg5fjg6rjgrHjg7zjgrfjg6fjg7Pjg63jg4Pjgq/lkI0KCSAqIEByZXR1cm4gYm9vbCDjg63jg4Pjgq/op6PpmaTmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiB1bmxvY2soICRhcHBfbmFtZSApewoJCSRsb2NrZmlsZXBhdGggPSAkdGhpcy0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpcignL2FwcF9sb2NrLycudXJsZW5jb2RlKCRhcHBfbmFtZSA/PyAiIikuJy5sb2NrLnBocCcpOwoKCQkvLyBQSFDjga5GaWxlU3RhdHVzQ2FjaGXjgpLjgq/jg6rjgqIKCQljbGVhcnN0YXRjYWNoZSgpOwoJCWlmKCAhJHRoaXMtPmZzKCktPmlzX2ZpbGUoICRsb2NrZmlsZXBhdGggKSApewoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgoJCXJldHVybiB1bmxpbmsoICRsb2NrZmlsZXBhdGggKTsKCX0KCgkvKioKCSAqIOOCouODl+ODquOCseODvOOCt+ODp+ODs+ODreODg+OCr+ODleOCoeOCpOODq+OBruabtOaWsOaXpeOCkuabtOaWsOOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGFwcF9uYW1lIOOCouODl+ODquOCseODvOOCt+ODp+ODs+ODreODg+OCr+WQjQoJICogQHJldHVybiBib29sIOaIkOWKn+aZguOBqyBgdHJ1ZWDjgIHlpLHmlZfmmYLjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHRvdWNoX2xvY2tmaWxlKCAkYXBwX25hbWUgKXsKCQkkbG9ja2ZpbGVwYXRoID0gJHRoaXMtPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIoJy9hcHBfbG9jay8nLnVybGVuY29kZSgkYXBwX25hbWUgPz8gIiIpLicubG9jay5waHAnKTsKCgkJLy8gUEhQ44GuRmlsZVN0YXR1c0NhY2hl44KS44Kv44Oq44KiCgkJY2xlYXJzdGF0Y2FjaGUoKTsKCQlpZiggISR0aGlzLT5mcygpLT5pc19maWxlKCAkbG9ja2ZpbGVwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJcmV0dXJuIHRvdWNoKCAkbG9ja2ZpbGVwYXRoICk7Cgl9Cgp9Cj8+',
           "filesystem" => 'PD9waHAKLyoqCiAqIHRvbWs3OS9maWxlc3lzdGVtCiAqCiAqIEBhdXRob3IgVG9tb3lhIEtveWFuYWdpIDx0b21rNzlAZ21haWwuY29tPgogKi8KCm5hbWVzcGFjZSByZW5jb25GcmFtZXdvcms7CgovKioKICogdG9tazc5L2ZpbGVzeXN0ZW0gY29yZSBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIGZpbGVzeXN0ZW17CgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgYrjgojjgbPjg4fjgqPjg6zjgq/jg4jjg6rmk43kvZzmmYLjga7jg4fjg5Xjgqnjg6vjg4jjg5Hjg7zjg5/jg4Pjgrfjg6fjg7MKCSAqLwoJcHJpdmF0ZSAkZGVmYXVsdF9wZXJtaXNzaW9uID0gYXJyYXkoJ2Rpcic9PjA3NzUsJ2ZpbGUnPT4wNzc1KTsKCS8qKgoJICog44OV44Kh44Kk44Or44K344K544OG44Og44Gu5paH5a2X44K744OD44OICgkgKi8KCXByaXZhdGUgJGZpbGVzeXN0ZW1fZW5jb2RpbmcgPSBudWxsOwoKCS8qKgoJICog44Kz44Oz44K544OI44Op44Kv44K/CgkgKgoJICogQHBhcmFtIG9iamVjdCAkY29uZiDoqK3lrprjgqrjg5bjgrjjgqfjgq/jg4gKCSAqLwoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRjb25mPW51bGwpewoJCSRjb25mID0ganNvbl9kZWNvZGUoIGpzb25fZW5jb2RlKCRjb25mKSwgdHJ1ZSApOwoJCWlmKCFpc19hcnJheSgkY29uZikpewoJCQkkY29uZiA9IGFycmF5KCk7CgkJfQoJCWlmKCBhcnJheV9rZXlfZXhpc3RzKCdmaWxlX2RlZmF1bHRfcGVybWlzc2lvbicsICRjb25mKSAmJiBzdHJsZW4oICRjb25mWydmaWxlX2RlZmF1bHRfcGVybWlzc2lvbiddID8/ICcnICkgKXsKCQkJJHRoaXMtPmRlZmF1bHRfcGVybWlzc2lvblsnZmlsZSddID0gb2N0ZGVjKCAkY29uZlsnZmlsZV9kZWZhdWx0X3Blcm1pc3Npb24nXSApOwoJCX0KCQlpZiggYXJyYXlfa2V5X2V4aXN0cygnZGlyX2RlZmF1bHRfcGVybWlzc2lvbicsICRjb25mKSAmJiBzdHJsZW4oICRjb25mWydkaXJfZGVmYXVsdF9wZXJtaXNzaW9uJ10gPz8gJycgKSApewoJCQkkdGhpcy0+ZGVmYXVsdF9wZXJtaXNzaW9uWydkaXInXSA9IG9jdGRlYyggJGNvbmZbJ2Rpcl9kZWZhdWx0X3Blcm1pc3Npb24nXSApOwoJCX0KCX0KCgkvKioKCSAqIOabuOOBjei+vOOBvy/kuIrmm7jjgY3jgZfjgabjgojjgYTjgqLjgqTjg4bjg6DjgYvmpJzoqLzjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOabuOOBjei+vOOBv+WPr+iDveOBquWgtOWQiCBgdHJ1ZWDjgIHkuI3lj6/og73jgarloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX3dyaXRhYmxlKCAkcGF0aCApewoJCSRwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGgpOwoJCWlmKCAhJHRoaXMtPmlzX2ZpbGUoJHBhdGgpICl7CgkJCXJldHVybiBpc193cml0YWJsZSggZGlybmFtZSgkcGF0aCkgKTsKCQl9CgkJcmV0dXJuIGlzX3dyaXRhYmxlKCAkcGF0aCApOwoJfQoKCS8qKgoJICog6Kqt44G/6L6844KT44Gn44KI44GE44Ki44Kk44OG44Og44GL5qSc6Ki844GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDmpJzoqLzlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gYm9vbCDoqq3jgb/ovrzjgb/lj6/og73jgarloLTlkIggYHRydWVg44CB5LiN5Y+v6IO944Gq5aC05ZCI44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc19yZWFkYWJsZSggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCQlyZXR1cm4gaXNfcmVhZGFibGUoICRwYXRoICk7Cgl9CgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOODleOCoeOCpOODq+OBjOWtmOWcqOOBmeOCi+WgtOWQiCBgdHJ1ZWDjgIHlrZjlnKjjgZfjgarjgYTloLTlkIjjgIHjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rjgYzlrZjlnKjjgZnjgovloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2ZpbGUoICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgkJcmV0dXJuIGlzX2ZpbGUoICRwYXRoICk7Cgl9CgoJLyoqCgkgKiDjgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jgYvjganjgYbjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOODleOCoeOCpOODq+OBjOOCt+ODs+ODnOODquODg+OCr+ODquODs+OCr+OBruWgtOWQiCBgdHJ1ZWDjgIHlrZjlnKjjgZfjgarjgYTloLTlkIjjgIHjgZ3jgozku6XlpJbjga7loLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2xpbmsoICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgkJcmV0dXJuIGlzX2xpbmsoICRwYXRoICk7Cgl9CgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOaknOiovOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBib29sIOODh+OCo+ODrOOCr+ODiOODquOBjOWtmOWcqOOBmeOCi+WgtOWQiCBgdHJ1ZWDjgIHlrZjlnKjjgZfjgarjgYTloLTlkIjjgIHjgb7jgZ/jga/jg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZnjgovloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2RpciggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCQlyZXR1cm4gaXNfZGlyKCAkcGF0aCApOwoJfQoKCS8qKgoJICog44OV44Kh44Kk44Or44G+44Gf44Gv44OH44Kj44Os44Kv44OI44Oq44GM5a2Y5Zyo44GZ44KL44GL44Gp44GG44GL6Kq/44G544KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDmpJzoqLzlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gYm9vbCDjg5XjgqHjgqTjg6vjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rjgYzlrZjlnKjjgZnjgovloLTlkIggYHRydWVg44CB5a2Y5Zyo44GX44Gq44GE5aC05ZCI44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBmaWxlX2V4aXN0cyggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCQlyZXR1cm4gZmlsZV9leGlzdHMoICRwYXRoICk7Cgl9CgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgpLkvZzmiJDjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRkaXJwYXRoIOS9nOaIkOOBmeOCi+ODh+OCo+ODrOOCr+ODiOODquOBruODkeOCuQoJICogQHBhcmFtIGludCAkcGVybSDkvZzmiJDjgZnjgovjg4fjgqPjg6zjgq/jg4jjg6rjgavkuI7jgYjjgovjg5Hjg7zjg5/jg4Pjgrfjg6fjg7MKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBta2RpciggJGRpcnBhdGggLCAkcGVybSA9IG51bGwgKXsKCQkkZGlycGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRkaXJwYXRoKTsKCgkJaWYoICR0aGlzLT5pc19kaXIoICRkaXJwYXRoICkgKXsKCQkJLy8g5pei44Gr44OH44Kj44Os44Kv44OI44Oq44GM44GC44Gj44Gf44KJ44CB5L2c5oiQ44KS6Kmm44G/44Gq44GE44CCCgkJCSR0aGlzLT5jaG1vZCggJGRpcnBhdGggLCAkcGVybSApOwoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJaWYoICEkdGhpcy0+aXNfZGlyKCBkaXJuYW1lKCRkaXJwYXRoKSApICl7CgkJCS8vIOimquODh+OCo+ODrOOCr+ODiOODquOBjOWtmOWcqOOBl+OBquOBhOWgtOWQiOOBr+OAgeS9nOaIkOOBp+OBjeOBquOBhAoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAhJHRoaXMtPmlzX3dyaXRhYmxlKCBkaXJuYW1lKCRkaXJwYXRoKSApICl7CgkJCS8vIOimquODh+OCo+ODrOOCr+ODiOODquOBq+abuOOBjei+vOOBv+OBp+OBjeOBquOBhOWgtOWQiOOBr+OAgeS9nOaIkOOBp+OBjeOBquOBhAoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCSRyZXN1bHQgPSBta2RpciggJGRpcnBhdGggKTsKCQkkdGhpcy0+Y2htb2QoICRkaXJwYXRoICwgJHBlcm0gKTsKCQljbGVhcnN0YXRjYWNoZSgpOwoJCXJldHVybgkkcmVzdWx0OwoJfQoKCS8qKgoJICog44OH44Kj44Os44Kv44OI44Oq44KS5L2c5oiQ44GZ44KLKOS4iuWxpOODh+OCo+ODrOOCr+ODiOODquOCguWFqOOBpuS9nOaIkCkKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRkaXJwYXRoIOS9nOaIkOOBmeOCi+ODh+OCo+ODrOOCr+ODiOODquOBruODkeOCuQoJICogQHBhcmFtIGludCAkcGVybSDkvZzmiJDjgZnjgovjg4fjgqPjg6zjgq/jg4jjg6rjgavkuI7jgYjjgovjg5Hjg7zjg5/jg4Pjgrfjg6fjg7MKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBta2Rpcl9yKCAkZGlycGF0aCAsICRwZXJtID0gbnVsbCApewoJCSRkaXJwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJGRpcnBhdGgpOwoJCWlmKCAkdGhpcy0+aXNfZGlyKCAkZGlycGF0aCApICl7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlpZiggJHRoaXMtPmlzX2ZpbGUoICRkaXJwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkcGF0aGFycmF5ID0gZXhwbG9kZSggRElSRUNUT1JZX1NFUEFSQVRPUiAsICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCAkdGhpcy0+Z2V0X3JlYWxwYXRoKCRkaXJwYXRoKSApICk7CgkJJHRhcmdldHBhdGggPSAnJzsKCQlmb3JlYWNoKCAkcGF0aGFycmF5IGFzICRpZHg9PiRMaW5lICl7CgkJCWlmKCAhc3RybGVuKCAkTGluZSA/PyAnJyApIHx8ICRMaW5lID09ICcuJyB8fCAkTGluZSA9PSAnLi4nICl7IGNvbnRpbnVlOyB9CgkJCWlmKCEoJGlkeD09PTAgJiYgRElSRUNUT1JZX1NFUEFSQVRPUiA9PSAnXFwnICYmIHByZWdfbWF0Y2goJy9eW2EtekEtWl1cOiQvcycsICRMaW5lID8/ICcnKSkpewoJCQkJJHRhcmdldHBhdGggLj0gRElSRUNUT1JZX1NFUEFSQVRPUjsKCQkJfQoJCQkkdGFyZ2V0cGF0aCAuPSAkTGluZTsKCgkJCS8vIGNsZWFyc3RhdGNhY2hlKCk7CgkJCWlmKCAhJHRoaXMtPmlzX2RpciggJHRhcmdldHBhdGggKSApewoJCQkJJHRhcmdldHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCggJHRhcmdldHBhdGggKTsKCQkJCWlmKCAhJHRoaXMtPm1rZGlyKCAkdGFyZ2V0cGF0aCAsICRwZXJtICkgKXsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0KCQl9CgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgoTjg4fjgqPjg6zjgq/jg4jjg6rjgpLkuK3ouqvjgZTjgajlrozlhajjgavliYrpmaTjgZnjgovjgIIKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jgIHjg5XjgqHjgqTjg6vjgoTjgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jgoLliYrpmaTjgZfjgb7jgZnjgIIKCSAqIOODh+OCo+ODrOOCr+ODiOODquOCkuWJiumZpOOBmeOCi+WgtOWQiOOBr+OAgeS4rei6q+OBlOOBqOWujOWFqOOBq+WJiumZpOOBl+OBvuOBmeOAggoJICog44K344Oz44Oc44Oq44OD44Kv44Oq44Oz44Kv44Gv44CB44Gd44Gu5YWI44KS6L+944KP44Ga44CB44K344Oz44Oc44Oq44OD44Kv44Oq44Oz44Kv5pys5L2T44Gu44G/44KS5YmK6Zmk44GX44G+44GZ44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBybSggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCQljbGVhcnN0YXRjYWNoZSgpOwoKCQlpZiggISR0aGlzLT5pc193cml0YWJsZSggJHBhdGggKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJHBhdGggKSB8fCAkdGhpcy0+aXNfbGluayggJHBhdGggKSApewoJCQkvLyDjg5XjgqHjgqTjg6vjgb7jgZ/jga/jgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jga7loLTlkIjjga7lh6bnkIYKCQkJJHJlc3VsdCA9IEB1bmxpbmsoICRwYXRoICk7CgkJCXJldHVybgkkcmVzdWx0OwoKCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZGlyKCAkcGF0aCApICl7CgkJCS8vIOODh+OCo+ODrOOCr+ODiOODquOBruWHpueQhgoJCQkkZmxpc3QgPSAkdGhpcy0+bHMoICRwYXRoICk7CgkJCWlmKCBpc19hcnJheSgkZmxpc3QpICl7CgkJCQlmb3JlYWNoICggJGZsaXN0IGFzICRMaW5lICl7CgkJCQkJaWYoICRMaW5lID09ICcuJyB8fCAkTGluZSA9PSAnLi4nICl7IGNvbnRpbnVlOyB9CgkJCQkJJHRoaXMtPnJtKCAkcGF0aC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICk7CgkJCQl9CgkJCX0KCQkJJHJlc3VsdCA9IHJtZGlyKCAkcGF0aCApOwoJCQlyZXR1cm4JJHJlc3VsdDsKCgkJfQoKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgpLliYrpmaTjgZnjgovjgIIKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jg4fjgqPjg6zjgq/jg4jjg6rjgpLliYrpmaTjgZfjgb7jgZnjgIIKCSAqIOS4rei6q+OBruOBquOBhOOAgeepuuOBruODh+OCo+ODrOOCr+ODiOODquS7peWkluOBr+WJiumZpOOBp+OBjeOBvuOBm+OCk+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44OH44Kj44Os44Kv44OI44Oq44Gu44OR44K5CgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gcm1kaXIoICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgoJCWlmKCAhJHRoaXMtPmlzX3dyaXRhYmxlKCAkcGF0aCApICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJJHBhdGggPSBAcmVhbHBhdGgoICRwYXRoICk7CgkJaWYoICRwYXRoID09PSBmYWxzZSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJHBhdGggKSB8fCAkdGhpcy0+aXNfbGluayggJHBhdGggKSApewoJCQkvLyDjg5XjgqHjgqTjg6vjgb7jgZ/jga/jgrfjg7Pjg5zjg6rjg4Pjgq/jg6rjg7Pjgq/jga7loLTlkIjjga7lh6bnkIYKCQkJLy8g44OH44Kj44Os44Kv44OI44Oq5Lul5aSW44Gv5YmK6Zmk44Gn44GN44G+44Gb44KT44CCCgkJCXJldHVybiBmYWxzZTsKCgkJfWVsc2VpZiggJHRoaXMtPmlzX2RpciggJHBhdGggKSApewoJCQkvLyDjg4fjgqPjg6zjgq/jg4jjg6rjga7lh6bnkIYKCQkJLy8gcm1kaXIoKSDjga/lho3luLDnmoTliYrpmaTjgpLooYzjgYTjgb7jgZvjgpPjgIIKCQkJLy8g5YaN5biw55qE44Gr5YmK6Zmk44GX44Gf44GE5aC05ZCI44Gv44CB5Luj44KP44KK44GrIGBybSgpYCDjgb7jgZ/jga8gYHJtZGlyX3IoKWAg44KS5L2/55So44GX44G+44GZ44CCCgkJCXJldHVybiBAcm1kaXIoICRwYXRoICk7CgkJfQoKCQlyZXR1cm4gZmFsc2U7Cgl9Ly9ybWRpcigpCgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgpLlho3luLDnmoTjgavliYrpmaTjgZnjgovjgIIKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jg4fjgqPjg6zjgq/jg4jjg6rjgpLlho3luLDnmoTjgavliYrpmaTjgZfjgb7jgZnjgIIKCSAqIOS4rei6q+OBruOBquOBhOOAgeepuuOBruODh+OCo+ODrOOCr+ODiOODquS7peWkluOBr+WJiumZpOOBp+OBjeOBvuOBm+OCk+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44OH44Kj44Os44Kv44OI44Oq44Gu44OR44K5CgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gcm1kaXJfciggJHBhdGggKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCgkJaWYoICEkdGhpcy0+aXNfd3JpdGFibGUoICRwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkcGF0aCA9IEByZWFscGF0aCggJHBhdGggKTsKCQlpZiggJHBhdGggPT09IGZhbHNlICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJaWYoICR0aGlzLT5pc19maWxlKCAkcGF0aCApIHx8ICR0aGlzLT5pc19saW5rKCAkcGF0aCApICl7CgkJCS8vIOODleOCoeOCpOODq+OBvuOBn+OBr+OCt+ODs+ODnOODquODg+OCr+ODquODs+OCr+OBruWgtOWQiOOBruWHpueQhgoJCQkvLyDjg4fjgqPjg6zjgq/jg4jjg6rku6XlpJbjga/liYrpmaTjgafjgY3jgb7jgZvjgpPjgIIKCQkJcmV0dXJuIGZhbHNlOwoKCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZGlyKCAkcGF0aCApICl7CgkJCS8vIOODh+OCo+ODrOOCr+ODiOODquOBruWHpueQhgoJCQkkZmlsZWxpc3QgPSAkdGhpcy0+bHMoJHBhdGgpOwoJCQlpZiggaXNfYXJyYXkoJGZpbGVsaXN0KSApewoJCQkJZm9yZWFjaCggJGZpbGVsaXN0IGFzICRiYXNlbmFtZSApewoJCQkJCWlmKCAkdGhpcy0+aXNfZmlsZSggJHBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kYmFzZW5hbWUgKSApewoJCQkJCQkkdGhpcy0+cm0oICRwYXRoLkRJUkVDVE9SWV9TRVBBUkFUT1IuJGJhc2VuYW1lICk7CgkJCQkJfWVsc2UgaWYoICEkdGhpcy0+cm1kaXJfciggJHBhdGguRElSRUNUT1JZX1NFUEFSQVRPUi4kYmFzZW5hbWUgKSApewoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJfQoJCQl9CgkJCXJldHVybiAkdGhpcy0+cm1kaXIoICRwYXRoICk7CgkJfQoKCQlyZXR1cm4gZmFsc2U7Cgl9Ly9ybWRpcl9yKCkKCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgpLkuIrmm7jjgY3kv53lrZjjgZnjgovjgIIKCSAqCgkgKiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jgIFgJGZpbGVwYXRoYCDjgavjg4fjg7zjgr/jgpLkv53lrZjjgZfjgb7jgZnjgIIKCSAqIOOCguOBqOOCguOBqOS/neWtmOOBleOCjOOBpuOBhOOBn+WGheWuueOBr+egtOajhOOBleOCjOOAgeaWsOOBl+OBhOODh+ODvOOCv+OBp+S4iuabuOOBjeOBl+OBvuOBmeOAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGZpbGVwYXRoIOS/neWtmOWFiOODleOCoeOCpOODq+OBruODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkY29udGVudCDkv53lrZjjgZnjgovlhoXlrrkKCSAqIEBwYXJhbSBpbnQgJHBlcm0g5L+d5a2Y44GZ44KL44OV44Kh44Kk44Or44Gr5LiO44GI44KL44OR44O844Of44OD44K344On44OzCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmC44GrIGB0cnVlYOOAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gc2F2ZV9maWxlKCAkZmlsZXBhdGggLCAkY29udGVudCAsICRwZXJtID0gbnVsbCApewoJCSRmaWxlcGF0aCA9ICR0aGlzLT5nZXRfcmVhbHBhdGgoJGZpbGVwYXRoKTsKCQkkZmlsZXBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkZmlsZXBhdGgpOwoKCQlpZiggJHRoaXMtPmlzX2RpciggJGZpbGVwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZiggISR0aGlzLT5pc193cml0YWJsZSggJGZpbGVwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJaWYoICFzdHJsZW4oICRjb250ZW50ID8/ICcnICkgKXsKCQkJLy8g56m655m944Gu44OV44Kh44Kk44Or44Gn5LiK5pu444GN44GX44Gf44GE5aC05ZCICgkJCWlmKCAkdGhpcy0+aXNfZmlsZSggJGZpbGVwYXRoICkgKXsKCQkJCUB1bmxpbmsoICRmaWxlcGF0aCApOwoJCQl9CgkJCUB0b3VjaCggJGZpbGVwYXRoICk7CgkJCSR0aGlzLT5jaG1vZCggJGZpbGVwYXRoICwgJHBlcm0gKTsKCQkJY2xlYXJzdGF0Y2FjaGUoKTsKCQkJcmV0dXJuICR0aGlzLT5pc19maWxlKCAkZmlsZXBhdGggKTsKCQl9CgoJCWNsZWFyc3RhdGNhY2hlKCk7CgkJJGZwID0gZm9wZW4oICRmaWxlcGF0aCwgJ3cnICk7CgkJaWYoICFpc19yZXNvdXJjZSggJGZwICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJZm9yICgkd3JpdHRlbiA9IDA7ICR3cml0dGVuIDwgc3RybGVuKCRjb250ZW50KTsgJHdyaXR0ZW4gKz0gJGZ3cml0ZSkgewoJCQkkZndyaXRlID0gZndyaXRlKCRmcCwgc3Vic3RyKCRjb250ZW50LCAkd3JpdHRlbikpOwoJCQlpZiAoJGZ3cml0ZSA9PT0gZmFsc2UpIHsKCQkJCWJyZWFrOwoJCQl9CgkJfQoKCQlmY2xvc2UoJGZwKTsKCgkJJHRoaXMtPmNobW9kKCAkZmlsZXBhdGggLCAkcGVybSApOwoJCWNsZWFyc3RhdGNhY2hlKCk7CgkJcmV0dXJuICFlbXB0eSggJHdyaXR0ZW4gKTsKCX0vL3NhdmVfZmlsZSgpCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjga7kuK3ouqvjgpLmloflrZfliJfjgajjgZfjgablj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOODleOCoeOCpOODq+OBruODkeOCuQoJICogQHJldHVybiBzdHJpbmcg44OV44Kh44Kk44OrIGAkcGF0aGAg44Gu5YaF5a65CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByZWFkX2ZpbGUoICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgkJcmV0dXJuIGZpbGVfZ2V0X2NvbnRlbnRzKCAkcGF0aCApOwoJfS8vZmlsZV9nZXRfY29udGVudHMoKQoKCS8qKgoJICog44OV44Kh44Kk44Or44Gu5pu05paw5pel5pmC44KS5q+U6LyD44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aF9hIOavlOi8g+WvvuixoUEKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGhfYiDmr5TovIPlr77osaFCCgkgKiBAcmV0dXJuIGJvb2x8bnVsbAoJICogYCRwYXRoX2FgIOOBruaWueOBjOaWsOOBl+OBi+OBo+OBn+WgtOWQiOOBqyBgdHJ1ZWDjgIEKCSAqIGAkcGF0aF9iYCDjga7mlrnjgYzmlrDjgZfjgYvjgaPjgZ/loLTlkIjjgasgYGZhbHNlYOOAgQoJICog5ZCM5pmC44Gg44Gj44Gf5aC05ZCI44GrIGBudWxsYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqCgkgKiDjgYTjgZrjgozjgYvkuIDmlrnjgIHjgb7jgZ/jga/kuKHmlrnjga7jg5XjgqHjgqTjg6vjgYzlrZjlnKjjgZfjgarjgYTloLTlkIjjgIHmrKHjga7jgojjgYbjgavmjK/jgovoiJ7jgYTjgb7jgZnjgIIKCSAqIC0g5Lih5pa544Gu44OV44Kh44Kk44Or44GM5a2Y5Zyo44GX44Gq44GE5aC05ZCIID0gYG51bGxgCgkgKiAtICRwYXRoX2Eg44GM5a2Y5Zyo44Gb44Ga44CBJHBhdGhfYiDjga/lrZjlnKjjgZnjgovloLTlkIggPSBgZmFsc2VgCgkgKiAtICRwYXRoX2Eg44GM5a2Y5Zyo44GX44CBJHBhdGhfYiDjga/lrZjlnKjjgZfjgarjgYTloLTlkIggPSBgdHJ1ZWAKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX25ld2VyX2FfdGhhbl9iKCAkcGF0aF9hICwgJHBhdGhfYiApewoJCSRwYXRoX2EgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aF9hKTsKCQkkcGF0aF9iID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGhfYik7CgoJCS8vIOavlOi8g+OBp+OBjeOBquOBhOWgtOWQiOOBqwoJCWlmKCFmaWxlX2V4aXN0cygkcGF0aF9hKSAmJiAhZmlsZV9leGlzdHMoJHBhdGhfYikpe3JldHVybiBudWxsO30KCQlpZighZmlsZV9leGlzdHMoJHBhdGhfYSkpe3JldHVybiBmYWxzZTt9CgkJaWYoIWZpbGVfZXhpc3RzKCRwYXRoX2IpKXtyZXR1cm4gdHJ1ZTt9CgoJCSRtdGltZV9hID0gZmlsZW10aW1lKCAkcGF0aF9hICk7CgkJJG10aW1lX2IgPSBmaWxlbXRpbWUoICRwYXRoX2IgKTsKCQlpZiggJG10aW1lX2EgPiAkbXRpbWVfYiApewoJCQlyZXR1cm4gdHJ1ZTsKCQl9ZWxzZWlmKCAkbXRpbWVfYSA8ICRtdGltZV9iICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJcmV0dXJuIG51bGw7Cgl9Ly9pc19uZXdlcl9hX3RoYW5fYigpCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vlkI0v44OH44Kj44Os44Kv44OI44Oq5ZCN44KS5aSJ5pu044GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkb3JpZ2luYWwg54++5Zyo44Gu44OV44Kh44Kk44Or44G+44Gf44Gv44OH44Kj44Os44Kv44OI44Oq5ZCNCgkgKiBAcGFyYW0gc3RyaW5nICRuZXduYW1lIOWkieabtOW+jOOBruODleOCoeOCpOODq+OBvuOBn+OBr+ODh+OCo+ODrOOCr+ODiOODquWQjQoJICogQHJldHVybiBib29sIOaIkOWKn+aZgiBgdHJ1ZWDjgIHlpLHmlZfmmYIgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJlbmFtZSggJG9yaWdpbmFsICwgJG5ld25hbWUgKXsKCQkkb3JpZ2luYWwgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkb3JpZ2luYWwpOwoJCSRuZXduYW1lICA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRuZXduYW1lICk7CgoJCWlmKCAhZmlsZV9leGlzdHMoICRvcmlnaW5hbCApICl7IHJldHVybiBmYWxzZTsgfQoJCWlmKCAhJHRoaXMtPmlzX3dyaXRhYmxlKCAkb3JpZ2luYWwgKSApeyByZXR1cm4gZmFsc2U7IH0KCQlyZXR1cm4gcmVuYW1lKCAkb3JpZ2luYWwgLCAkbmV3bmFtZSApOwoJfS8vcmVuYW1lKCkKCgkvKioKCSAqIOODleOCoeOCpOODq+WQjS/jg4fjgqPjg6zjgq/jg4jjg6rlkI3jgpLlvLfliLbnmoTjgavlpInmm7TjgZnjgovjgIIKCSAqCgkgKiDnp7vli5XlhYjjga7opqrjg4fjgqPjg6zjgq/jg4jjg6rjgYzlrZjlnKjjgZfjgarjgYTloLTlkIjjgavjgoLjgIHopqrjg4fjgqPjg6zjgq/jg4jjg6rjgpLkvZzmiJDjgZfjgabnp7vli5XjgZnjgovjgojjgYboqabjgb/jgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRvcmlnaW5hbCDnj77lnKjjga7jg5XjgqHjgqTjg6vjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rlkI0KCSAqIEBwYXJhbSBzdHJpbmcgJG5ld25hbWUg5aSJ5pu05b6M44Gu44OV44Kh44Kk44Or44G+44Gf44Gv44OH44Kj44Os44Kv44OI44Oq5ZCNCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmCIGB0cnVlYOOAgeWkseaVl+aZgiBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gcmVuYW1lX2YoICRvcmlnaW5hbCAsICRuZXduYW1lICl7CgkJJG9yaWdpbmFsID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJG9yaWdpbmFsKTsKCQkkbmV3bmFtZSAgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkbmV3bmFtZSApOwoKCQlpZiggIWZpbGVfZXhpc3RzKCAkb3JpZ2luYWwgKSApeyByZXR1cm4gZmFsc2U7IH0KCQlpZiggISR0aGlzLT5pc193cml0YWJsZSggJG9yaWdpbmFsICkgKXsgcmV0dXJuIGZhbHNlOyB9CgkJJGRpcm5hbWUgPSBkaXJuYW1lKCAkbmV3bmFtZSApOwoJCWlmKCAhJHRoaXMtPmlzX2RpciggJGRpcm5hbWUgKSApewoJCQlpZiggISR0aGlzLT5ta2Rpcl9yKCAkZGlybmFtZSApICl7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQl9CgkJcmV0dXJuIHJlbmFtZSggJG9yaWdpbmFsICwgJG5ld25hbWUgKTsKCX0gLy8gcmVuYW1lX2YoKQoKCS8qKgoJICog57W25a++44OR44K544KS5b6X44KL44CCCgkgKgoJICog44OR44K55oOF5aCx44KS5Y+X44GR5Y+W44KK44CB44K544Op44OD44K344Ol44GL44KJ5aeL44G+44KL44K144O844OQ44O85YaF6YOo57W25a++44OR44K544Gr5aSJ5o+b44GX44Gm6L+U44GX44G+44GZ44CCCgkgKgoJICog44GT44Gu44Oh44K944OD44OJ44Gv44CBUEhQ44GuIGByZWFscGF0aCgpYCDjgajnlbDjgarjgorjgIHlrZjlnKjjgZfjgarjgYTjg5HjgrnjgoLntbblr77jg5HjgrnjgavlpInmj5vjgZfjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeOBruODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkY2Qg44Kr44Os44Oz44OI44OH44Kj44Os44Kv44OI44Oq44OR44K544CCCgkgKiDlrp/lnKjjgZnjgovmnInlirnjgarjg4fjgqPjg6zjgq/jg4jjg6rjga7jg5HjgrnjgIHjgb7jgZ/jga/ntbblr77jg5Hjgrnjga7ooajnj77jgafmjIflrprjgZXjgozjgovlv4XopoHjgYzjgYLjgorjgb7jgZnjgIIKCSAqIOecgeeVpeaZguOAgeOCq+ODrOODs+ODiOODh+OCo+ODrOOCr+ODiOODquOCkuiHquWLleaOoeeUqOOBl+OBvuOBmeOAggoJICogQHJldHVybiBzdHJpbmcg57W25a++44OR44K5CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfcmVhbHBhdGgoICRwYXRoLCAkY2QgPSAnLicgKXsKCQkkaXNfZGlyID0gZmFsc2U7CgkJaWYoIHByZWdfbWF0Y2goICcvKFwvfFxcXFwpKyQvcycsICRwYXRoID8/ICcnICkgKXsKCQkJJGlzX2RpciA9IHRydWU7CgkJfQoJCSRwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJHBhdGgpOwoJCWlmKCBpc19udWxsKCRjZCkgKXsgJGNkID0gJy4nOyB9CgkJJGNkID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJGNkKTsKCQkkcHJlZ19kaXJzZXAgPSBwcmVnX3F1b3RlKERJUkVDVE9SWV9TRVBBUkFUT1IsICcvJyk7CgoJCWlmKCAkdGhpcy0+aXNfZGlyKCRjZCkgKXsKCQkJJGNkID0gcmVhbHBhdGgoJGNkKTsKCQl9ZWxzZWlmKCAhcHJlZ19tYXRjaCgnL14oKD86W0EtWmEtel1cXDonLiRwcmVnX2RpcnNlcC4nKXwnLiRwcmVnX2RpcnNlcC4nezEsMn0pKC4qPykkLycsICRjZCA/PyAnJykgKXsKCQkJJGNkID0gZmFsc2U7CgkJfQoJCWlmKCAkY2QgPT09IGZhbHNlICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCSRwcmVmaXggPSAnJzsKCQkkbG9jYWxwYXRoID0gJHBhdGg7CgkJaWYoIHByZWdfbWF0Y2goJy9eKCg/OltBLVphLXpdXFw6Jy4kcHJlZ19kaXJzZXAuJyl8Jy4kcHJlZ19kaXJzZXAuJ3sxLDJ9KSguKj8pJC8nLCAkcGF0aCA/PyAnJywgJG1hdGNoZWQpICl7CgkJCS8vIOOCguOBqOOCguOBqOe1tuWvvuODkeOCueOBruaMh+WumuOBi+iqv+OBueOCiwoJCQkkcHJlZml4ID0gcHJlZ19yZXBsYWNlKCcvJy4kcHJlZ19kaXJzZXAuJyQvJywgJycsICRtYXRjaGVkWzFdKTsKCQkJJGxvY2FscGF0aCA9ICRtYXRjaGVkWzJdOwoJCQkkY2QgPSBudWxsOyAvLyDlhYPjga7mjIflrprjgYzntbblr77jg5HjgrnjgaDjgaPjgZ/jgonjgIHjgqvjg6zjg7Pjg4jjg4fjgqPjg6zjgq/jg4jjg6rjga/plqLkv4LjgarjgYTjga7jgafmjajjgabjgovjgIIKCQl9CgoJCSRwYXRoID0gJGNkLkRJUkVDVE9SWV9TRVBBUkFUT1IuJy4nLkRJUkVDVE9SWV9TRVBBUkFUT1IuJGxvY2FscGF0aDsKCgkJaWYoIGZpbGVfZXhpc3RzKCAkcHJlZml4LiRwYXRoICkgKXsKCQkJJHJ0biA9IHJlYWxwYXRoKCAkcHJlZml4LiRwYXRoICk7CgkJCWlmKCAkaXNfZGlyICYmICRydG4gIT0gcmVhbHBhdGgoJy8nKSApewoJCQkJJHJ0biAuPSBESVJFQ1RPUllfU0VQQVJBVE9SOwoJCQl9CgkJCXJldHVybiAkcnRuOwoJCX0KCgkJJHBhdGhzID0gZXhwbG9kZSggRElSRUNUT1JZX1NFUEFSQVRPUiwgJHBhdGggKTsKCQkkcGF0aCA9ICcnOwoJCWZvcmVhY2goICRwYXRocyBhcyAkaWR4PT4kcm93ICl7CgkJCWlmKCAkcm93ID09ICcnIHx8ICRyb3cgPT0gJy4nICl7CgkJCQljb250aW51ZTsKCQkJfQoJCQlpZiggJHJvdyA9PSAnLi4nICl7CgkJCQkkcGF0aCA9IGRpcm5hbWUoJHBhdGgpOwoJCQkJaWYoJHBhdGggPT0gRElSRUNUT1JZX1NFUEFSQVRPUiB8fCBwcmVnX21hdGNoKCcvXlthLXpBLVpdXDpbXFwvXFxcXF0qJC9zJywgJHBhdGgpICl7CgkJCQkJJHBhdGggPScnOwoJCQkJfQoJCQkJY29udGludWU7CgkJCX0KCQkJaWYoISgkaWR4PT09MCAmJiBESVJFQ1RPUllfU0VQQVJBVE9SID09ICdcXCcgJiYgcHJlZ19tYXRjaCgnL15bYS16QS1aXVw6JC9zJywgJHJvdyA/PyAnJykpKXsKCQkJCSRwYXRoIC49IERJUkVDVE9SWV9TRVBBUkFUT1I7CgkJCX0KCQkJJHBhdGggLj0gJHJvdzsKCQl9CgoJCSRydG4gPSAkcHJlZml4LiRwYXRoOwoJCWlmKCAkaXNfZGlyICl7CgkJCSRydG4gLj0gRElSRUNUT1JZX1NFUEFSQVRPUjsKCQl9CgkJcmV0dXJuICRydG47Cgl9CgoJLyoqCgkgKiDnm7jlr77jg5HjgrnjgpLlvpfjgovjgIIKCSAqCgkgKiDjg5Hjgrnmg4XloLHjgpLlj5fjgZHlj5bjgorjgIHjg4njg4Pjg4jjgrnjg6njg4Pjgrfjg6XjgYvjgonlp4vjgb7jgovnm7jlr77ntbblr77jg5HjgrnjgavlpInmj5vjgZfjgabov5TjgZfjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeOBruODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkY2Qg44Kr44Os44Oz44OI44OH44Kj44Os44Kv44OI44Oq44OR44K544CCCgkgKiDlrp/lnKjjgZnjgovmnInlirnjgarjg4fjgqPjg6zjgq/jg4jjg6rjga7jg5HjgrnjgIHjgb7jgZ/jga/ntbblr77jg5Hjgrnjga7ooajnj77jgafmjIflrprjgZXjgozjgovlv4XopoHjgYzjgYLjgorjgb7jgZnjgIIKCSAqIOecgeeVpeaZguOAgeOCq+ODrOODs+ODiOODh+OCo+ODrOOCr+ODiOODquOCkuiHquWLleaOoeeUqOOBl+OBvuOBmeOAggoJICogQHJldHVybiBzdHJpbmcg55u45a++44OR44K5CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfcmVsYXRlZHBhdGgoICRwYXRoLCAkY2QgPSAnLicgKXsKCQkkaXNfZGlyID0gZmFsc2U7CgkJaWYoIHByZWdfbWF0Y2goICcvKFwvfFxcXFwpKyQvcycsICRwYXRoID8/ICcnICkgKXsKCQkJJGlzX2RpciA9IHRydWU7CgkJfQoJCWlmKCAhc3RybGVuKCAkY2QgPz8gJycgKSApewoJCQkkY2QgPSByZWFscGF0aCgnLicpOwoJCX1lbHNlaWYoICR0aGlzLT5pc19kaXIoJGNkKSApewoJCQkkY2QgPSByZWFscGF0aCgkY2QpOwoJCX1lbHNlaWYoICR0aGlzLT5pc19maWxlKCRjZCkgKXsKCQkJJGNkID0gcmVhbHBhdGgoZGlybmFtZSgkY2QpKTsKCQl9CgkJJHBhdGggPSAkdGhpcy0+Z2V0X3JlYWxwYXRoKCRwYXRoLCAkY2QpOwoKCQkkbm9ybWFsaXplID0gZnVuY3Rpb24oICR0bXBfcGF0aCwgJGZzICl7CgkJCSR0bXBfcGF0aCA9ICRmcy0+bG9jYWxpemVfcGF0aCggJHRtcF9wYXRoICk7CgkJCSRwcmVnX2RpcnNlcCA9IHByZWdfcXVvdGUoRElSRUNUT1JZX1NFUEFSQVRPUiwgJy8nKTsKCQkJaWYoIERJUkVDVE9SWV9TRVBBUkFUT1IgPT0gJ1xcJyApewoJCQkJJHRtcF9wYXRoID0gcHJlZ19yZXBsYWNlKCAnL15bYS16QS1aXVw6L3MnLCAnJywgJHRtcF9wYXRoID8/ICcnICk7CgkJCX0KCQkJJHRtcF9wYXRoID0gcHJlZ19yZXBsYWNlKCAnL14oJy4kcHJlZ19kaXJzZXAuJykrL3MnLCAnJywgJHRtcF9wYXRoID8/ICcnICk7CgkJCSR0bXBfcGF0aCA9IHByZWdfcmVwbGFjZSggJy8oJy4kcHJlZ19kaXJzZXAuJykrJC9zJywgJycsICR0bXBfcGF0aCA/PyAnJyApOwoJCQlpZiggc3RybGVuKCR0bXBfcGF0aCkgKXsKCQkJCSR0bXBfcGF0aCA9IGV4cGxvZGUoIERJUkVDVE9SWV9TRVBBUkFUT1IsICR0bXBfcGF0aCApOwoJCQl9ZWxzZXsKCQkJCSR0bXBfcGF0aCA9IGFycmF5KCk7CgkJCX0KCgkJCXJldHVybiAkdG1wX3BhdGg7CgkJfTsKCgkJJGNkID0gJG5vcm1hbGl6ZSgkY2QsICR0aGlzKTsKCQkkcGF0aCA9ICRub3JtYWxpemUoJHBhdGgsICR0aGlzKTsKCgkJJHJ0biA9IGFycmF5KCk7CgkJd2hpbGUoIDEgKXsKCQkJaWYoICFjb3VudCgkY2QpIHx8ICFjb3VudCgkcGF0aCkgKXsKCQkJCWJyZWFrOwoJCQl9CgkJCWlmKCAkY2RbMF0gPT09ICRwYXRoWzBdICl7CgkJCQlhcnJheV9zaGlmdCggJGNkICk7CgkJCQlhcnJheV9zaGlmdCggJHBhdGggKTsKCQkJCWNvbnRpbnVlOwoJCQl9CgkJCWJyZWFrOwoJCX0KCQlpZiggY291bnQoJGNkKSApewoJCQlmb3JlYWNoKCRjZCBhcyAkZGlybmFtZSl7CgkJCQlhcnJheV9wdXNoKCAkcnRuLCAnLi4nICk7CgkJCX0KCQl9ZWxzZXsKCQkJYXJyYXlfcHVzaCggJHJ0biwgJy4nICk7CgkJfQoJCSRydG4gPSBhcnJheV9tZXJnZSggJHJ0biwgJHBhdGggKTsKCQkkcnRuID0gaW1wbG9kZSggRElSRUNUT1JZX1NFUEFSQVRPUiwgJHJ0biApOwoKCQlpZiggJGlzX2RpciApewoJCQkkcnRuIC49IERJUkVDVE9SWV9TRVBBUkFUT1I7CgkJfQoJCXJldHVybiAkcnRuOwoJfQoKCS8qKgoJICog44OR44K55oOF5aCx44KS5b6X44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gYXJyYXkg44OR44K55oOF5aCxCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBwYXRoaW5mbyggJHBhdGggKXsKCQlpZihzdHJwb3MoJHBhdGgsJyMnKSE9PWZhbHNlKXsgbGlzdCgkcGF0aCwgJGhhc2gpID0gZXhwbG9kZSggJyMnLCAkcGF0aCwgMiApOyB9CgkJaWYoc3RycG9zKCRwYXRoLCc/JykhPT1mYWxzZSl7IGxpc3QoJHBhdGgsICRxdWVyeSkgPSBleHBsb2RlKCAnPycsICRwYXRoLCAyICk7IH0KCgkJJHBhdGhpbmZvID0gcGF0aGluZm8oICRwYXRoICk7CgkJJHBhdGhpbmZvWydmaWxlbmFtZSddID0gJHRoaXMtPnRyaW1fZXh0ZW5zaW9uKCAkcGF0aGluZm9bJ2Jhc2VuYW1lJ10gKTsKCQkkcGF0aGluZm9bJ2V4dGVuc2lvbiddID0gJHRoaXMtPmdldF9leHRlbnNpb24oICRwYXRoaW5mb1snYmFzZW5hbWUnXSApOwoJCSRwYXRoaW5mb1sncXVlcnknXSA9IChpc3NldCgkcXVlcnkpJiZzdHJsZW4oJHF1ZXJ5KSA/ICc/Jy4kcXVlcnkgOiBudWxsKTsKCQkkcGF0aGluZm9bJ2hhc2gnXSA9IChpc3NldCgkaGFzaCkmJnN0cmxlbigkaGFzaCkgPyAnIycuJGhhc2ggOiBudWxsKTsKCQlyZXR1cm4gJHBhdGhpbmZvOwoJfQoKCS8qKgoJICog44OR44K55oOF5aCx44GL44KJ44CB44OV44Kh44Kk44Or5ZCN44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga7jg5HjgrkKCSAqIEByZXR1cm4gc3RyaW5nIOaKnOOBjeWHuuOBleOCjOOBn+ODleOCoeOCpOODq+WQjQoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2Jhc2VuYW1lKCAkcGF0aCApewoJCSRwYXRoID0gcGF0aGluZm8oICRwYXRoICwgUEFUSElORk9fQkFTRU5BTUUgKTsKCQlpZiggIXN0cmxlbigkcGF0aCA/PyAnJykgKXskcGF0aCA9IG51bGw7fQoJCXJldHVybiAkcGF0aDsKCX0KCgkvKioKCSAqIOODkeOCueaDheWgseOBi+OCieOAgeaLoeW8teWtkOOCkumZpOOBhOOBn+ODleOCoeOCpOODq+WQjeOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcmV0dXJuIHN0cmluZyDmi6HlvLXlrZDjgYzpmaTjgYvjgozjgZ/jg5HjgrkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHRyaW1fZXh0ZW5zaW9uKCAkcGF0aCApewoJCSRwYXRoaW5mbyA9IHBhdGhpbmZvKCAkcGF0aCApOwoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cygnZXh0ZW5zaW9uJywgJHBhdGhpbmZvKSApewoJCQkkcGF0aGluZm9bJ2V4dGVuc2lvbiddID0gJyc7CgkJfQoJCSRSVE4gPSBwcmVnX3JlcGxhY2UoICcvXC4nLnByZWdfcXVvdGUoICRwYXRoaW5mb1snZXh0ZW5zaW9uJ10sICcvJyApLickLycgLCAnJyAsICRwYXRoID8/ICcnICk7CgkJcmV0dXJuICRSVE47Cgl9CgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vlkI3jgpLlkKvjgoDjg5Hjgrnmg4XloLHjgYvjgonjgIHjg5XjgqHjgqTjg6vjgYzmoLzntI3jgZXjgozjgabjgYTjgovjg4fjgqPjg6zjgq/jg4jjg6rlkI3jgpLlj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBzdHJpbmcg6Kaq44OH44Kj44Os44Kv44OI44Oq44Gu44OR44K5CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfZGlycGF0aCggJHBhdGggKXsKCQkkcGF0aCA9IHBhdGhpbmZvKCAkcGF0aCAsIFBBVEhJTkZPX0RJUk5BTUUgKTsKCQlpZiggIXN0cmxlbigkcGF0aCA/PyAnJykgKXskcGF0aCA9IG51bGw7fQoJCXJldHVybiAkcGF0aDsKCX0KCgkvKioKCSAqIOODkeOCueaDheWgseOBi+OCieOAgeaLoeW8teWtkOOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcmV0dXJuIHN0cmluZyDmi6HlvLXlrZAKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9leHRlbnNpb24oICRwYXRoICl7CgkJaWYoIGlzX251bGwoJHBhdGgpICl7IHJldHVybiBudWxsOyB9CgkJJHBhdGggPSBwcmVnX3JlcGxhY2UoJy9cIy4qJC9zaScsICcnLCAkcGF0aCk7CgkJJHBhdGggPSBwcmVnX3JlcGxhY2UoJy9cPy4qJC9zaScsICcnLCAkcGF0aCk7CgkJJHBhdGggPSBwYXRoaW5mbyggJHBhdGggLCBQQVRISU5GT19FWFRFTlNJT04gKTsKCQlpZighc3RybGVuKCRwYXRoID8/ICcnKSl7JHBhdGggPSBudWxsO30KCQlyZXR1cm4gJHBhdGg7Cgl9CgoKCS8qKgoJICogQ1NW44OV44Kh44Kk44Or44KS6Kqt44G/6L6844KA44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjga5DU1bjg5XjgqHjgqTjg6vjga7jg5HjgrkKCSAqIEBwYXJhbSBhcnJheSAkb3B0aW9ucyDjgqrjg5fjgrfjg6fjg7MKCSAqIC0gZGVsaW1pdGVyID0g5Yy65YiH44KK5paH5a2XKOecgeeVpeaZguOAgeOCq+ODs+ODnikKCSAqIC0gZW5jbG9zdXJlID0g44Kv44Ot44O844K444Oj44O85paH5a2XKOecgeeVpeaZguOAgeODgOODluODq+OCr+OCquODvOODiCkKCSAqIC0gc2l6ZSA9IOS4gOW6puOBq+iqreOBv+i+vOOCgOOCteOCpOOCuijnnIHnlaXmmYLjgIExMDAwMCkKCSAqIC0gY2hhcnNldCA9IOaWh+Wtl+OCu+ODg+ODiCjnnIHnlaXmmYLjgIFVVEYtOCkKCSAqIEByZXR1cm4gYXJyYXl8Ym9vbCDoqq3jgb/ovrzjgb/jgavmiJDlip/jgZfjgZ/loLTlkIjjgIHooYzliJfjgpLmoLzntI3jgZfjgZ/phY3liJfjgIHlpLHmlZfjgZfjgZ/loLTlkIjjgavjga8gYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJlYWRfY3N2KCAkcGF0aCAsICRvcHRpb25zID0gYXJyYXkoKSApewoJCS8vICRvcHRpb25zWydjaGFyc2V0J10g44Gv44CB5L+d5a2Y44GV44KM44Gm44GE44KLQ1NW44OV44Kh44Kk44Or44Gu5paH5a2X44Ko44Oz44Kz44O844OJ44Gn44GZ44CCCgkJLy8g55yB55Wl5pmC44GvIFVURi04IOOBi+OCieOAgeWGhemDqOOCqOODs+OCs+ODvOODh+OCo+ODs+OCsOOBq+WkieaPm+OBl+OBvuOBmeOAggoKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCgkJaWYoICEkdGhpcy0+aXNfZmlsZSggJHBhdGggKSApewoJCQkvLyDjg5XjgqHjgqTjg6vjgYzjgarjgZHjgozjgbBmYWxzZeOCkui/lOOBmQoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQkvLyBOb3JtYWxpemUgJG9wdGlvbnMKCQlpZiggIWlzX2FycmF5KCRvcHRpb25zKSApewoJCQkkb3B0aW9ucyA9IGFycmF5KCk7CgkJfQoJCWlmKCAhaXNzZXQoJG9wdGlvbnNbJ2RlbGltaXRlciddKSB8fCAhc3RybGVuKCAkb3B0aW9uc1snZGVsaW1pdGVyJ10gPz8gJycgKSApICAgIHsgJG9wdGlvbnNbJ2RlbGltaXRlciddID0gJywnOyB9CgkJaWYoICFpc3NldCgkb3B0aW9uc1snZW5jbG9zdXJlJ10pIHx8ICFzdHJsZW4oICRvcHRpb25zWydlbmNsb3N1cmUnXSA/PyAnJyApICkgICAgeyAkb3B0aW9uc1snZW5jbG9zdXJlJ10gPSAnIic7IH0KCQlpZiggIWlzc2V0KCRvcHRpb25zWydzaXplJ10pICAgICAgfHwgIXN0cmxlbiggJG9wdGlvbnNbJ3NpemUnXSA/PyAnJyApICkgICAgICAgICB7ICRvcHRpb25zWydzaXplJ10gPSAxMDAwMDsgfQoJCWlmKCAhaXNzZXQoJG9wdGlvbnNbJ2NoYXJzZXQnXSkgICB8fCAhc3RybGVuKCAkb3B0aW9uc1snY2hhcnNldCddID8/ICcnICkgKSAgICAgIHsgJG9wdGlvbnNbJ2NoYXJzZXQnXSA9ICdVVEYtOCxTSklTLXdpbixldWNKUC13aW4sU0pJUyxFVUMtSlAnOyB9Ly/ihpBDU1bjga7mloflrZfjgrvjg4Pjg4gKCgkJJFJUTiA9IGFycmF5KCk7CgkJJGZwID0gZm9wZW4oICRwYXRoLCAncicgKTsKCQlpZiggIWlzX3Jlc291cmNlKCAkZnAgKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQl3aGlsZSggJFNNTUVNTyA9IGZnZXRjc3YoICRmcCAsIGludHZhbCggJG9wdGlvbnNbJ3NpemUnXSApICwgJG9wdGlvbnNbJ2RlbGltaXRlciddICwgJG9wdGlvbnNbJ2VuY2xvc3VyZSddICkgKXsKCQkJZm9yZWFjaCggJFNNTUVNTyBhcyAka2V5PT4kcm93ICl7CgkJCQkkU01NRU1PWyRrZXldID0gbWJfY29udmVydF9lbmNvZGluZyggJHJvdyA/PyAnJyAsIG1iX2ludGVybmFsX2VuY29kaW5nKCksICRvcHRpb25zWydjaGFyc2V0J10gKTsKCQkJfQoJCQlhcnJheV9wdXNoKCAkUlROICwgJFNNTUVNTyApOwoJCX0KCQlmY2xvc2UoJGZwKTsKCQlyZXR1cm4gJFJUTjsKCX0gLy8gcmVhZF9jc3YoKQoKCS8qKgoJICog6YWN5YiX44KSQ1NW5b2i5byP44Gr5aSJ5o+b44GZ44KL44CCCgkgKgoJICog5pS56KGM44Kz44O844OJ44GvTEbjgaflh7rlipvjgZXjgozjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gYXJyYXkgJGFycmF5IDLmrKHlhYPphY3liJcKCSAqIEBwYXJhbSBhcnJheSAkb3B0aW9ucyDjgqrjg5fjgrfjg6fjg7MKCSAqIC0gY2hhcnNldCA9IOaWh+Wtl+OCu+ODg+ODiCjnnIHnlaXmmYLjgIFVVEYtOCkKCSAqIEByZXR1cm4gc3RyaW5nIOeUn+aIkOOBleOCjOOBn0NTVuW9ouW8j+OBruODhuOCreOCueODiAoJICovCglwdWJsaWMgZnVuY3Rpb24gbWtfY3N2KCAkYXJyYXkgLCAkb3B0aW9ucyA9IGFycmF5KCkgKXsKCQkvLyAkb3B0aW9uc1snY2hhcnNldCddIOOBr+OAgeWHuuWKm+OBleOCjOOCi0NTVuW9ouW8j+OBruaWh+Wtl+OCqOODs+OCs+ODvOODieOCkuaMh+WumuOBl+OBvuOBmeOAggoJCS8vIOecgeeVpeaZguOBryBVVEYtOCDjgavlpInmj5vjgZfjgabov5TjgZfjgb7jgZnjgIIKCQlpZiggIWlzX2FycmF5KCAkYXJyYXkgKSApeyAkYXJyYXkgPSBhcnJheSgpOyB9CgoJCS8vIE5vcm1hbGl6ZSAkb3B0aW9ucwoJCWlmKCAhaXNfYXJyYXkoJG9wdGlvbnMpICl7CgkJCSRvcHRpb25zID0gYXJyYXkoKTsKCQl9CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCAnY2hhcnNldCcsICRvcHRpb25zICkgKXsKCQkJJG9wdGlvbnNbJ2NoYXJzZXQnXSA9IG51bGw7CgkJfQoJCWlmKCAhaXNzZXQoJG9wdGlvbnNbJ2NoYXJzZXQnXSkgfHwgIXN0cmxlbiggJG9wdGlvbnNbJ2NoYXJzZXQnXSA/PyAnJyApICl7CgkJCSRvcHRpb25zWydjaGFyc2V0J10gPSAnVVRGLTgnOwoJCX0KCgkJJFJUTiA9ICcnOwoJCWZvcmVhY2goICRhcnJheSBhcyAkTGluZSApewoJCQlpZiggaXNfbnVsbCggJExpbmUgKSApeyBjb250aW51ZTsgfQoJCQlpZiggIWlzX2FycmF5KCAkTGluZSApICl7ICRMaW5lID0gYXJyYXkoKTsgfQoJCQlmb3JlYWNoKCAkTGluZSBhcyAkY2VsbCApewoJCQkJJGNlbGwgPSBtYl9jb252ZXJ0X2VuY29kaW5nKCAkY2VsbCA/PyAnJyAsICRvcHRpb25zWydjaGFyc2V0J10pOwoJCQkJaWYoIHByZWdfbWF0Y2goICcvIi8nICwgJGNlbGwgPz8gJycgKSApewoJCQkJCSRjZWxsID0gcHJlZ19yZXBsYWNlKCAnLyIvJyAsICciIicgLCAkY2VsbCA/PyAnJyk7CgkJCQl9CgkJCQlpZiggc3RybGVuKCAkY2VsbCApICl7CgkJCQkJJGNlbGwgPSAnIicuJGNlbGwuJyInOwoJCQkJfQoJCQkJJFJUTiAuPSAkY2VsbC4nLCc7CgkJCX0KCQkJJFJUTiA9IHByZWdfcmVwbGFjZSggJy8sJC8nICwgJycgLCAkUlROICk7CgkJCSRSVE4gLj0gIlxuIjsKCQl9CgkJcmV0dXJuICRSVE47Cgl9IC8vIG1rX2NzdigpCgoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgpLopIfoo73jgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRmcm9tIOOCs+ODlOODvOWFg+ODleOCoeOCpOODq+OBruODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkdG8g44Kz44OU44O85YWI44Gu44OR44K5CgkgKiBAcGFyYW0gaW50ICRwZXJtIOS/neWtmOOBmeOCi+ODleOCoeOCpOODq+OBq+S4juOBiOOCi+ODkeODvOODn+ODg+OCt+ODp+ODswoJICogQHJldHVybiBib29sIOaIkOWKn+aZguOBqyBgdHJ1ZWDjgIHlpLHmlZfmmYLjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNvcHkoICRmcm9tICwgJHRvICwgJHBlcm0gPSBudWxsICl7CgkJJGZyb20gPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkZnJvbSk7CgkJJHRvICAgPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkdG8gICk7CgoJCWlmKCAhJHRoaXMtPmlzX2ZpbGUoICRmcm9tICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZiggISR0aGlzLT5pc19yZWFkYWJsZSggJGZyb20gKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQlpZiggJHRoaXMtPmlzX2ZpbGUoICR0byApICl7CgkJCS8vCeOBvuOBo+OBn+OBj+WQjOOBmOODleOCoeOCpOODq+OBoOOBo+OBn+WgtOWQiOOBr+OAgeikh+ijveOBl+OBquOBhOOBp3RydWXjgpLov5TjgZnjgIIKCQkJaWYoIG1kNV9maWxlKCAkZnJvbSApID09IG1kNV9maWxlKCAkdG8gKSAmJiBmaWxlc2l6ZSggJGZyb20gKSA9PSBmaWxlc2l6ZSggJHRvICkgKXsKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJfQoJCWlmKCAhQGNvcHkoICRmcm9tICwgJHRvICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkdGhpcy0+Y2htb2QoICR0byAsICRwZXJtICk7CgkJcmV0dXJuIHRydWU7Cgl9Ly9jb3B5KCkKCgkvKioKCSAqIOODh+OCo+ODrOOCr+ODiOODquOCkuWGjeW4sOeahOOBq+ikh+ijveOBmeOCiyjkuIvlsaTjg4fjgqPjg6zjgq/jg4jjg6rjgoLlhajjgabjgrPjg5Tjg7wpCgkgKgoJICog44OH44Kj44Os44Kv44OI44Oq44KS44CB5ZCr44G+44KM44KL5YaF5a6544GU44Go6KSH6KO944GX44G+44GZ44CCCgkgKiDlj5fjgZHlj5bjgaPjgZ/jg5HjgrnjgYzjg5XjgqHjgqTjg6vjga7loLTlkIjjga/jgIHljZjkvZPjga7jg5XjgqHjgqTjg6vjgYzopIfoo73jgZXjgozjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRmcm9tIOOCs+ODlOODvOWFg+ODleOCoeOCpOODq+OBruODkeOCuQoJICogQHBhcmFtIHN0cmluZyAkdG8g44Kz44OU44O85YWI44Gu44OR44K5CgkgKiBAcGFyYW0gaW50ICRwZXJtIOS/neWtmOOBmeOCi+ODleOCoeOCpOODq+OBq+S4juOBiOOCi+ODkeODvOODn+ODg+OCt+ODp+ODswoJICogQHJldHVybiBib29sIOaIkOWKn+aZguOBqyBgdHJ1ZWDjgIHlpLHmlZfmmYLjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNvcHlfciggJGZyb20gLCAkdG8gLCAkcGVybSA9IG51bGwgKXsKCQkkZnJvbSA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRmcm9tKTsKCQkkdG8gICA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCR0byAgKTsKCgkJJHJlc3VsdCA9IHRydWU7CgoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJGZyb20gKSApewoJCQlpZiggJHRoaXMtPm1rZGlyX3IoIGRpcm5hbWUoICR0byApICkgKXsKCQkJCWlmKCAhJHRoaXMtPmNvcHkoICRmcm9tICwgJHRvICwgJHBlcm0gKSApewoJCQkJCSRyZXN1bHQgPSBmYWxzZTsKCQkJCX0KCQkJfWVsc2V7CgkJCQkkcmVzdWx0ID0gZmFsc2U7CgkJCX0KCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZGlyKCAkZnJvbSApICl7CgkJCWlmKCAhJHRoaXMtPmlzX2RpciggJHRvICkgKXsKCQkJCWlmKCAhJHRoaXMtPm1rZGlyX3IoICR0byApICl7CgkJCQkJJHJlc3VsdCA9IGZhbHNlOwoJCQkJfQoJCQl9CgkJCSRpdGVtbGlzdCA9ICR0aGlzLT5scyggJGZyb20gKTsKCQkJaWYoIGlzX2FycmF5KCRpdGVtbGlzdCkgKXsKCQkJCWZvcmVhY2goICRpdGVtbGlzdCBhcyAkTGluZSApewoJCQkJCWlmKCAkTGluZSA9PSAnLicgfHwgJExpbmUgPT0gJy4uJyApeyBjb250aW51ZTsgfQoJCQkJCWlmKCAkdGhpcy0+aXNfZGlyKCAkZnJvbS5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCQkJaWYoICR0aGlzLT5pc19maWxlKCAkdG8uRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSApICl7CgkJCQkJCQljb250aW51ZTsKCQkJCQkJfWVsc2VpZiggISR0aGlzLT5pc19kaXIoICR0by5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCQkJCWlmKCAhJHRoaXMtPm1rZGlyX3IoICR0by5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCQkJCQkkcmVzdWx0ID0gZmFsc2U7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJaWYoICEkdGhpcy0+Y29weV9yKCAkZnJvbS5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICwgJHRvLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgLCAkcGVybSApICl7CgkJCQkJCQkkcmVzdWx0ID0gZmFsc2U7CgkJCQkJCX0KCQkJCQkJY29udGludWU7CgkJCQkJfWVsc2VpZiggJHRoaXMtPmlzX2ZpbGUoICRmcm9tLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgKSApewoJCQkJCQlpZiggISR0aGlzLT5jb3B5X3IoICRmcm9tLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgLCAkdG8uRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSAsICRwZXJtICkgKXsKCQkJCQkJCSRyZXN1bHQgPSBmYWxzZTsKCQkJCQkJfQoJCQkJCQljb250aW51ZTsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9CgoJCXJldHVybiAkcmVzdWx0OwoJfSAvLyBjb3B5X3IoKQoKCS8qKgoJICog44OR44O844Of44OD44K344On44Oz44KS5aSJ5pu044GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkZmlsZXBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcGFyYW0gaW50ICRwZXJtIOS4juOBiOOCi+ODkeODvOODn+ODg+OCt+ODp+ODswoJICogQHJldHVybiBib29sIOaIkOWKn+aZguOBqyBgdHJ1ZWDjgIHlpLHmlZfmmYLjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNobW9kKCAkZmlsZXBhdGgsICRwZXJtID0gbnVsbCApewoJCSRmaWxlcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRmaWxlcGF0aCk7CgkJaWYoICFmaWxlX2V4aXN0cygkZmlsZXBhdGgpICl7CgkJCXJldHVybjsKCQl9CgoJCWlmKCBpc19udWxsKCAkcGVybSApICl7CgkJCWlmKCAkdGhpcy0+aXNfZGlyKCAkZmlsZXBhdGggKSApewoJCQkJJHBlcm0gPSAkdGhpcy0+ZGVmYXVsdF9wZXJtaXNzaW9uWydkaXInXTsKCQkJfWVsc2V7CgkJCQkkcGVybSA9ICR0aGlzLT5kZWZhdWx0X3Blcm1pc3Npb25bJ2ZpbGUnXTsKCQkJfQoJCX0KCQlpZiggaXNfbnVsbCggJHBlcm0gKSApewoJCQkkcGVybSA9IDA3NzU7IC8vIOOCs+ODs+ODleOCo+OCsOOBq+ioreWumuODouODrOOBjOOBguOBo+OBn+WgtOWQiAoJCX0KCQlyZXR1cm4gY2htb2QoICRmaWxlcGF0aCAsICRwZXJtICk7Cgl9IC8vIGNobW9kKCkKCgkvKioKCSAqIOODkeODvOODn+ODg+OCt+ODp+ODs+OCkuWGjeW4sOeahOOBq+WkieabtOOBmeOCi+OAgijkuIvlsaTjga7jg5XjgqHjgqTjg6vjgoTjg4fjgqPjg6zjgq/jg4jjg6rjgoLlhajjgaYpCgkgKgoJICogYCRwZXJtX2ZpbGVgIOOBqCBgJHBlcm1fZGlyYCDjgYznnIHnlaXjgZXjgozjgZ/loLTlkIjjga/jgIHku6Pjgo/jgorjgavliJ3mnJ/ljJbmmYLjgavnmbvpjLLjgZXjgozjgZ/jg4fjg5Xjgqnjg6vjg4jjga7jg5Hjg7zjg5/jg4Pjgrfjg6fjg7PjgYzkuI7jgYjjgonjgozjgb7jgZnjgIIKCSAqCgkgKiDnrKwy5byV5pWwIGAkcGVybV9kaXJgIOOBjOecgeeVpeOBleOCjOOAgeacgOWIneOBruW8leaVsCBgJHBlcm1fZmlsZWAg44Gg44GR44GM5LiO44GI44KJ44KM44Gf5aC05ZCI44Gv44CBIOODleOCoeOCpOODq+OBqOODh+OCo+ODrOOCr+ODiOODquOBruS4oeaWueOBqyBgJHBlcm1fZmlsZWAg44GM6YGp55So44GV44KM44G+44GZ44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkZmlsZXBhdGgg5a++6LGh44Gu44OR44K5CgkgKiBAcGFyYW0gaW50ICRwZXJtX2ZpbGUg44OV44Kh44Kk44Or44Gr5LiO44GI44KL44OR44O844Of44OD44K344On44OzICjnnIHnlaXlj68pCgkgKiBAcGFyYW0gaW50ICRwZXJtX2RpciDjg4fjgqPjg6zjgq/jg4jjg6rjgavkuI7jgYjjgovjg5Hjg7zjg5/jg4Pjgrfjg6fjg7MgKOecgeeVpeWPrykKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYLjgasgYHRydWVg44CB5aSx5pWX5pmC44GrIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBjaG1vZF9yKCAkZmlsZXBhdGgsICRwZXJtX2ZpbGUgPSBudWxsLCAkcGVybV9kaXIgPSBudWxsICl7CgkJJGZpbGVwYXRoID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJGZpbGVwYXRoKTsKCQlpZiggIWlzX251bGwoICRwZXJtX2ZpbGUgKSAmJiBpc19udWxsKCRwZXJtX2RpcikgKXsKCQkJLy8g44OR44O844Of44OD44K344On44Oz6Kit5a6a5YCk44GMMeOBpOOBoOOBkeS4juOBiOOCieOCjOOBn+WgtOWQiOOBq+OBr+OAgQoJCQkvLyDjg5XjgqHjgqTjg6vjgavjgoLjg4fjgqPjg6zjgq/jg4jjg6rjgavjgoLpgannlKjjgZnjgovjgIIKCQkJJHBlcm1fZGlyID0gJHBlcm1fZmlsZTsKCQl9CgoJCSRyZXN1bHQgPSB0cnVlOwoKCQlpZiggJHRoaXMtPmlzX2ZpbGUoICRmaWxlcGF0aCApICl7CgkJCWlmKCAhJHRoaXMtPmNobW9kKCAkZmlsZXBhdGgsICRwZXJtX2ZpbGUgKSApewoJCQkJJHJlc3VsdCA9IGZhbHNlOwoJCQl9CgkJfWVsc2VpZiggJHRoaXMtPmlzX2RpciggJGZpbGVwYXRoICkgKXsKCQkJJGl0ZW1saXN0ID0gJHRoaXMtPmxzKCAkZmlsZXBhdGggKTsKCQkJaWYoICEkdGhpcy0+Y2htb2QoICRmaWxlcGF0aCwgJHBlcm1fZGlyICkgKXsKCQkJCSRyZXN1bHQgPSBmYWxzZTsKCQkJfQoJCQlpZiggaXNfYXJyYXkoJGl0ZW1saXN0KSApewoJCQkJZm9yZWFjaCggJGl0ZW1saXN0IGFzICRMaW5lICl7CgkJCQkJaWYoICRMaW5lID09ICcuJyB8fCAkTGluZSA9PSAnLi4nICl7IGNvbnRpbnVlOyB9CgkJCQkJaWYoICEkdGhpcy0+Y2htb2RfciggJGZpbGVwYXRoLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUsICRwZXJtX2ZpbGUsICRwZXJtX2RpciApICl7CgkJCQkJCSRyZXN1bHQgPSBmYWxzZTsKCQkJCQl9CgkJCQkJY29udGludWU7CgkJCQl9CgkJCX0KCQl9CgoJCXJldHVybiAkcmVzdWx0OwoJfQoKCgkvKioKCSAqIOODkeODvOODn+ODg+OCt+ODp+ODs+aDheWgseOCkuiqv+OBueOAgTPmoYHjga7mlbDlrZfjgafov5TjgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoIOWvvuixoeOBruODkeOCuQoJICogQHJldHVybiBpbnR8Ym9vbCDmiJDlip/mmYLjgasgM+ahgeOBruaVsOWtl+OAgeWkseaVl+aZguOBqyBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3Blcm1pc3Npb24oICRwYXRoICl7CgkJJHBhdGggPSAkdGhpcy0+bG9jYWxpemVfcGF0aCgkcGF0aCk7CgoJCWlmKCAhZmlsZV9leGlzdHMoICRwYXRoICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkcGVybSA9IHJ0cmltKCBzcHJpbnRmKCAiJW9cbiIgLCBmaWxlcGVybXMoICRwYXRoICkgKSApOwoJCSRzdGFydCA9IHN0cmxlbiggJHBlcm0gKSAtIDM7CgkJcmV0dXJuIHN1YnN0ciggJHBlcm0gLCAkc3RhcnQgLCAzICk7Cgl9CgoKCS8qKgoJICog44OH44Kj44Os44Kv44OI44Oq44Gr44GC44KL44OV44Kh44Kk44Or5ZCN44Gu44Oq44K544OI44KS6YWN5YiX44Gn6L+U44GZ44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDlr77osaHjg4fjgqPjg6zjgq/jg4jjg6rjga7jg5HjgrkKCSAqIEByZXR1cm4gYXJyYXl8Ym9vbCDmiJDlip/mmYLjgavjg5XjgqHjgqTjg6vjgb7jgZ/jga/jg4fjgqPjg6zjgq/jg4jjg6rlkI3jga7kuIDopqfjgpLmoLzntI3jgZfjgZ/phY3liJfjgIHlpLHmlZfmmYLjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGxzKCRwYXRoKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCgkJaWYoICRwYXRoID09PSBmYWxzZSApeyByZXR1cm4gZmFsc2U7IH0KCQlpZiggIWZpbGVfZXhpc3RzKCAkcGF0aCApICl7IHJldHVybiBmYWxzZTsgfQoJCWlmKCAhJHRoaXMtPmlzX2RpciggJHBhdGggKSApeyByZXR1cm4gZmFsc2U7IH0KCgkJJFJUTiA9IGFycmF5KCk7CgkJJGRyID0gQG9wZW5kaXIoJHBhdGgpOwoJCXdoaWxlKCAoICRlbnQgPSByZWFkZGlyKCAkZHIgKSApICE9PSBmYWxzZSApewoJCQkvLyBDdXJyZW50RGly44GoUGFyZW50RGly44Gv5ZCr44KB44Gq44GECgkJCWlmKCAkZW50ID09ICcuJyB8fCAkZW50ID09ICcuLicgKXsgY29udGludWU7IH0KCQkJYXJyYXlfcHVzaCggJFJUTiAsICRlbnQgKTsKCQl9CgkJY2xvc2VkaXIoJGRyKTsKCQl1c29ydCgkUlROLCAic3RybmF0Y21wIik7CgkJcmV0dXJuCSRSVE47Cgl9Ly9scygpCgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjga7lhoXpg6jjgpLmr5TovIPjgZfjgIEkY29tcGFyaXNvbuOBq+WQq+OBvuOCjOOBquOBhOimgee0oOOCkiR0YXJnZXTjgYvjgonliYrpmaTjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICR0YXJnZXQg44Kv44Oq44O844OL44Oz44Kw5a++6LGh44Gu44OH44Kj44Os44Kv44OI44Oq44OR44K5CgkgKiBAcGFyYW0gc3RyaW5nICRjb21wYXJpc29uIOavlOi8g+OBmeOCi+ODh+OCo+ODrOOCr+ODiOODquOBruODkeOCuQoJICogQHJldHVybiBib29sIOaIkOWKn+aZgiBgdHJ1ZWDjgIHlpLHmlZfmmYIgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNvbXBhcmVfYW5kX2NsZWFudXAoICR0YXJnZXQgLCAkY29tcGFyaXNvbiApewoJCWlmKCBpc19udWxsKCAkY29tcGFyaXNvbiApIHx8IGlzX251bGwoICR0YXJnZXQgKSApeyByZXR1cm4gZmFsc2U7IH0KCgkJJHRhcmdldCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCR0YXJnZXQpOwoJCSRjb21wYXJpc29uID0gJHRoaXMtPmxvY2FsaXplX3BhdGgoJGNvbXBhcmlzb24pOwoKCQlpZiggIWZpbGVfZXhpc3RzKCAkY29tcGFyaXNvbiApICYmIGZpbGVfZXhpc3RzKCAkdGFyZ2V0ICkgKXsKCQkJJHRoaXMtPnJtKCAkdGFyZ2V0ICk7CgkJCXJldHVybiB0cnVlOwoJCX0KCgkJaWYoICR0aGlzLT5pc19kaXIoICR0YXJnZXQgKSApewoJCQkkZmxpc3QgPSAkdGhpcy0+bHMoICR0YXJnZXQgKTsKCQl9ZWxzZXsKCQkJcmV0dXJuIHRydWU7CgkJfQoKCQlpZiggaXNfYXJyYXkoJGZsaXN0KSApewoJCQlmb3JlYWNoICggJGZsaXN0IGFzICRMaW5lICl7CgkJCQlpZiggJExpbmUgPT0gJy4nIHx8ICRMaW5lID09ICcuLicgKXsgY29udGludWU7IH0KCQkJCSR0aGlzLT5jb21wYXJlX2FuZF9jbGVhbnVwKCAkdGFyZ2V0LkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgLCAkY29tcGFyaXNvbi5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICk7CgkJCX0KCQl9CgoJCXJldHVybiB0cnVlOwoJfS8vY29tcGFyZV9hbmRfY2xlYW51cCgpCgoJLyoqCgkgKiDjg4fjgqPjg6zjgq/jg4jjg6rjgpLlkIzmnJ/jgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXRoX3N5bmNfZnJvbSDlkIzmnJ/lhYPjg4fjgqPjg6zjgq/jg4jjg6oKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGhfc3luY190byDlkIzmnJ/lhYjjg4fjgqPjg6zjgq/jg4jjg6oKCSAqIEByZXR1cm4gYm9vbCDluLjjgasgYHRydWVgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gc3luY19kaXIoICRwYXRoX3N5bmNfZnJvbSAsICRwYXRoX3N5bmNfdG8gKXsKCQkkdGhpcy0+Y29weV9yKCAkcGF0aF9zeW5jX2Zyb20gLCAkcGF0aF9zeW5jX3RvICk7CgkJJHRoaXMtPmNvbXBhcmVfYW5kX2NsZWFudXAoICRwYXRoX3N5bmNfdG8gLCAkcGF0aF9zeW5jX2Zyb20gKTsKCQlyZXR1cm4gdHJ1ZTsKCX0vL3N5bmNfZGlyKCkKCgkvKioKCSAqIOaMh+WumuOBleOCjOOBn+ODh+OCo+ODrOOCr+ODiOODquS7peS4i+OBruOAgeWFqOOBpuOBruepuuOBo+OBveOBruODh+OCo+ODrOOCr+ODiOODquOCkuWJiumZpOOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg44OH44Kj44Os44Kv44OI44Oq44OR44K5CgkgKiBAcGFyYW0gYXJyYXkgJG9wdGlvbnMg44Kq44OX44K344On44OzCgkgKiBAcmV0dXJuIGJvb2wg5oiQ5Yqf5pmCIGB0cnVlYOOAgeWkseaVl+aZgiBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gcmVtb3ZlX2VtcHR5X2RpciggJHBhdGggLCAkb3B0aW9ucyA9IGFycmF5KCkgKXsKCQkkcGF0aCA9ICR0aGlzLT5sb2NhbGl6ZV9wYXRoKCRwYXRoKTsKCgkJaWYoICEkdGhpcy0+aXNfd3JpdGFibGUoICRwYXRoICkgKXsgcmV0dXJuIGZhbHNlOyB9CgkJaWYoICEkdGhpcy0+aXNfZGlyKCAkcGF0aCApICl7IHJldHVybiBmYWxzZTsgfQoJCWlmKCAkdGhpcy0+aXNfZmlsZSggJHBhdGggKSB8fCAkdGhpcy0+aXNfbGluayggJHBhdGggKSApeyByZXR1cm4gZmFsc2U7IH0KCQkkcGF0aCA9IEByZWFscGF0aCggJHBhdGggKTsKCQlpZiggJHBhdGggPT09IGZhbHNlICl7IHJldHVybiBmYWxzZTsgfQoKCQkvLyBOb3JtYWxpemUgJG9wdGlvbnMKCQlpZiggIWlzX2FycmF5KCRvcHRpb25zKSApewoJCQkkb3B0aW9ucyA9IGFycmF5KCk7CgkJfQoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cyggJ2RlcHRoJywgJG9wdGlvbnMgKSApewoJCQkkb3B0aW9uc1snZGVwdGgnXSA9IG51bGw7CgkJfQoKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCS8vIOasoeOBrumajuWxpOOCkuWHpueQhuOBmeOCi+OBi+OBqeOBhuOBi+OBruOCueOCpOODg+ODgQoJCSRzd2l0Y2hfZG9uZXh0ID0gZmFsc2U7CgkJaWYoIGlzX251bGwoICRvcHRpb25zWydkZXB0aCddICkgKXsKCQkJLy8g5rex44GV44Gu5oyH5a6a44GM44Gq44GR44KM44Gw5o6Y44KLCgkJCSRzd2l0Y2hfZG9uZXh0ID0gdHJ1ZTsKCQl9ZWxzZWlmKCAhaXNfaW50KCAkb3B0aW9uc1snZGVwdGgnXSApICl7CgkJCS8vIOaMh+WumuOBjG51bGzjgafjgoLmlbDlgKTjgafjgoLjgarjgZHjgozjgbDmjpjjgonjgarjgYQKCQkJJHN3aXRjaF9kb25leHQgPSBmYWxzZTsKCQl9ZWxzZWlmKCAkb3B0aW9uc1snZGVwdGgnXSA8PSAwICl7CgkJCS8vIOaMh+WumuOBjOOCvOODreS7peS4i+OBquOCieOAgeS7iuWbnuOBruWHpueQhuOCkuOBl+OBpue1guS6hgoJCQkkc3dpdGNoX2RvbmV4dCA9IGZhbHNlOwoJCX1lbHNlaWYoICRvcHRpb25zWydkZXB0aCddID4gMCApewoJCQkvLyDmjIflrprjgYzmraPjga7mlbAo44K844Ot44Gv5ZCr44G+44Gq44GEKeOBquOCieOAgeaOmOOCiwoJCQkkb3B0aW9uc1snZGVwdGgnXSAtLTsKCQkJJHN3aXRjaF9kb25leHQgPSB0cnVlOwoJCX1lbHNlewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCS8vIC8g5qyh44Gu6ZqO5bGk44KS5Yem55CG44GZ44KL44GL44Gp44GG44GL44Gu44K544Kk44OD44OBCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgkJJGZsaXN0ID0gJHRoaXMtPmxzKCAkcGF0aCApOwoJCWlmKCAhY291bnQoICRmbGlzdCApICl7CgkJCS8vIOmWi+OBhOOBn+ODh+OCo+ODrOOCr+ODiOODquOBruS4rei6q+OBjAoJCQkvLyAiLiIg44GoICIuLiIg44Gu44G/44Gg44Gj44Gf5aC05ZCICgkJCS8vIOWJiumZpOOBl+OBpue1guS6hgoJCQkkcmVzdWx0ID0gQHJtZGlyKCAkcGF0aCApOwoJCQlyZXR1cm4JJHJlc3VsdDsKCQl9CgkJJGFsaXZlID0gZmFsc2U7CgkJZm9yZWFjaCAoICRmbGlzdCBhcyAkTGluZSApewoJCQlpZiggJExpbmUgPT0gJy4nIHx8ICRMaW5lID09ICcuLicgKXsgY29udGludWU7IH0KCQkJaWYoICR0aGlzLT5pc19saW5rKCAkcGF0aC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCS8vIOOCt+ODs+ODnOODquODg+OCr+ODquODs+OCr+OBr+eEoeimluOBmeOCi+OAggoJCQl9ZWxzZWlmKCAkdGhpcy0+aXNfZGlyKCAkcGF0aC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICkgKXsKCQkJCWlmKCAkc3dpdGNoX2RvbmV4dCApewoJCQkJCS8vIOOBleOCieOBq+aOmOOCjOOBqOaMh+S7pOOBjOOBguOCjOOBsOOAgeaOmOOCi+OAggoJCQkJCSR0aGlzLT5yZW1vdmVfZW1wdHlfZGlyKCAkcGF0aC5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICwgJG9wdGlvbnMgKTsKCQkJCX0KCQkJfQoJCQlpZiggZmlsZV9leGlzdHMoICRwYXRoLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgKSApewoJCQkJJGFsaXZlID0gdHJ1ZTsKCQkJfQoJCX0KCQlpZiggISRhbGl2ZSApewoJCQkkcmVzdWx0ID0gQHJtZGlyKCAkcGF0aCApOwoJCQlyZXR1cm4JJHJlc3VsdDsKCQl9CgkJcmV0dXJuIHRydWU7Cgl9Ly9yZW1vdmVfZW1wdHlfZGlyKCkKCgoJLyoqCgkgKiDmjIflrprjgZXjgozjgZ8y44Gk44Gu44OH44Kj44Os44Kv44OI44Oq44Gu5YaF5a6544KS5q+U6LyD44GX44CB44G+44Gj44Gf44GP5ZCM44GY44GL44Gp44GG44GL6Kq/44G544KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkZGlyX2Eg5q+U6LyD5a++6LGh44OH44Kj44Os44Kv44OI44OqQQoJICogQHBhcmFtIHN0cmluZyAkZGlyX2Ig5q+U6LyD5a++6LGh44OH44Kj44Os44Kv44OI44OqQgoJICogQHBhcmFtIGFycmF5ICRvcHRpb25zIOOCquODl+OCt+ODp+ODswoJICogPGRsPgoJICogICA8ZHQ+Ym9vbCAkb3B0aW9uc1snY29tcGFyZV9maWxlY29udGVudCddPC9kdD4KCSAqIAkgICA8ZGQ+44OV44Kh44Kk44Or44Gu5Lit6Lqr44KC5q+U6LyD44GZ44KL44GL77yfPC9kZD4KCSAqICAgPGR0PmJvb2wgJG9wdGlvbnNbJ2NvbXBhcmVfZW1wdHlkaXInXTwvZHQ+CgkgKiAJICAgPGRkPuepuuOBo+OBveOBruODh+OCo+ODrOOCr+ODiOODquOBruacieeEoeOCguipleS+oeOBq+WQq+OCgeOCi+OBi++8nzwvZGQ+CgkgKiA8L2RsPgoJICogQHJldHVybiBib29sIOWQjOOBmOWgtOWQiOOBqyBgdHJ1ZWDjgIHnlbDjgarjgovloLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNvbXBhcmVfZGlyKCAkZGlyX2EgLCAkZGlyX2IgLCAkb3B0aW9ucyA9IGFycmF5KCkgKXsKCQlpZiggKCAkdGhpcy0+aXNfZmlsZSggJGRpcl9hICkgJiYgISR0aGlzLT5pc19maWxlKCAkZGlyX2IgKSApIHx8ICggISR0aGlzLT5pc19maWxlKCAkZGlyX2EgKSAmJiAkdGhpcy0+aXNfZmlsZSggJGRpcl9iICkgKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAoICggJHRoaXMtPmlzX2RpciggJGRpcl9hICkgJiYgISR0aGlzLT5pc19kaXIoICRkaXJfYiApICkgfHwgKCAhJHRoaXMtPmlzX2RpciggJGRpcl9hICkgJiYgJHRoaXMtPmlzX2RpciggJGRpcl9iICkgKSApICYmICRvcHRpb25zWydjb21wYXJlX2VtcHR5ZGlyJ10gKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJLy8gTm9ybWFsaXplICRvcHRpb25zCgkJaWYoICFpc19hcnJheSgkb3B0aW9ucykgKXsKCQkJJG9wdGlvbnMgPSBhcnJheSgpOwoJCX0KCQlpZiggIWFycmF5X2tleV9leGlzdHMoICdjb21wYXJlX2ZpbGVjb250ZW50JywgJG9wdGlvbnMgKSApewoJCQkkb3B0aW9uc1snY29tcGFyZV9maWxlY29udGVudCddID0gbnVsbDsKCQl9CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCAnY29tcGFyZV9lbXB0eWRpcicsICRvcHRpb25zICkgKXsKCQkJJG9wdGlvbnNbJ2NvbXBhcmVfZW1wdHlkaXInXSA9IG51bGw7CgkJfQoKCQlpZiggJHRoaXMtPmlzX2ZpbGUoICRkaXJfYSApICYmICR0aGlzLT5pc19maWxlKCAkZGlyX2IgKSApewoJCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQkvLyDkuKHmlrnjg5XjgqHjgqTjg6vjgaDjgaPjgZ/jgokKCQkJaWYoICRvcHRpb25zWydjb21wYXJlX2ZpbGVjb250ZW50J10gKXsKCQkJCS8vIOODleOCoeOCpOODq+OBruWGheWuueOCguavlOi8g+OBmeOCi+ioreWumuOBruWgtOWQiOOAgQoJCQkJLy8g44Gd44KM44Ge44KM44OV44Kh44Kk44Or44KS6ZaL44GE44Gm5ZCM44GY44GL44Gp44GG44GL44KS5q+U6LyDCgkJCQkkZmlsZWNvbnRlbnRfYSA9ICR0aGlzLT5yZWFkX2ZpbGUoICRkaXJfYSApOwoJCQkJJGZpbGVjb250ZW50X2IgPSAkdGhpcy0+cmVhZF9maWxlKCAkZGlyX2IgKTsKCQkJCWlmKCAkZmlsZWNvbnRlbnRfYSAhPT0gJGZpbGVjb250ZW50X2IgKXsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIHRydWU7CgkJfQoKCQlpZiggJHRoaXMtPmlzX2RpciggJGRpcl9hICkgfHwgJHRoaXMtPmlzX2RpciggJGRpcl9iICkgKXsKCQkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkJLy8g5Lih5pa544OH44Kj44Os44Kv44OI44Oq44Gg44Gj44Gf44KJCgkJCSRjb250bGlzdF9hID0gJHRoaXMtPmxzKCAkZGlyX2EgKTsKCQkJJGNvbnRsaXN0X2IgPSAkdGhpcy0+bHMoICRkaXJfYiApOwoKCQkJaWYoICRvcHRpb25zWydjb21wYXJlX2VtcHR5ZGlyJ10gJiYgJGNvbnRsaXN0X2EgIT09ICRjb250bGlzdF9iICl7CgkJCQkvLyDnqbrjgaPjgb3jga7jg4fjgqPjg6zjgq/jg4jjg6rjgoLljrPlr4bjgavoqZXkvqHjgZnjgovoqK3lrprjgafjgIEKCQkJCS8vIOODh+OCo+ODrOOCr+ODiOODquWGheOBruimgee0oOmFjeWIl+OBruWGheWuueOBjOeVsOOBquOCjOOBsOOAgWZhbHNl44CCCgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCgkJCSRkb25lID0gYXJyYXkoKTsKCQkJZm9yZWFjaCggJGNvbnRsaXN0X2EgYXMgJExpbmUgKXsKCQkJCS8vIEHjgpLjg4Hjgqfjg4Pjgq8KCQkJCWlmKCAkTGluZSA9PSAnLi4nIHx8ICRMaW5lID09ICcuJyApeyBjb250aW51ZTsgfQoJCQkJaWYoICEkdGhpcy0+Y29tcGFyZV9kaXIoICRkaXJfYS5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICwgJGRpcl9iLkRJUkVDVE9SWV9TRVBBUkFUT1IuJExpbmUgLCAkb3B0aW9ucyApICl7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQkJJGRvbmVbJExpbmVdID0gdHJ1ZTsKCQkJfQoKCQkJZm9yZWFjaCggJGNvbnRsaXN0X2IgYXMgJExpbmUgKXsKCQkJCS8vIEHjgavlkKvjgb7jgozjgarjgYvjgaPjgZ9C44KS44OB44Kn44OD44KvCgkJCQlpZiggJGRvbmVbJExpbmVdICl7IGNvbnRpbnVlOyB9CgkJCQlpZiggJExpbmUgPT0gJy4uJyB8fCAkTGluZSA9PSAnLicgKXsgY29udGludWU7IH0KCQkJCWlmKCAhJHRoaXMtPmNvbXBhcmVfZGlyKCAkZGlyX2EuRElSRUNUT1JZX1NFUEFSQVRPUi4kTGluZSAsICRkaXJfYi5ESVJFQ1RPUllfU0VQQVJBVE9SLiRMaW5lICwgJG9wdGlvbnMgKSApewoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJCSRkb25lWyRMaW5lXSA9IHRydWU7CgkJCX0KCgkJfQoKCQlyZXR1cm4gdHJ1ZTsKCX0vL2NvbXBhcmVfZGlyKCkKCgoJLyoqCgkgKiDjgrXjg7zjg5DjgYxVTklY44OR44K544GL6Kq/44G544KL44CCCgkgKgoJICogQHJldHVybiBib29sIFVOSVjjg5HjgrnjgarjgokgYHRydWVg44CB44Gd44KM5Lul5aSW44Gq44KJIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc191bml4KCl7CgkJaWYoIERJUkVDVE9SWV9TRVBBUkFUT1IgPT0gJy8nICl7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9Ly9pc191bml4KCkKCgkvKioKCSAqIOOCteODvOODkOOBjFdpbmRvd3Pjg5HjgrnjgYvoqr/jgbnjgovjgIIKCSAqCgkgKiBAcmV0dXJuIGJvb2wgV2luZG93c+ODkeOCueOBquOCiSBgdHJ1ZWDjgIHjgZ3jgozku6XlpJbjgarjgokgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX3dpbmRvd3MoKXsKCQlpZiggRElSRUNUT1JZX1NFUEFSQVRPUiA9PSAnXFwnICl7CgkJCXJldHVybiB0cnVlOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9Ly9pc193aW5kb3dzKCkKCgoJLyoqCgkgKiDjg5HjgrnjgpLmraPopo/ljJbjgZnjgovjgIIKCSAqCgkgKiDlj5fjgZHlj5bjgaPjgZ/jg5HjgrnjgpLjgIHjgrnjg6njg4Pjgrfjg6XljLrliIfjgorjga7ooajnj77jgavmraPopo/ljJbjgZfjgb7jgZnjgIIKCSAqIFdpbmRvd3Pjga7jg5zjg6rjg6Xjg7zjg6Djg6njg5njg6vjgYzku5jjgYTjgabjgYTjgovloLTlkIjjga/liYrpmaTjgZfjgb7jgZnjgIIKCSAqIFVSSeOCueOCreODvOODoChodHRwLCBodHRwcywgZnRwIOOBquOBqSkg44Gn5aeL44G+44KL5aC05ZCI44CBMuOBpOOBruOCueODqeODg+OCt+ODpeOBp+Wni+OBvuOCi+WgtOWQiChgLy93d3cuZXhhbXBsZS5jb20vYWJjL2Ag44Gq44GpKeOAgeOBk+OCjOOCkuaui+OBl+OBpuato+imj+WMluOBl+OBvuOBmeOAggoJICoKCSAqICAtIOS+i++8miBgXGFcYlxjLmh0bWxgIOKGkiBgL2EvYi9jLmh0bWxgIOODkOODg+OCr+OCueODqeODg+OCt+ODpeOBr+OCueODqeODg+OCt+ODpeOBq+e9ruOBjeaPm+OBiOOCieOCjOOBvuOBmeOAggoJICogIC0g5L6L77yaIGAvYS9iLy8vL2MuaHRtbGAg4oaSIGAvYS9iL2MuaHRtbGAg5L2Z6KiI44Gq44K544Op44OD44K344Ol44Gv44G+44Go44KB44KJ44KM44G+44GZ44CCCgkgKiAgLSDkvovvvJogYEM6XGFcYlxjLmh0bWxgIOKGkiBgL2EvYi9jLmh0bWxgIOODnOODquODpeODvOODoOODqeODmeODq+OBr+WJiumZpOOBleOCjOOBvuOBmeOAggoJICogIC0g5L6L77yaIGBodHRwOi8vYS9iL2MuaHRtbGAg4oaSIGBodHRwOi8vYS9iL2MuaHRtbGAgVVJJ44K544Kt44O844Og44Gv5q6L44GV44KM44G+44GZ44CCCgkgKiAgLSDkvovvvJogYC8vYS9iL2MuaHRtbGAg4oaSIGAvL2EvYi9jLmh0bWxgIOODieODoeOCpOODs+WQjeOBr+aui+OBleOCjOOBvuOBmeOAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJHBhdGgg5q2j6KaP5YyW44GZ44KL44OR44K5CgkgKiBAcmV0dXJuIHN0cmluZyDmraPopo/ljJbjgZXjgozjgZ/jg5HjgrkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIG5vcm1hbGl6ZV9wYXRoKCRwYXRoKXsKCQlpZiggaXNfbnVsbCgkcGF0aCkgKXsgcmV0dXJuIG51bGw7IH0KCQkkcGF0aCA9IHRyaW0oJHBhdGggPz8gJycpOwoJCSRwYXRoID0gJHRoaXMtPmNvbnZlcnRfZW5jb2RpbmcoICRwYXRoICk7Ly/mloflrZfjgrPjg7zjg4njgpLmj4PjgYjjgosKCQkkcGF0aCA9IHByZWdfcmVwbGFjZSggJy9cXC98XFxcXC9zJywgJy8nLCAkcGF0aCApOy8v44OQ44OD44Kv44K544Op44OD44K344Ol44KS44K544Op44OD44K344Ol44Gr572u44GN5o+b44GI44KL44CCCgkJJHBhdGggPSBwcmVnX3JlcGxhY2UoICcvXltBLVpdXFw6XFwvL3MnLCAnLycsICRwYXRoICk7Ly9XaW5kb3dz44Gu44Oc44Oq44Ol44O844Og44Op44OZ44Or44KS5YmK6ZmkCgkJJHByZWZpeCA9ICcnOwoJCWlmKCBwcmVnX21hdGNoKCAnL14oKD86W2EtekEtWjAtOV0rXFw6KT9cXC8pKFxcLy4qKSQvJywgJHBhdGggPz8gJycsICRtYXRjaGVkICkgKXsKCQkJJHByZWZpeCA9ICRtYXRjaGVkWzFdOwoJCQkkcGF0aCA9ICRtYXRjaGVkWzJdOwoJCX0KCQkkcGF0aCA9IHByZWdfcmVwbGFjZSggJy9cXC8rL3MnLCAnLycsICRwYXRoID8/ICcnICk7Ly/ph43opIfjgZnjgovjgrnjg6njg4Pjgrfjg6XjgpIx44Gk44Gr44G+44Go44KB44KLCgkJcmV0dXJuICRwcmVmaXguJHBhdGg7Cgl9CgoKCS8qKgoJICog44OR44K544KST1Pjga7mqJnmupbnmoTjgarooajnj77jgavlpInmj5vjgZnjgovjgIIKCSAqCgkgKiDlj5fjgZHlj5bjgaPjgZ/jg5HjgrnjgpLjgIFPU+OBruaomea6lueahOOBquihqOePvuOBq+WkieaPm+OBl+OBvuOBmeOAggoJICogLSDjgrnjg6njg4Pjgrfjg6Xjgajjg5Djg4Pjgq/jgrnjg6njg4Pjgrfjg6Xjga7pgZXjgYTjgpLlkLjlj47jgZfjgIFgRElSRUNUT1JZX1NFUEFSQVRPUmAg44Gr572u44GN5o+b44GI44G+44GZ44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDjg63jg7zjgqvjg6njgqTjgrrjgZnjgovjg5HjgrkKCSAqIEByZXR1cm4gc3RyaW5nIOODreODvOOCq+ODqeOCpOOCuuOBleOCjOOBn+ODkeOCuQoJICovCglwdWJsaWMgZnVuY3Rpb24gbG9jYWxpemVfcGF0aCgkcGF0aCl7CgkJaWYoIGlzX251bGwoJHBhdGgpICl7IHJldHVybiBudWxsOyB9CgkJJHBhdGggPSBwcmVnX3JlcGxhY2UoICcvXFwvfFxcXFwvcycsICcvJywgJHBhdGggKTsvL+S4gOaXpuOCueODqeODg+OCt+ODpeOBq+e9ruOBjeaPm+OBiOOCi+OAggoJCWlmKCAkdGhpcy0+aXNfdW5peCgpICl7CgkJCS8vIFdpbmRvd3Pku6XlpJbjgaDjgaPjgZ/loLTlkIjjgavjgIHjg5zjg6rjg6Xjg7zjg6Djg6njg5njg6vjgpLlj5fjgZHlj5bjgaPjgZ/jgonliYrpmaTjgZnjgosKCQkJJHBhdGggPSBwcmVnX3JlcGxhY2UoICcvXltBLVpdXFw6XFwvL3MnLCAnLycsICRwYXRoICk7Ly9XaW5kb3dz44Gu44Oc44Oq44Ol44O844Og44Op44OZ44Or44KS5YmK6ZmkCgkJfQoJCSRwYXRoID0gcHJlZ19yZXBsYWNlKCAnL1xcLysvcycsICcvJywgJHBhdGggKTsvL+mHjeikh+OBmeOCi+OCueODqeODg+OCt+ODpeOCkjHjgaTjgavjgb7jgajjgoHjgosKCQkkcGF0aCA9IHByZWdfcmVwbGFjZSggJy9cXC98XFxcXC9zJywgRElSRUNUT1JZX1NFUEFSQVRPUiwgJHBhdGggKTsKCQlyZXR1cm4gJHBhdGg7Cgl9CgoJLyoqCgkgKiDlj5fjgZHlj5bjgaPjgZ/jg4bjgq3jgrnjg4jjgpLjgIHjg5XjgqHjgqTjg6vjgrfjgrnjg4bjg6Djgqjjg7PjgrPjg7zjg4njgavlpInmj5vjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gbWl4ZWQgJHRleHQg44OG44Kt44K544OICgkgKiBAcGFyYW0gc3RyaW5nICR0b19lbmNvZGluZyDmloflrZfjgrvjg4Pjg4go55yB55Wl5pmC44CB5YaF6YOo5paH5a2X44K744OD44OIKQoJICogQHBhcmFtIHN0cmluZyAkZnJvbV9lbmNvZGluZyDlpInmj5vliY3jga7mloflrZfjgrvjg4Pjg4gKCSAqIEByZXR1cm4gc3RyaW5nIOaWh+Wtl+OCu+ODg+ODiOWkieaPm+W+jOOBruODhuOCreOCueODiAoJICovCglwdWJsaWMgZnVuY3Rpb24gY29udmVydF9lbmNvZGluZyggJHRleHQsICR0b19lbmNvZGluZyA9IG51bGwsICRmcm9tX2VuY29kaW5nID0gbnVsbCApewoJCSRSVE4gPSAkdGV4dDsKCQlpZiggIWlzX2NhbGxhYmxlKCAnbWJfaW50ZXJuYWxfZW5jb2RpbmcnICkgKXsKCQkJcmV0dXJuICR0ZXh0OwoJCX0KCgkJJHRvX2VuY29kaW5nX2ZpbiA9ICR0b19lbmNvZGluZzsKCQlpZiggIXN0cmxlbigkdG9fZW5jb2RpbmdfZmluID8/ICcnKSApewoJCQkkdG9fZW5jb2RpbmdfZmluID0gbWJfaW50ZXJuYWxfZW5jb2RpbmcoKTsKCQl9CgkJaWYoICFzdHJsZW4oJHRvX2VuY29kaW5nX2ZpbiA/PyAnJykgKXsKCQkJJHRvX2VuY29kaW5nX2ZpbiA9ICdVVEYtOCc7CgkJfQoKCQkkZnJvbV9lbmNvZGluZ19maW4gPSAoaXNfc3RyaW5nKCRmcm9tX2VuY29kaW5nKSAmJiBzdHJsZW4oJGZyb21fZW5jb2RpbmcpID8gJGZyb21fZW5jb2RpbmcgOiAnVVRGLTgsU0pJUy13aW4sY3A5MzIsZXVjSlAtd2luLFNKSVMsRVVDLUpQLEpJUyxBU0NJSScpOwoKCQkvLyAtLS0KCQlpZiggaXNfYXJyYXkoICR0ZXh0ICkgKXsKCQkJJFJUTiA9IGFycmF5KCk7CgkJCWlmKCAhY291bnQoICR0ZXh0ICkgKXsKCQkJCXJldHVybiAkdGV4dDsKCQkJfQoJCQlmb3JlYWNoKCAkdGV4dCBhcyAka2V5PT4kcm93ICl7CgkJCQkkUlROWyRrZXldID0gJHRoaXMtPmNvbnZlcnRfZW5jb2RpbmcoICRyb3csICR0b19lbmNvZGluZywgJGZyb21fZW5jb2RpbmcgKTsKCQkJfQoJCX1lbHNlewoJCQlpZiggIXN0cmxlbiggJHRleHQgPz8gJycgKSApewoJCQkJcmV0dXJuICR0ZXh0OwoJCQl9CgkJCSRSVE4gPSBtYl9jb252ZXJ0X2VuY29kaW5nKCAkdGV4dCA/PyAnJywgJHRvX2VuY29kaW5nX2ZpbiwgJGZyb21fZW5jb2RpbmdfZmluICk7CgkJfQoJCXJldHVybiAkUlROOwoJfQoKCS8qKgoJICog5Y+X44GR5Y+W44Gj44Gf44OG44Kt44K544OI44KS44CB5oyH5a6a44Gu5pS56KGM44Kz44O844OJ44Gr5aSJ5o+b44GZ44KL44CCCgkgKgoJICogQHBhcmFtIG1peGVkICR0ZXh0IOODhuOCreOCueODiAoJICogQHBhcmFtIHN0cmluZyAkY3JsZiDmlLnooYzjgrPjg7zjg4nlkI3jgIJDUnxMRihkZWZhdWx0KXxDUkxGCgkgKiBAcmV0dXJuIHN0cmluZyDmlLnooYzjgrPjg7zjg4nlpInmj5vlvozjga7jg4bjgq3jgrnjg4gKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNvbnZlcnRfY3JsZiggJHRleHQsICRjcmxmID0gbnVsbCApewoJCWlmKCAhc3RybGVuKCRjcmxmID8/ICcnKSApewoJCQkkY3JsZiA9ICdMRic7CgkJfQoJCSRjcmxmX2NvZGUgPSAiXG4iOwoJCXN3aXRjaChzdHJ0b3VwcGVyKCRjcmxmID8/ICcnKSl7CgkJCWNhc2UgJ0NSJzoKCQkJCSRjcmxmX2NvZGUgPSAiXHIiOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ0NSTEYnOgoJCQkJJGNybGZfY29kZSA9ICJcclxuIjsKCQkJCWJyZWFrOwoJCQljYXNlICdMRic6CgkJCWRlZmF1bHQ6CgkJCQkkY3JsZl9jb2RlID0gIlxuIjsKCQkJCWJyZWFrOwoJCX0KCQkkUlROID0gJHRleHQ7CgkJaWYoIGlzX2FycmF5KCAkdGV4dCApICl7CgkJCSRSVE4gPSBhcnJheSgpOwoJCQlpZiggIWNvdW50KCAkdGV4dCApICl7CgkJCQlyZXR1cm4gJHRleHQ7CgkJCX0KCQkJZm9yZWFjaCggJHRleHQgYXMgJGtleT0+JHZhbCApewoJCQkJJFJUTlska2V5XSA9ICR0aGlzLT5jb252ZXJ0X2NybGYoICR2YWwgLCAkY3JsZiApOwoJCQl9CgkJfWVsc2V7CgkJCWlmKCAhc3RybGVuKCAkdGV4dCA/PyAnJyApICl7CgkJCQlyZXR1cm4gJHRleHQ7CgkJCX0KCQkJJFJUTiA9IHByZWdfcmVwbGFjZSggJy9cclxufFxyfFxuLycsICRjcmxmX2NvZGUsICR0ZXh0ICk7CgkJfQoJCXJldHVybiAkUlROOwoJfQoKfQo/Pg==',
           "request" => 'PD9waHAKLyoqCiAqIHRvbWs3OS9yZXF1ZXN0CiAqCiAqIEBhdXRob3IgVG9tb3lhIEtveWFuYWdpIDx0b21rNzlAZ21haWwuY29tPgogKi8KCm5hbWVzcGFjZSByZW5jb25GcmFtZXdvcms7CgovKioKICogdG9tazc5L3JlcXVlc3QgY29yZSBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIHJlcXVlc3R7CgkvKioKCSAqIOioreWumuOCquODluOCuOOCp+OCr+ODiAoJICovCglwcml2YXRlICRjb25mOwoJLyoqCgkgKiDjg5XjgqHjgqTjg6vjgrfjgrnjg4bjg6Djgqrjg5bjgrjjgqfjgq/jg4gKCSAqLwoJcHJpdmF0ZSAkZnM7CgkvKioKCSAqIFVSTOODkeODqeODoeODvOOCvwoJICovCglwcml2YXRlICRwYXJhbSA9IGFycmF5KCk7CgkvKioKCSAqIOOCs+ODnuODs+ODieOBi+OCieOBruOCouOCr+OCu+OCuSDjg5Xjg6njgrAKCSAqLwoJcHJpdmF0ZSAkZmxnX2NtZCA9IGZhbHNlOwoJLyoqCgkgKiDjg6rjgq/jgqjjgrnjg4jjg5XjgqHjgqTjg6vjg5HjgrkKCSAqLwoJcHJpdmF0ZSAkcmVxdWVzdF9maWxlX3BhdGg7CgkvKioKCSAqIOWEquWFiOODh+OCo+ODrOOCr+ODiOODquOCpOODs+ODh+ODg+OCr+OCuQoJICovCglwcml2YXRlICRkaXJlY3RvcnlfaW5kZXhfcHJpbWFyeTsKCS8qKgoJICog44Kz44Oe44Oz44OJ44Op44Kk44Oz44Kq44OX44K344On44OzCgkgKi8KCXByaXZhdGUgJGNsaV9vcHRpb25zOwoJLyoqCgkgKiDjgrPjg57jg7Pjg4njg6njgqTjg7Pjg5Hjg6njg6Hjg7zjgr8KCSAqLwoJcHJpdmF0ZSAkY2xpX3BhcmFtczsKCgkvKioKCSAqIOOCs+ODs+OCueODiOODqeOCr+OCvwoJICoKCSAqIEBwYXJhbSBvYmplY3QgJGNvbmYg6Kit5a6a44Kq44OW44K444Kn44Kv44OICgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCggJGNvbmYgPSBudWxsICl7CgkJJHRoaXMtPmNvbmYgPSAob2JqZWN0KSBhcnJheSgpOwoJCSR0aGlzLT5mcyA9IG5ldyBmaWxlc3lzdGVtKCk7CgoJCWlmKCFwcm9wZXJ0eV9leGlzdHMoJHRoaXMtPmNvbmYsICdnZXQnKSB8fCAhQGlzX2FycmF5KCR0aGlzLT5jb25mLT5nZXQpKXsKCQkJJHRoaXMtPmNvbmYtPmdldCA9ICRfR0VUOwoJCX0KCQlpZighcHJvcGVydHlfZXhpc3RzKCR0aGlzLT5jb25mLCAncG9zdCcpIHx8ICFAaXNfYXJyYXkoJHRoaXMtPmNvbmYtPnBvc3QpKXsKCQkJJHRoaXMtPmNvbmYtPnBvc3QgPSAkX1BPU1Q7CgkJfQoJCWlmKCFwcm9wZXJ0eV9leGlzdHMoJHRoaXMtPmNvbmYsICdmaWxlcycpIHx8ICFAaXNfYXJyYXkoJHRoaXMtPmNvbmYtPmZpbGVzKSl7CgkJCSR0aGlzLT5jb25mLT5maWxlcyA9ICRfRklMRVM7CgkJfQoJCWlmKCFwcm9wZXJ0eV9leGlzdHMoJHRoaXMtPmNvbmYsICdzZXJ2ZXInKSB8fCAhQGlzX2FycmF5KCR0aGlzLT5jb25mLT5zZXJ2ZXIpKXsKCQkJJHRoaXMtPmNvbmYtPnNlcnZlciA9ICRfU0VSVkVSOwoJCX0KCQlpZiggIWFycmF5X2tleV9leGlzdHMoICdQQVRIX0lORk8nICwgJHRoaXMtPmNvbmYtPnNlcnZlciApICl7CgkJCSR0aGlzLT5jb25mLT5zZXJ2ZXJbJ1BBVEhfSU5GTyddID0gbnVsbDsKCQl9CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCAnSFRUUF9VU0VSX0FHRU5UJyAsICR0aGlzLT5jb25mLT5zZXJ2ZXIgKSApewoJCQkkdGhpcy0+Y29uZi0+c2VydmVyWydIVFRQX1VTRVJfQUdFTlQnXSA9IG51bGw7CgkJfQoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cyggJ2FyZ3YnICwgJHRoaXMtPmNvbmYtPnNlcnZlciApICl7CgkJCSR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXSA9IG51bGw7CgkJfQoJCWlmKCFwcm9wZXJ0eV9leGlzdHMoJHRoaXMtPmNvbmYsICdzZXNzaW9uX25hbWUnKSB8fCAhc3RybGVuKCR0aGlzLT5jb25mLT5zZXNzaW9uX25hbWUgPz8gJycpKXsKCQkJJHRoaXMtPmNvbmYtPnNlc3Npb25fbmFtZSA9ICdTRVNTSUQnOwoJCX0KCQlpZighcHJvcGVydHlfZXhpc3RzKCR0aGlzLT5jb25mLCAnc2Vzc2lvbl9leHBpcmUnKSB8fCAhc3RybGVuKCR0aGlzLT5jb25mLT5zZXNzaW9uX2V4cGlyZSA/PyAnJykpewoJCQkkdGhpcy0+Y29uZi0+c2Vzc2lvbl9leHBpcmUgPSAxODAwOwoJCX0KCQlpZighcHJvcGVydHlfZXhpc3RzKCR0aGlzLT5jb25mLCAnZGlyZWN0b3J5X2luZGV4X3ByaW1hcnknKSB8fCAhc3RybGVuKCR0aGlzLT5jb25mLT5kaXJlY3RvcnlfaW5kZXhfcHJpbWFyeSA/PyAnJykpewoJCQkkdGhpcy0+Y29uZi0+ZGlyZWN0b3J5X2luZGV4X3ByaW1hcnkgPSAnaW5kZXguaHRtbCc7CgkJfQoJCWlmKCFwcm9wZXJ0eV9leGlzdHMoJHRoaXMtPmNvbmYsICdjb29raWVfZGVmYXVsdF9wYXRoJykgfHwgIXN0cmxlbigkdGhpcy0+Y29uZi0+Y29va2llX2RlZmF1bHRfcGF0aCA/PyAnJykpewoJCQkvLyDjgq/jg4Pjgq3jg7zjga7jg4fjg5Xjgqnjg6vjg4jjga7jg5HjgrkKCQkJLy8gc2Vzc2lvbiDjga7nr4Tlm7LjgoLjgZPjga7oqK3lrprjgavlvpPjgYbjgIIKCQkJJHRoaXMtPmNvbmYtPmNvb2tpZV9kZWZhdWx0X3BhdGggPSAkdGhpcy0+Z2V0X3BhdGhfY3VycmVudF9kaXIoKTsKCQl9CgoJCSR0aGlzLT5wYXJzZV9pbnB1dCgpOwoJCSR0aGlzLT5zZXNzaW9uX3N0YXJ0KCk7Cgl9CgoJLyoqCgkgKgnlhaXlipvlgKTjgpLop6PmnpDjgZnjgovjgIIKCSAqCgkgKiBgJF9HRVRgLCBgJF9QT1NUYCwgYCRfRklMRVNgIOOBq+mAgeOCieOCjOOBn+ODkeODqeODoeODvOOCv+aDheWgseOCkuWPluOCiuOBvuOBqOOCgeOAgTHjgaTjga7pgKPmg7PphY3liJfjgajjgZfjgabjgb7jgajjgoHjgb7jgIHjgqrjg5bjgrjjgqfjgq/jg4jlhoXjgavkv53mjIHjgZfjgb7jgZnjgIIKCSAqCgkgKiDjgrPjg57jg7Pjg4njg6njgqTjg7PjgYvjgonlrp/ooYzjgZXjgozjgZ/loLTlkIjjga/jgIHjgrPjg57jg7Pjg4njg6njgqTjg7Pjgqrjg5fjgrfjg6fjg7PjgpLjgZ3jgozjgZ7jgowgYD1gIOiomOWPt+OBp+WMuuWIh+OCiuOAgVVSTOODkeODqeODoeODvOOCv+WQjOanmOOBq+ODkeODvOOCueOBl+OBvuOBmeOAggoJICoKCSAqIOOBk+OBruODoeOCveODg+ODieOBruWHpueQhuOBq+OBr+OAgeWFpeWKm+aWh+Wtl+OCs+ODvOODieOBruWkieaPmyhVVEYtOOOBuOe1seS4gCnjgarjganjga7mlbTlvaLlh6bnkIbjgYzlkKvjgb7jgozjgb7jgZnjgIIKCSAqCgkgKiBAcmV0dXJuIGJvb2wg5bi444GrIGB0cnVlYAoJICovCglwcml2YXRlIGZ1bmN0aW9uIHBhcnNlX2lucHV0KCl7CgkJJHRoaXMtPnJlcXVlc3RfZmlsZV9wYXRoID0gJHRoaXMtPmNvbmYtPnNlcnZlclsnUEFUSF9JTkZPJ107CgkJaWYoICFzdHJsZW4oJHRoaXMtPnJlcXVlc3RfZmlsZV9wYXRoID8/ICcnKSApewoJCQkkdGhpcy0+cmVxdWVzdF9maWxlX3BhdGggPSAnLyc7CgkJfQoJCSR0aGlzLT5jbGlfcGFyYW1zID0gYXJyYXkoKTsKCQkkdGhpcy0+Y2xpX29wdGlvbnMgPSBhcnJheSgpOwoKCQlpZiggIWFycmF5X2tleV9leGlzdHMoICdSRU1PVEVfQUREUicgLCAkdGhpcy0+Y29uZi0+c2VydmVyICkgKXsKCQkJLy8gIOOCs+ODnuODs+ODieODqeOCpOODs+OBi+OCieOBruWun+ihjOOBi+WQpuOBi+WIpOaWrQoJCQkkdGhpcy0+ZmxnX2NtZCA9IHRydWU7Ly/jgrPjg57jg7Pjg4njg6njgqTjg7PjgYvjgonlrp/ooYzjgZfjgabjgYTjgovjgYvjg5Xjg6njgrAKCQkJaWYoIGlzX2FycmF5KCAkdGhpcy0+Y29uZi0+c2VydmVyWydhcmd2J10gKSAmJiBjb3VudCggJHRoaXMtPmNvbmYtPnNlcnZlclsnYXJndiddICkgKXsKCQkJCSR0bXBfcGF0aCA9IG51bGw7CgkJCQlmb3IoICRpID0gMDsgY291bnQoICR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXSApID4gJGk7ICRpICsrICl7CgkJCQkJaWYoIHByZWdfbWF0Y2goICcvXlwtLycsICR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXVskaV0gKSApewoJCQkJCQkkdGhpcy0+Y2xpX3BhcmFtcyA9IGFycmF5KCk7Ly/jgqrjg5fjgrfjg6fjg7Pjga7liY3jgavlvJXmlbDjga/ku5jjgZHjgonjgozjgarjgYQKCQkJCQkJJHRoaXMtPmNsaV9vcHRpb25zWyR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXVskaV1dID0gJHRoaXMtPmNvbmYtPnNlcnZlclsnYXJndiddWyRpKzFdOwoJCQkJCQkkaSArKzsKCQkJCQl9ZWxzZXsKCQkJCQkJYXJyYXlfcHVzaCggJHRoaXMtPmNsaV9wYXJhbXMsICR0aGlzLT5jb25mLT5zZXJ2ZXJbJ2FyZ3YnXVskaV0gKTsKCQkJCQl9CgkJCQl9CgkJCQkkdG1wX3BhdGggPSBAJHRoaXMtPmNsaV9wYXJhbXNbY291bnQoJHRoaXMtPmNsaV9wYXJhbXMpLTFdOwoJCQkJaWYoIHByZWdfbWF0Y2goICcvXlwvLycsICR0bXBfcGF0aCApICYmIEBpc19hcnJheSgkdGhpcy0+Y29uZi0+c2VydmVyWydhcmd2J10pICl7CgkJCQkJJHRtcF9wYXRoID0gYXJyYXlfcG9wKCAkdGhpcy0+Y29uZi0+c2VydmVyWydhcmd2J10gKTsKCQkJCQkkdG1wX3BhdGggPSBwYXJzZV91cmwoJHRtcF9wYXRoKTsKCQkJCQkkdGhpcy0+cmVxdWVzdF9maWxlX3BhdGggPSAkdG1wX3BhdGhbJ3BhdGgnXTsKCQkJCQlAcGFyc2Vfc3RyKCAkdG1wX3BhdGhbJ3F1ZXJ5J10sICRxdWVyeSApOwoJCQkJCWlmKCBpc19hcnJheSgkcXVlcnkpICl7CgkJCQkJCSR0aGlzLT5jb25mLT5nZXQgPSBhcnJheV9tZXJnZSggJHRoaXMtPmNvbmYtPmdldCwgJHF1ZXJ5ICk7CgkJCQkJfQoJCQkJfQoJCQkJdW5zZXQoICR0bXBfcGF0aCApOwoJCQl9CgkJfQoKCQlpZiggaW5pX2dldCgnbWFnaWNfcXVvdGVzX2dwYycpICl7CgkJCS8vIFBIUElOSeOBrm1hZ2ljX3F1b3Rlc19ncGPoqK3lrprjgYxPbuOBoOOBo+OBn+OCieOAgQoJCQkvLyDjgqjjgrnjgrHjg7zjg5fmloflrZfjgpLliYrpmaTjgIIKCQkJZm9yZWFjaCggYXJyYXlfa2V5cyggJHRoaXMtPmNvbmYtPmdldCApIGFzICRMaW5lICl7CgkJCQkkdGhpcy0+Y29uZi0+Z2V0WyRMaW5lXSA9IHNlbGY6OnN0cmlwc2xhc2hlcyggJHRoaXMtPmNvbmYtPmdldFskTGluZV0gKTsKCQkJfQoJCQlmb3JlYWNoKCBhcnJheV9rZXlzKCAkdGhpcy0+Y29uZi0+cG9zdCApIGFzICRMaW5lICl7CgkJCQkkdGhpcy0+Y29uZi0+cG9zdFskTGluZV0gPSBzZWxmOjpzdHJpcHNsYXNoZXMoICR0aGlzLT5jb25mLT5wb3N0WyRMaW5lXSApOwoJCQl9CgkJfQoKCQkkdGhpcy0+Y29uZi0+Z2V0ID0gc2VsZjo6Y29udmVydF9lbmNvZGluZyggJHRoaXMtPmNvbmYtPmdldCApOwoJCSR0aGlzLT5jb25mLT5wb3N0ID0gc2VsZjo6Y29udmVydF9lbmNvZGluZyggJHRoaXMtPmNvbmYtPnBvc3QgKTsKCQkkcGFyYW0gPSBhcnJheV9tZXJnZSggJHRoaXMtPmNvbmYtPmdldCAsICR0aGlzLT5jb25mLT5wb3N0ICk7CgkJJHBhcmFtID0gJHRoaXMtPm5vcm1hbGl6ZV9pbnB1dCggJHBhcmFtICk7CgoJCWlmKCBpc19hcnJheSggJHRoaXMtPmNvbmYtPmZpbGVzICkgKXsKCQkJJEZJTEVTX0tFWVMgPSBhcnJheV9rZXlzKCAkdGhpcy0+Y29uZi0+ZmlsZXMgKTsKCQkJZm9yZWFjaCgkRklMRVNfS0VZUyBhcyAkTGluZSl7CgkJCQkkdGhpcy0+Y29uZi0+ZmlsZXNbJExpbmVdWyduYW1lJ10gPSBzZWxmOjpjb252ZXJ0X2VuY29kaW5nKCAkdGhpcy0+Y29uZi0+ZmlsZXNbJExpbmVdWyduYW1lJ10gKTsKCQkJCSR0aGlzLT5jb25mLT5maWxlc1skTGluZV1bJ25hbWUnXSA9IG1iX2NvbnZlcnRfa2FuYSggJHRoaXMtPmNvbmYtPmZpbGVzWyRMaW5lXVsnbmFtZSddICwgJ0tWJyAsIG1iX2ludGVybmFsX2VuY29kaW5nKCkgKTsKCQkJCSRwYXJhbVskTGluZV0gPSAkdGhpcy0+Y29uZi0+ZmlsZXNbJExpbmVdOwoJCQl9CgkJfQoKCQkkdGhpcy0+cGFyYW0gPSAkcGFyYW07CgkJdW5zZXQoJHBhcmFtKTsKCgkJaWYgKHByZWdfbWF0Y2goJy9cLyQvJywgJHRoaXMtPnJlcXVlc3RfZmlsZV9wYXRoKSkgewoJCQkkdGhpcy0+cmVxdWVzdF9maWxlX3BhdGggLj0gJHRoaXMtPmNvbmYtPmRpcmVjdG9yeV9pbmRleF9wcmltYXJ5OwoJCX0KCQkkdGhpcy0+cmVxdWVzdF9maWxlX3BhdGggPSAkdGhpcy0+ZnMtPmdldF9yZWFscGF0aCggJHRoaXMtPnJlcXVlc3RfZmlsZV9wYXRoICk7CgkJJHRoaXMtPnJlcXVlc3RfZmlsZV9wYXRoID0gJHRoaXMtPmZzLT5ub3JtYWxpemVfcGF0aCggJHRoaXMtPnJlcXVlc3RfZmlsZV9wYXRoICk7CgoJCXJldHVybiB0cnVlOwoJfQoKCS8qKgoJICoJ5YWl5Yqb5YCk44Gr5a++44GZ44KL5qiZ5rqW55qE44Gq5aSJ5o+b5Yem55CGCgkgKgoJICogQHBhcmFtIGFycmF5ICRwYXJhbSDjg5Hjg6njg6Hjg7zjgr8KCSAqIEByZXR1cm4gYXJyYXkg5aSJ5o+b5b6M44Gu44OR44Op44Oh44O844K/CgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gbm9ybWFsaXplX2lucHV0KCAkcGFyYW0gKXsKCQkkaXNfY2FsbGFibGVfbWJfY2hlY2tfZW5jb2RpbmcgPSBpc19jYWxsYWJsZSggJ21iX2NoZWNrX2VuY29kaW5nJyApOwoJCWZvcmVhY2goICRwYXJhbSBhcyAka2V5PT4kdmFsICl7CgkJCS8vIFVSTOODkeODqeODoeODvOOCv+OCkuWKoOW3pQoJCQlpZiggaXNfYXJyYXkoICR2YWwgKSApewoJCQkJLy8g6YWN5YiX44Gq44KJCgkJCQkkcGFyYW1bJGtleV0gPSAkdGhpcy0+bm9ybWFsaXplX2lucHV0KCAkcGFyYW1bJGtleV0gKTsKCQkJfWVsc2VpZiggaXNfc3RyaW5nKCAkcGFyYW1bJGtleV0gKSApewoJCQkJLy8g5paH5a2X5YiX44Gq44KJCgkJCQkkcGFyYW1bJGtleV0gPSBtYl9jb252ZXJ0X2thbmEoICRwYXJhbVska2V5XSAsICdLVicgLCBtYl9pbnRlcm5hbF9lbmNvZGluZygpICk7CgkJCQkJLy8g5Y2K6KeS44Kr44OK44Gv5YWo6KeS44Gr57Wx5LiACgkJCQkkcGFyYW1bJGtleV0gPSBwcmVnX3JlcGxhY2UoICcvXHJcbnxccnxcbi8nICwgIlxuIiAsICRwYXJhbVska2V5XSApOwoJCQkJCS8vIOaUueihjOOCs+ODvOODieOBr0xG44Gr57Wx5LiACgkJCQlpZiggJGlzX2NhbGxhYmxlX21iX2NoZWNrX2VuY29kaW5nICl7CgkJCQkJLy8g5LiN5q2j44Gq44OQ44Kk44OI44Kz44O844OJ44Gu44OB44Kn44OD44KvCgkJCQkJaWYoICFtYl9jaGVja19lbmNvZGluZyggJGtleSAsIG1iX2ludGVybmFsX2VuY29kaW5nKCkgKSApewoJCQkJCQkvLyDjgq3jg7zjga7kuK3jgavopovjgaTjgZHjgZ/jgonjg5Hjg6njg6Hjg7zjgr/jgZTjgajliYrpmaQKCQkJCQkJdW5zZXQoICRwYXJhbVska2V5XSApOwoJCQkJCX0KCQkJCQlpZiggIW1iX2NoZWNrX2VuY29kaW5nKCAkcGFyYW1bJGtleV0gLCBtYl9pbnRlcm5hbF9lbmNvZGluZygpICkgKXsKCQkJCQkJLy8g5YCk44Gu5Lit44Gr6KaL44Gk44GR44Gf44KJIGZhbHNlIOOBq+e9ruOBjeaPm+OBiOOCiwoJCQkJCQkkcGFyYW1bJGtleV0gPSBmYWxzZTsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9CgkJcmV0dXJuICRwYXJhbTsKCX0KCgkvKioKCSAqIOODoeOCveODg+ODieOCkuWPluW+l+OBmeOCiwoJICogQHJldHVybiBzdHJpbmd8Ym9vbGVhbiDjg6Hjgr3jg4Pjg4nlkI3jgILjgZnjgbnjgablsI/mloflrZfjgavlpInmj5vjgZXjgozjgabov5TjgZXjgozjgb7jgZnjgILjgrPjg57jg7Pjg4njg6njgqTjg7PjgYvjgonlrp/ooYzjgZXjgozjgZ/loLTlkIjjga8gYGNvbW1hbmRgIOOBjOi/lOOBleOCjOOBvuOBmeOAguWPluW+l+OBp+OBjeOBquOBhOWgtOWQiOOBryBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X21ldGhvZCgpewoJCWlmKCAkdGhpcy0+aXNfY21kKCkgKXsKCQkJcmV0dXJuICdjb21tYW5kJzsKCQl9CgkJaWYoIGlzc2V0KCR0aGlzLT5jb25mLT5zZXJ2ZXJbJ1JFUVVFU1RfTUVUSE9EJ10pICYmIGlzX3N0cmluZygkdGhpcy0+Y29uZi0+c2VydmVyWydSRVFVRVNUX01FVEhPRCddKSAmJiBzdHJsZW4oJHRoaXMtPmNvbmYtPnNlcnZlclsnUkVRVUVTVF9NRVRIT0QnXSkgKXsKCQkJcmV0dXJuIHN0cnRvbG93ZXIoICR0aGlzLT5jb25mLT5zZXJ2ZXJbJ1JFUVVFU1RfTUVUSE9EJ10gKTsKCQl9CgkJcmV0dXJuIGZhbHNlOwoJfQoKCS8qKgoJICog44Oq44Kv44Ko44K544OI44OY44OD44OA5YWo5L2T44KS5Y+W5b6X44GZ44KLCgkgKiBAcmV0dXJuIGFycmF5fGJvb2xlYW58bnVsbCDjg6rjgq/jgqjjgrnjg4jjg5jjg4Pjg4Djg7zjga7jg6rjgrnjg4jjgILjgrPjg57jg7Pjg4njg6njgqTjg7PjgYvjgonlrp/ooYzjgZXjgozjgabjgYTjgovloLTlkIjjga8gYG51bGxgIOOCkui/lOOBl+OBvuOBmeOAgmBnZXRhbGxoZWFkZXJzYCDjgYzlrp/ooYzjgafjgY3jgarjgYTloLTlkIggYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9oZWFkZXJzKCl7CgkJaWYoICR0aGlzLT5pc19jbWQoKSApewoJCQlyZXR1cm4gbnVsbDsKCQl9CgkJaWYoICFpc19jYWxsYWJsZSgnZ2V0YWxsaGVhZGVycycpICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJJGhlYWRlcnMgPSBnZXRhbGxoZWFkZXJzKCk7CgkJcmV0dXJuICRoZWFkZXJzOwoJfQoKCS8qKgoJICog44Oq44Kv44Ko44K544OI44OY44OD44OA44KS5Y+W5b6X44GZ44KLCgkgKgoJICogQHBhcmFtIHN0cmluZyAkbmFtZSDjg5jjg4Pjg4Djg7zlkI3jgIJgZ2V0X2hlYWRlcigpYCDjga/jgIHlpKfmloflrZcv5bCP5paH5a2X44KS5Yy65Yil44GX44G+44Gb44KT44CCCgkgKiBAcGFyYW0gYm9vbGVhbiAkaWdub3JlX2Nhc2UgYHRydWVgIOOBjOaMh+WumuOBleOCjOOBn+WgtOWQiOOAgSBgZ2V0X2hlYWRlcigpYCDjga/jgIEgYCRuYW1lYCDjga7lpKfmloflrZcv5bCP5paH5a2X44KS5Yy65Yil44Gb44Ga44Gr5qSc57Si44GX44G+44GZ44CC44OH44OV44Kp44Or44OI44GvIGB0cnVlYCDjgafjgZnjgIIKCSAqIEByZXR1cm4gc3RyaW5nfGJvb2xlYW58bnVsbCDjg6rjgq/jgqjjgrnjg4jjg5jjg4Pjg4Djg7zjga7lgKTjgIIKCSAqIOS4juOBiOOCieOCjOOBn+WQjeWJjeOBq+ipsuW9k+OBmeOCi+mgheebruOBjOOBquOBhOWgtOWQiOOAgeOCs+ODnuODs+ODieODqeOCpOODs+OBi+OCieWun+ihjOOBleOCjOOBpuOBhOOCi+WgtOWQiOOBryBgbnVsbGAg44KS6L+U44GX44G+44GZ44CCCgkgKiBgZ2V0YWxsaGVhZGVyc2Ag44GM5a6f6KGM44Gn44GN44Gq44GE5aC05ZCI44CB44Gd44Gu5LuW44OY44OD44OA44O85oOF5aCx5YWo5L2T44Gr44Ki44Kv44K744K544Gn44GN44Gq44GE5aC05ZCI44GvIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfaGVhZGVyKCAkbmFtZSwgJGlnbm9yZV9jYXNlID0gdHJ1ZSApewoJCSRoZWFkZXJzID0gJHRoaXMtPmdldF9oZWFkZXJzKCk7CgkJaWYoICFpc19hcnJheSgkaGVhZGVycykgKXsKCQkJcmV0dXJuICRoZWFkZXJzOwoJCX0KCQlpZiggJGlnbm9yZV9jYXNlICl7CgkJCSRuYW1lID0gc3RydG9sb3dlciggJG5hbWUgKTsKCQl9CgkJZm9yZWFjaCggJGhlYWRlcnMgYXMgJGhlYWRlcl9rZXkgPT4gJGhlYWRlcl92YWwgKXsKCQkJaWYoICRpZ25vcmVfY2FzZSApewoJCQkJJGhlYWRlcl9rZXkgPSBzdHJ0b2xvd2VyKCAkaGVhZGVyX2tleSApOwoJCQl9CgkJCWlmKCAkbmFtZSA9PSAkaGVhZGVyX2tleSApewoJCQkJcmV0dXJuICRoZWFkZXJfdmFsOwoJCQl9CgkJfQoJCXJldHVybiBudWxsOwoJfQoKCS8qKgoJICog44OR44Op44Oh44O844K/44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogYCRfR0VUYCwgYCRfUE9TVGDjgIFgJF9GSUxFU2Ag44KS5ZCI44KP44Gb44Gf6YCj5oOz6YWN5YiX44Gu5Lit44GL44KJIGAka2V5YCDjgavlvZPjgZ/jgovlgKTjgpLlvJXjgYTjgabov5TjgZfjgb7jgZnjgIIKCSAqIOOCreODvOOBjOWumue+qeOBleOCjOOBpuOBhOOBquOBhOWgtOWQiOOBr+OAgWBudWxsYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkgVVJM44OR44Op44Oh44O844K/5ZCNCgkgKiBAcmV0dXJuIG1peGVkIFVSTOODkeODqeODoeODvOOCv+WApAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3BhcmFtKCAka2V5ICl7CgkJaWYoICFpc3NldCggJHRoaXMtPnBhcmFtWyRrZXldICkgKXsKCQkJcmV0dXJuIG51bGw7CgkJfQoJCXJldHVybiAkdGhpcy0+cGFyYW1bJGtleV07Cgl9CgoJLyoqCgkgKiDjg5Hjg6njg6Hjg7zjgr/jgpLjgrvjg4Pjg4jjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44OR44Op44Oh44O844K/5ZCNCgkgKiBAcGFyYW0gbWl4ZWQgJHZhbCDjg5Hjg6njg6Hjg7zjgr/lgKQKCSAqIEByZXR1cm4gYm9vbCDluLjjgasgYHRydWVgCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBzZXRfcGFyYW0oICRrZXkgLCAkdmFsICl7CgkJJHRoaXMtPnBhcmFtWyRrZXldID0gJHZhbDsKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvKioKCSAqIOODkeODqeODoeODvOOCv+OCkuOBmeOBueOBpuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEByZXR1cm4gYXJyYXkg44GZ44G544Gm44Gu44OR44Op44Oh44O844K/44KS5qC857SN44GZ44KL6YCj5oOz6YWN5YiXCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfYWxsX3BhcmFtcygpewoJCXJldHVybiAkdGhpcy0+cGFyYW07Cgl9CgoJLyoqCgkgKiDjgrPjg57jg7Pjg4njg6njgqTjg7Pjgqrjg5fjgrfjg6fjg7PjgpLlj5blvpfjgZnjgosKCSAqIEBwYXJhbSBzdHJpbmcgJG5hbWUg44Kq44OX44K344On44Oz5ZCNCgkgKiBAcmV0dXJuIHN0cmluZyDmjIflrprjgZXjgozjgZ/jgqrjg5fjgrfjg6fjg7PlgKQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9jbGlfb3B0aW9uKCAkbmFtZSApewoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cygkbmFtZSwgJHRoaXMtPmNsaV9vcHRpb25zKSApewoJCQlyZXR1cm4gbnVsbDsKCQl9CgkJaWYoICFpc3NldCggJHRoaXMtPmNsaV9vcHRpb25zWyRuYW1lXSApICl7CgkJCXJldHVybiBudWxsOwoJCX0KCQlyZXR1cm4gJHRoaXMtPmNsaV9vcHRpb25zWyRuYW1lXTsKCX0KCgkvKioKCSAqIOOBmeOBueOBpuOBruOCs+ODnuODs+ODieODqeOCpOODs+OCquODl+OCt+ODp+ODs+OCkumAo+aDs+mFjeWIl+OBp+WPluW+l+OBmeOCiwoJICogQHJldHVybiBhcnJheSDjgZnjgbnjgabjga7jgrPjg57jg7Pjg4njg6njgqTjg7Pjgqrjg5fjgrfjg6fjg7MKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9jbGlfb3B0aW9ucygpewoJCXJldHVybiAkdGhpcy0+Y2xpX29wdGlvbnM7Cgl9CgoJLyoqCgkgKiDjgrPjg57jg7Pjg4njg6njgqTjg7Pjg5Hjg6njg6Hjg7zjgr/jgpLlj5blvpfjgZnjgosKCSAqIEBwYXJhbSBzdHJpbmcgJGlkeCDjg5Hjg6njg6Hjg7zjgr/nlarlj7cKCSAqIEByZXR1cm4gc3RyaW5nIOaMh+WumuOBleOCjOOBn+OCquODl+OCt+ODp+ODs+WApAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2NsaV9wYXJhbSggJGlkeCA9IDAgKXsKCQlpZigkaWR4IDwgMCl7CgkJCS8vIOODnuOCpOODiuOCueOBruOCpOODs+ODh+ODg+OCr+OCueOBjOS4juOBiOOCieOCjOOBn+WgtOWQiOOAgQoJCQkvLyDphY3liJfjga7mnIDlvozjgYvjgonmlbDjgYjjgosKCQkJJGlkeCA9IGNvdW50KCR0aGlzLT5jbGlfcGFyYW1zKSskaWR4OwoJCX0KCQlpZiggIWlzc2V0KCAkdGhpcy0+Y2xpX3BhcmFtc1skaWR4XSApICl7CgkJCXJldHVybiBudWxsOwoJCX0KCQlyZXR1cm4gJHRoaXMtPmNsaV9wYXJhbXNbJGlkeF07Cgl9CgoJLyoqCgkgKiDjgZnjgbnjgabjga7jgrPjg57jg7Pjg4njg6njgqTjg7Pjg5Hjg6njg6Hjg7zjgr/jgpLphY3liJfjgaflj5blvpfjgZnjgosKCSAqIEByZXR1cm4gYXJyYXkg44GZ44G544Gm44Gu44Kz44Oe44Oz44OJ44Op44Kk44Oz44OR44Op44Oh44O844K/CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfY2xpX3BhcmFtcygpewoJCXJldHVybiAkdGhpcy0+Y2xpX3BhcmFtczsKCX0KCgoKCS8vIC0tLS0tIGNvb2tpZXMgLS0tLS0KCgkvKioKCSAqIOOCr+ODg+OCreODvOaDheWgseOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGtleSDjgq/jg4Pjgq3jg7zlkI0KCSAqIEByZXR1cm4gbWl4ZWQg44Kv44OD44Kt44O844Gu5YCkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfY29va2llKCAka2V5ICl7CgkJaWYoICFpc3NldCggJF9DT09LSUVbJGtleV0gKSApewoJCQlyZXR1cm4gbnVsbDsKCQl9CgkJcmV0dXJuICRfQ09PS0lFWyRrZXldOwoJfQoKCS8qKgoJICog44Kv44OD44Kt44O85oOF5aCx44KS44K744OD44OI44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAka2V5IOOCr+ODg+OCreODvOWQjQoJICogQHBhcmFtIHN0cmluZyAkdmFsIOOCr+ODg+OCreODvOWApAoJICogQHBhcmFtIHN0cmluZyAkZXhwaXJlc19vcl9vcHRpb25zIOOCr+ODg+OCreODvOOBruacieWKueacn+mZkOOAggoJICogQHBhcmFtIHN0cmluZyAkcGF0aCDjgrXjg7zjg5Djg7zkuIrjgafjga7jgIHjgq/jg4Pjgq3jg7zjgpLmnInlirnjgajjgZfjgZ/jgYTjg5HjgrnjgILjg4fjg5Xjgqnjg6vjg4jjga8gYC9gCgkgKiBAcGFyYW0gc3RyaW5nICRkb21haW4g44Kv44OD44Kt44O844GM5pyJ5Yq544Gq44OJ44Oh44Kk44Oz44CCCgkgKiBAcGFyYW0gYm9vbCAkc2VjdXJlIGB0cnVlYCDjgpLoqK3lrprjgZfjgIHjgq/jg6njgqTjgqLjg7Pjg4jjgYvjgonjga7jgrvjgq3jg6XjgqLjgaogSFRUUFMg5o6l57aa44Gu5aC05ZCI44Gr44Gu44G/44Kv44OD44Kt44O844GM6YCB5L+h44GV44KM44KL44KI44GG44Gr44GX44G+44GZ44CC44OH44OV44Kp44Or44OI44GvIGB0cnVlYAoJICogQHBhcmFtIGJvb2wgJGh0dHBvbmx5IGB0cnVlYCDjgpLoqK3lrprjgZfjgIFIVFRQ44Gn44Gu6YCB5L+h44Gu44G/6Kix5Y+v44GX44CBSmF2YVNjcmlwdOOBi+OCieWPgueFp+OBp+OBjeOBquOBhOOCiOOBhuOBq+OBl+OBvuOBmeOAguODh+ODleOCqeODq+ODiOOBryBgdHJ1ZWAKCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYIgYHRydWVg44CB5aSx5pWX5pmCIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBzZXRfY29va2llKCAka2V5ICwgJHZhbCAsICRleHBpcmVzX29yX29wdGlvbnMgPSBudWxsICwgJHBhdGggPSBudWxsICwgJGRvbWFpbiA9IG51bGwgLCAkc2VjdXJlID0gdHJ1ZSwgJGh0dHBvbmx5ID0gdHJ1ZSApewoJCSRvcHRpb25zID0gYXJyYXkoKTsKCQlpZiggaXNfYXJyYXkoJGV4cGlyZXNfb3Jfb3B0aW9ucykgKXsKCQkJJG9wdGlvbnMgPSAkZXhwaXJlc19vcl9vcHRpb25zOwoJCX1lbHNlaWYoIGlzX2ludCgkZXhwaXJlc19vcl9vcHRpb25zKSApewoJCQkkb3B0aW9uc1snZXhwaXJlcyddID0gJGV4cGlyZXNfb3Jfb3B0aW9uczsKCQl9CgkJJG9wdGlvbnNbJ2V4cGlyZXMnXSA9ICRvcHRpb25zWydleHBpcmVzJ10gPz8gJHRoaXMtPmNvbmYtPmNvb2tpZV9kZWZhdWx0X2V4cGlyZTsKCQkkb3B0aW9uc1snZXhwaXJlcyddICs9IHRpbWUoKTsKCQkkb3B0aW9uc1sncGF0aCddID0gJG9wdGlvbnNbJ3BhdGgnXSA/PyAkcGF0aCA/PyAkdGhpcy0+Z2V0X3BhdGhfY3VycmVudF9kaXIoKSA/PyAnLyc7CgoJCWlmKCAhaXNzZXQoJG9wdGlvbnNbJ2RvbWFpbiddKSAmJiBzdHJsZW4oJGRvbWFpbiA/PyAnJykgKXsKCQkJJG9wdGlvbnNbJ2RvbWFpbiddID0gJGRvbWFpbjsKCQl9CgkJaWYoICFzdHJsZW4oJG9wdGlvbnNbJ2RvbWFpbiddID8/ICcnKSApewoJCQkkb3B0aW9uc1snZG9tYWluJ10gPSAkdGhpcy0+Y29uZi0+Y29va2llX2RlZmF1bHRfZG9tYWluOwoJCX0KCQlpZiggIWlzc2V0KCRvcHRpb25zWydzZWN1cmUnXSkgJiYgIWlzX251bGwoJHNlY3VyZSkgKXsKCQkJJG9wdGlvbnNbJ3NlY3VyZSddID0gISEkc2VjdXJlOwoJCX0KCQlpZiggIWlzc2V0KCRvcHRpb25zWydodHRwb25seSddKSAmJiAhaXNfbnVsbCgkaHR0cG9ubHkpICl7CgkJCSRvcHRpb25zWydodHRwb25seSddID0gISEkaHR0cG9ubHk7CgkJfQoKCQlpZiggIUBzZXRjb29raWUoICRrZXksICR2YWwgPz8gJycsICRvcHRpb25zICkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJJF9DT09LSUVbJGtleV0gPSAkdmFsOyAvLyDnj77lnKjjga7lh6bnkIbjgYvjgonjgoLlkbzjgbPlh7rjgZvjgovjgojjgYbjgasKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvKioKCSAqIOOCr+ODg+OCreODvOaDheWgseOCkuWJiumZpOOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGtleSDjgq/jg4Pjgq3jg7zlkI0KCSAqIEByZXR1cm4gYm9vbCDmiJDlip/mmYIgYHRydWVg44CB5aSx5pWX5pmCIGBmYWxzZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkZWxldGVfY29va2llKCAka2V5ICl7CgkJaWYoICFAc2V0Y29va2llKCAka2V5ICwgJycsIDAgKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCXVuc2V0KCAkX0NPT0tJRVska2V5XSApOwoJCXJldHVybiB0cnVlOwoJfQoKCgoJLy8gLS0tLS0gc2Vzc2lvbiAtLS0tLQoKCS8qKgoJICog44K744OD44K344On44Oz44KS6ZaL5aeL44GZ44KL44CCCgkgKgoJICogQHJldHVybiBib29sIOOCu+ODg+OCt+ODp+ODs+OBjOato+W4uOOBq+mWi+Wni+OBl+OBn+WgtOWQiOOBqyBgdHJ1ZWDjgIHjgZ3jgozku6XlpJbjga7loLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBzZXNzaW9uX3N0YXJ0KCl7CgkJaWYoICR0aGlzLT5pc19jbWQoKSApewoJCQkvLyBDTEnjgafjga/jgrvjg4Pjgrfjg6fjg7PjgpLplovlp4vjgZfjgarjgYQKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZihpc3NldCgkX1NFU1NJT04pKXsKCQkJLy8g44GZ44Gn44Gr44K744OD44K344On44Oz44GM6ZaL5aeL44GV44KM44Gm44GE44Gf44KJ44CB44GT44GT44Gn57WC5LqG44GZ44KL44CCCgkJCXJldHVybiB0cnVlOwoJCX0KCgkJJGV4cGlyZSA9IGludHZhbCgkdGhpcy0+Y29uZi0+c2Vzc2lvbl9leHBpcmUpOwoJCSRzZXNzaW9uX25hbWUgPSAnU0VTU0lEJzsKCQlpZiggc3RybGVuKCAkdGhpcy0+Y29uZi0+c2Vzc2lvbl9uYW1lID8/ICcnICkgKXsKCQkJJHNlc3Npb25fbmFtZSA9ICR0aGlzLT5jb25mLT5zZXNzaW9uX25hbWU7CgkJfQoJCSRwYXRoID0gJHRoaXMtPmNvbmYtPmNvb2tpZV9kZWZhdWx0X3BhdGg7CgkJaWYoICFzdHJsZW4oICRwYXRoID8/ICcnICkgKXsKCQkJJHBhdGggPSAkdGhpcy0+Z2V0X3BhdGhfY3VycmVudF9kaXIoKTsKCQl9CgkJaWYoICFzdHJsZW4oICRwYXRoID8/ICcnICkgKXsKCQkJJHBhdGggPSAnLyc7CgkJfQoKCQlAc2Vzc2lvbl9uYW1lKCAkc2Vzc2lvbl9uYW1lICk7CgkJQHNlc3Npb25fc2V0X2Nvb2tpZV9wYXJhbXMoICRleHBpcmUsICRwYXRoICk7CgoJCS8vIOOCu+ODg+OCt+ODp+ODs+OCkumWi+WniwoJCSRydG4gPSBAc2Vzc2lvbl9zdGFydCgpOwoKCQkvLyDjgrvjg4Pjgrfjg6fjg7Pjga7mnInlirnmnJ/pmZDjgpLoqZXkvqEKCQkkbGFzdF9tb2RpZmllZF90aW1lX2tleSA9ICdTRVNTSU9OX1NUQVJURURfQVQnOwoJCWlmKCBzdHJsZW4oICR0aGlzLT5nZXRfc2Vzc2lvbiggJGxhc3RfbW9kaWZpZWRfdGltZV9rZXkgKSA/PyAnJyApICl7CgkJCSRsYXN0X21vZGlmaWVkX3RpbWUgPSBpbnR2YWwoICR0aGlzLT5nZXRfc2Vzc2lvbiggJGxhc3RfbW9kaWZpZWRfdGltZV9rZXkgKSApOwoJCQlpZiggJGxhc3RfbW9kaWZpZWRfdGltZSA8IGludHZhbCggdGltZSgpIC0gJGV4cGlyZSApICl7CgkJCQkvLyDjgrvjg4Pjgrfjg6fjg7Pjga7mnInlirnmnJ/pmZDjgYzliIfjgozjgabjgYTjgZ/jgonjgIHjgrvjg4Pjgrfjg6fjg7PjgpLnoLTlo4rjgZnjgovjgIIKCQkJCSRfU0VTU0lPTiA9IGFycmF5KCk7CgkJCX1lbHNlaWYoICRsYXN0X21vZGlmaWVkX3RpbWUgPCBpbnR2YWwoIHRpbWUoKSAtICgkZXhwaXJlLzIpICkgKXsKCQkJCS8vIOOCu+ODg+OCt+ODp+ODs+OBruacieWKueacn+mZkOOBjOaui+OCiiDljYrliIYg44KS5YiH44Gj44Gm44GE44Gf44KJ44CB44K744OD44K344On44Oz44KS5YaN55m66KGM44GX5bu26ZW344GZ44KL44CCCgkJCQkkdGhpcy0+c2Vzc2lvbl91cGRhdGUoKTsKCQkJCSR0aGlzLT5kZWxldGVfc2Vzc2lvbiggJGxhc3RfbW9kaWZpZWRfdGltZV9rZXkgKTsgLy8g5LiA5pem5YmK6ZmkCgkJCX0KCQl9CgkJaWYoICFzdHJsZW4oICR0aGlzLT5nZXRfc2Vzc2lvbiggJGxhc3RfbW9kaWZpZWRfdGltZV9rZXkgKSA/PyAnJyApICl7CgkJCSR0aGlzLT5zZXRfc2Vzc2lvbiggJGxhc3RfbW9kaWZpZWRfdGltZV9rZXksIHRpbWUoKSApOwoJCX0KCgkJcmV0dXJuICRydG47Cgl9CgoJLyoqCgkgKiDjgrvjg4Pjgrfjg6fjg7PjgpLmm7TmlrDjgZnjgovjgIIKCSAqCgkgKiBAcmV0dXJuIGJvb2xlYW4g5oiQ5Yqf44GX44Gf5aC05ZCI44GrIGB0cnVlYCDjgpLjgIHlpLHmlZfjgZfjgZ/loLTlkIjjgasgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIgCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBzZXNzaW9uX3VwZGF0ZSgpewoJCSRkZXN0cm95ZWRfdGltZV9rZXkgPSAnU0VTU0lPTl9ERVNUUk9ZRURfQVQnOwoJCSRfU0VTU0lPTlskZGVzdHJveWVkX3RpbWVfa2V5XSA9IHRpbWUoKTsKCQkkcmVzdWx0ID0gc2Vzc2lvbl9yZWdlbmVyYXRlX2lkKCk7CgkJdW5zZXQoJF9TRVNTSU9OWyRkZXN0cm95ZWRfdGltZV9rZXldKTsKCQlyZXR1cm4gJHJlc3VsdDsKCX0KCgkvKioKCSAqIOOCu+ODg+OCt+ODp+ODs0lE44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHJldHVybiBzdHJpbmcg44K744OD44K344On44OzSUQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9zZXNzaW9uX2lkKCl7CgkJcmV0dXJuIHNlc3Npb25faWQoKTsKCX0KCgkvKioKCSAqIOOCu+ODg+OCt+ODp+ODs+aDheWgseOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGtleSDjgrvjg4Pjgrfjg6fjg7Pjgq3jg7wKCSAqIEByZXR1cm4gbWl4ZWQgYCRrZXlgIOOBq+WvvuW/nOOBmeOCi+OCu+ODg+OCt+ODp+ODs+WApAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3Nlc3Npb24oICRrZXkgKXsKCQlpZiggIWlzc2V0KCAkX1NFU1NJT05bJGtleV0gKSApewoJCQlyZXR1cm4gbnVsbDsKCQl9CgkJcmV0dXJuICRfU0VTU0lPTlska2V5XTsKCX0KCgkvKioKCSAqIOOCu+ODg+OCt+ODp+ODs+aDheWgseOCkuOCu+ODg+ODiOOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGtleSDjgrvjg4Pjgrfjg6fjg7Pjgq3jg7wKCSAqIEBwYXJhbSBtaXhlZCAkdmFsIGAka2V5YCDjgavlr77lv5zjgZnjgovjgrvjg4Pjgrfjg6fjg7PlgKQKCSAqIEByZXR1cm4gYm9vbCDluLjjgasgYHRydWVgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gc2V0X3Nlc3Npb24oICRrZXkgLCAkdmFsICl7CgkJJF9TRVNTSU9OWyRrZXldID0gJHZhbDsKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvKioKCSAqIOOCu+ODg+OCt+ODp+ODs+aDheWgseOCkuWJiumZpOOBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGtleSDjgrvjg4Pjgrfjg6fjg7Pjgq3jg7wKCSAqIEByZXR1cm4gYm9vbCDluLjjgasgYHRydWVgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gZGVsZXRlX3Nlc3Npb24oICRrZXkgKXsKCQl1bnNldCggJF9TRVNTSU9OWyRrZXldICk7CgkJcmV0dXJuIHRydWU7Cgl9CgoKCS8vIC0tLS0tIHVwbG9hZCBmaWxlIGFjY2VzcyAtLS0tLQoKCS8qKgoJICog44Ki44OD44OX44Ot44O844OJ44GV44KM44Gf44OV44Kh44Kk44Or44KS44K744OD44K344On44Oz44Gr5L+d5a2Y44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAka2V5IOOCu+ODg+OCt+ODp+ODs+OCreODvAoJICogQHBhcmFtIGFycmF5ICR1bGZpbGVpbmZvIOOCouODg+ODl+ODreODvOODieODleOCoeOCpOODq+aDheWgsQoJICogQHJldHVybiBib29sIOaIkOWKn+aZgiBgdHJ1ZWDjgIHlpLHmlZfmmYIgYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHNhdmVfdXBsb2FkZmlsZSggJGtleSAsICR1bGZpbGVpbmZvICl7CgkJLy8gYmFzZTY044Gn44Ko44Oz44Kz44O844OJ44GX44Gm44CB44OQ44Kk44OK44Oq44OH44O844K/44KS5oyB44Gh44G+44GZ44CCCgkJLy8gJHVsZmlsZWluZm9bJ2NvbnRlbnQnXSDjgavjg5DjgqTjg4rjg6rjgpLmoLzntI3jgZfjgabmuKHjgZnjgYvjgIEKCQkvLyAkdWxmaWxlaW5mb1sndG1wX25hbWUnXSDjgb7jgZ/jga8gJHVsZmlsZWluZm9bJ3BhdGgnXSDjga7jgYTjgZrjgozjgYvjgavjgIEKCQkvLyDjgqLjg4Pjg5fjg63jg7zjg4njg5XjgqHjgqTjg6vjga7jg5HjgrnjgpLmjIflrprjgZfjgabjgY/jgaDjgZXjgYTjgIIKCQkkZmlsZWluZm8gPSBhcnJheSgpOwoJCSRmaWxlaW5mb1snbmFtZSddID0gJHVsZmlsZWluZm9bJ25hbWUnXTsKCQkkZmlsZWluZm9bJ3R5cGUnXSA9ICR1bGZpbGVpbmZvWyd0eXBlJ107CgoJCWlmKCAkdWxmaWxlaW5mb1snY29udGVudCddICl7CgkJCSRmaWxlaW5mb1snY29udGVudCddID0gYmFzZTY0X2VuY29kZSggJHVsZmlsZWluZm9bJ2NvbnRlbnQnXSApOwoJCX1lbHNlewoJCQkkZmlsZXBhdGggPSAnJzsKCQkJaWYoIEBpc19maWxlKCAkdWxmaWxlaW5mb1sndG1wX25hbWUnXSApICl7CgkJCQkkZmlsZXBhdGggPSAkdWxmaWxlaW5mb1sndG1wX25hbWUnXTsKCQkJfWVsc2VpZiggQGlzX2ZpbGUoICR1bGZpbGVpbmZvWydwYXRoJ10gKSApewoJCQkJJGZpbGVwYXRoID0gJHVsZmlsZWluZm9bJ3BhdGgnXTsKCQkJfWVsc2V7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQkJJGZpbGVpbmZvWydjb250ZW50J10gPSBiYXNlNjRfZW5jb2RlKCBmaWxlX2dldF9jb250ZW50cyggJGZpbGVwYXRoICkgKTsKCQl9CgoJCWlmKCAhaXNfYXJyYXkoICRfU0VTU0lPTiApICl7CgkJCSRfU0VTU0lPTiA9IGFycmF5KCk7CgkJfQoJCWlmKCAhaXNzZXQoJF9TRVNTSU9OWydGSUxFJ10pICl7CgkJCSRfU0VTU0lPTlsnRklMRSddID0gYXJyYXkoKTsKCQl9CgoJCSRfU0VTU0lPTlsnRklMRSddWyRrZXldID0gJGZpbGVpbmZvOwoJCXJldHVybiB0cnVlOwoJfQoJLyoqCgkgKiDjgrvjg4Pjgrfjg6fjg7Pjgavkv53lrZjjgZXjgozjgZ/jg5XjgqHjgqTjg6vmg4XloLHjgpLlj5blvpfjgZnjgovjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44K744OD44K344On44Oz44Kt44O8CgkgKiBAcmV0dXJuIGFycmF5fGJvb2xlYW4g5oiQ5Yqf5pmC44CB44OV44Kh44Kk44Or5oOF5aCxIOOCkuagvOe0jeOBl+OBn+mAo+aDs+mFjeWIl+OAgeWkseaVl+aZgiBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3VwbG9hZGZpbGUoICRrZXkgKXsKCQlpZiggIXN0cmxlbigka2V5ID8/ICcnICkpewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKCAhaXNzZXQoJF9TRVNTSU9OWydGSUxFJ11bJGtleV0pICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCSRydG4gPSAkX1NFU1NJT05bJ0ZJTEUnXVska2V5XTsKCQlpZiggIWlzc2V0KCAkcnRuWydjb250ZW50J10gKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQkkcnRuWydjb250ZW50J10gPSBiYXNlNjRfZGVjb2RlKCAkcnRuWydjb250ZW50J10gKTsKCQlyZXR1cm4gJHJ0bjsKCX0KCS8qKgoJICog44K744OD44K344On44Oz44Gr5L+d5a2Y44GV44KM44Gf44OV44Kh44Kk44Or5oOF5aCx44Gu5LiA6Kan44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHJldHVybiBhcnJheSDjg5XjgqHjgqTjg6vmg4XloLEg44KS5qC857SN44GX44Gf6YCj5oOz6YWN5YiXCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfdXBsb2FkZmlsZV9saXN0KCl7CgkJaWYoICFpc3NldCgkX1NFU1NJT05bJ0ZJTEUnXSkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlyZXR1cm4gYXJyYXlfa2V5cyggJF9TRVNTSU9OWydGSUxFJ10gKTsKCX0KCS8qKgoJICog44K744OD44K344On44Oz44Gr5L+d5a2Y44GV44KM44Gf44OV44Kh44Kk44Or44KS5YmK6Zmk44GZ44KL44CCCgkgKgoJICogQHBhcmFtIHN0cmluZyAka2V5IOOCu+ODg+OCt+ODp+ODs+OCreODvAoJICogQHJldHVybiBib29sIOW4uOOBqyBgdHJ1ZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkZWxldGVfdXBsb2FkZmlsZSggJGtleSApewoJCWlmKCAhaXNzZXQoJF9TRVNTSU9OWydGSUxFJ10pICl7CgkJCXJldHVybiB0cnVlOwoJCX0KCQl1bnNldCggJF9TRVNTSU9OWydGSUxFJ11bJGtleV0gKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCS8qKgoJICog44K744OD44K344On44Oz44Gr5L+d5a2Y44GV44KM44Gf44OV44Kh44Kk44Or44KS5YWo44Gm5YmK6Zmk44GZ44KL44CCCgkgKgoJICogQHJldHVybiBib29sIOW4uOOBqyBgdHJ1ZWAg44KS6L+U44GX44G+44GZ44CCCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkZWxldGVfdXBsb2FkZmlsZV9hbGwoKXsKCQlyZXR1cm4gJHRoaXMtPmRlbGV0ZV9zZXNzaW9uKCAnRklMRScgKTsKCX0KCgoJLy8gLS0tLS0gdXRpbHMgLS0tLS0KCgkvKioKCSAqIFVTRVJfQUdFTlQg44KS5Y+W5b6X44GZ44KL44CCCgkgKgoJICogQHJldHVybiBzdHJpbmcgVVNFUl9BR0VOVAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3VzZXJfYWdlbnQoKXsKCQlyZXR1cm4gJHRoaXMtPmNvbmYtPnNlcnZlclsnSFRUUF9VU0VSX0FHRU5UJ10gPz8gbnVsbDsKCX0KCgkvKioKCSAqIOODquOCr+OCqOOCueODiOODkeOCueOCkuWPluW+l+OBmeOCi+OAggoJICoKCSAqIEByZXR1cm4gc3RyaW5nIOODquOCr+OCqOOCueODiOODkeOCuQoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X3JlcXVlc3RfZmlsZV9wYXRoKCl7CgkJcmV0dXJuICR0aGlzLT5yZXF1ZXN0X2ZpbGVfcGF0aDsKCX0KCgkvKioKCSAqICBTU0zpgJrkv6HjgYvoqr/jgbnjgosKCSAqCgkgKiBAcmV0dXJuIGJvb2wgU1NM6YCa5L+h44Gu5aC05ZCIIGB0cnVlYOOAgeOBneOCjOS7peWkluOBruWgtOWQiCBgZmFsc2VgIOOCkui/lOOBl+OBvuOBmeOAggoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNfc3NsKCl7CgkJaWYoICgkdGhpcy0+Y29uZi0+c2VydmVyWydIVFRQX1NTTCddID8/IG51bGwpIHx8ICgkdGhpcy0+Y29uZi0+c2VydmVyWydIVFRQUyddID8/IG51bGwpICl7CgkJCS8vIFNTTOmAmuS/oeOBjOacieWKueOBi+WQpuOBi+WIpOaWrQoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJcmV0dXJuIGZhbHNlOwoJfQoKCS8qKgoJICog44Kz44Oe44Oz44OJ44Op44Kk44Oz44Gr44KI44KL5a6f6KGM44GL56K66KqN44GZ44KL44CCCgkgKgoJICogQHJldHVybiBib29sIOOCs+ODnuODs+ODieOBi+OCieOBruWun+ihjOOBruWgtOWQiCBgdHJ1ZWDjgIHjgqbjgqfjg5bjgYvjgonjga7lrp/ooYzjga7loLTlkIggYGZhbHNlYCDjgpLov5TjgZfjgb7jgZnjgIIKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2NtZCgpewoJCWlmKCBpc3NldCggJHRoaXMtPmNvbmYtPnNlcnZlclsnUkVNT1RFX0FERFInXSApICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJcmV0dXJuIHRydWU7Cgl9CgoKCS8vIC0tLS0tIHByaXZhdGUgLS0tLS0KCgkvKioKCSAqIOWPl+OBkeWPluOBo+OBn+ODhuOCreOCueODiOOCkuOAgeaMh+WumuOBruaWh+Wtl+OCu+ODg+ODiOOBq+WkieaPm+OBmeOCi+OAggoJICoKCSAqIEBwYXJhbSBtaXhlZCAkdGV4dCDjg4bjgq3jgrnjg4gKCSAqIEBwYXJhbSBzdHJpbmcgJGVuY29kZSDlpInmj5vlvozjga7mloflrZfjgrvjg4Pjg4jjgILnnIHnlaXmmYLjgIFgbWJfaW50ZXJuYWxfZW5jb2RpbmcoKWAg44GL44KJ5Y+W5b6XCgkgKiBAcGFyYW0gc3RyaW5nICRlbmNvZGVmcm9tIOWkieaPm+WJjeOBruaWh+Wtl+OCu+ODg+ODiOOAguecgeeVpeaZguOAgeiHquWLleaknOWHugoJICogQHJldHVybiBzdHJpbmcg5paH5a2X44K744OD44OI5aSJ5o+b5b6M44Gu44OG44Kt44K544OICgkgKi8KCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGNvbnZlcnRfZW5jb2RpbmcoICR0ZXh0LCAkZW5jb2RlID0gbnVsbCwgJGVuY29kZWZyb20gPSBudWxsICl7CgkJaWYoICFpc19jYWxsYWJsZSggJ21iX2ludGVybmFsX2VuY29kaW5nJyApICl7CgkJCXJldHVybiAkdGV4dDsKCQl9CgkJaWYoICFzdHJsZW4oICRlbmNvZGVmcm9tID8/ICcnICkgKXsKCQkJJGVuY29kZWZyb20gPSBtYl9pbnRlcm5hbF9lbmNvZGluZygpLicsVVRGLTgsU0pJUy13aW4sZXVjSlAtd2luLFNKSVMsRVVDLUpQLEpJUyxBU0NJSSc7CgkJfQoJCWlmKCAhc3RybGVuKCAkZW5jb2RlID8/ICcnICkgKXsKCQkJJGVuY29kZSA9IG1iX2ludGVybmFsX2VuY29kaW5nKCk7CgkJfQoKCQlpZiggaXNfYXJyYXkoICR0ZXh0ICkgKXsKCQkJJHJ0biA9IGFycmF5KCk7CgkJCWlmKCAhY291bnQoICR0ZXh0ICkgKXsKCQkJCXJldHVybiAkdGV4dDsKCQkJfQoJCQkkVEVYVF9LRVlTID0gYXJyYXlfa2V5cyggJHRleHQgKTsKCQkJZm9yZWFjaCggJFRFWFRfS0VZUyBhcyAkTGluZSApewoJCQkJJEtFWSA9IG1iX2NvbnZlcnRfZW5jb2RpbmcoICRMaW5lICwgJGVuY29kZSAsICRlbmNvZGVmcm9tICk7CgkJCQlpZiggaXNfYXJyYXkoICR0ZXh0WyRMaW5lXSApICl7CgkJCQkJJHJ0blskS0VZXSA9IHNlbGY6OmNvbnZlcnRfZW5jb2RpbmcoICR0ZXh0WyRMaW5lXSA/PyBhcnJheSgpICwgJGVuY29kZSAsICRlbmNvZGVmcm9tICk7CgkJCQl9ZWxzZXsKCQkJCQkkcnRuWyRLRVldID0gbWJfY29udmVydF9lbmNvZGluZyggJHRleHRbJExpbmVdID8/ICcnICwgJGVuY29kZSAsICRlbmNvZGVmcm9tICk7CgkJCQl9CgkJCX0KCQl9ZWxzZXsKCQkJaWYoICFzdHJsZW4oICR0ZXh0ID8/ICcnICkgKXsKCQkJCXJldHVybiAkdGV4dDsKCQkJfQoJCQkkcnRuID0gbWJfY29udmVydF9lbmNvZGluZyggJHRleHQgPz8gJycgLCAkZW5jb2RlICwgJGVuY29kZWZyb20gKTsKCQl9CgkJcmV0dXJuICRydG47Cgl9CgoJLyoqCgkgKiDjgq/jgqnjg7zjg4jjgZXjgozjgZ/mloflrZfliJfjga7jgq/jgqnjg7zjg4jpg6jliIbjgpLlj5bjgorpmaTjgY/jgIIKCSAqCgkgKiDjgZPjga7plqLmlbDjga/jgIFQSFDjga4gYHN0cmlwc2xhc2hlcygpYCDjga7jg6njg4Pjg5Hjg7zjgafjgZnjgIIKCSAqIOmFjeWIl+OCkuWPl+OBkeWPluOCi+OBqOWGjeW4sOeahOOBq+aWh+Wtl+WIl+OCkuWkieaPm+OBl+OBpui/lOOBl+OBvuOBmeOAggoJICoKCSAqIEBwYXJhbSBtaXhlZCAkdGV4dCDjg4bjgq3jgrnjg4gKCSAqIEByZXR1cm4gc3RyaW5nIOOCr+OCqeODvOODiOOBjOWFg+OBq+aIu+OBleOCjOOBn+ODhuOCreOCueODiAoJICovCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBzdHJpcHNsYXNoZXMoICR0ZXh0ICl7CgkJaWYoIGlzX2FycmF5KCAkdGV4dCApICl7CgkJCS8vIOmFjeWIl+OBquOCiQoJCQlmb3JlYWNoKCAkdGV4dCBhcyAka2V5PT4kdmFsICl7CgkJCQkkdGV4dFska2V5XSA9IHNlbGY6OnN0cmlwc2xhc2hlcyggJHZhbCApOwoJCQl9CgkJfWVsc2VpZiggaXNfc3RyaW5nKCAkdGV4dCApICl7CgkJCS8vIOaWh+Wtl+WIl+OBquOCiQoJCQkkdGV4dCA9IHN0cmlwc2xhc2hlcyggJHRleHQgKTsKCQl9CgkJcmV0dXJuICR0ZXh0OwoJfQoKCS8qKgoJICog44Kr44Os44Oz44OI44OH44Kj44Os44Kv44OI44Oq44Gu44OR44K544KS5Y+W5b6XCgkgKiBAcmV0dXJuIHN0cmluZyDjg4njgq3jg6Xjg6Hjg7Pjg4jjg6vjg7zjg4jjgYvjgonjga7jg5Hjgrko44K544Op44OD44K344Ol6ZaJ44GYKQoJICovCglwcml2YXRlIGZ1bmN0aW9uIGdldF9wYXRoX2N1cnJlbnRfZGlyKCl7CgkJLy8gIOeSsOWig+WkieaVsOOBi+OCieiHquWLleeahOOBq+WIpOaWreOAggoJCSRydG4gPSBkaXJuYW1lKCAkdGhpcy0+Y29uZi0+c2VydmVyWydTQ1JJUFRfTkFNRSddICk7CgkJaWYoICFhcnJheV9rZXlfZXhpc3RzKCAnUkVNT1RFX0FERFInICwgJHRoaXMtPmNvbmYtPnNlcnZlciApICl7CgkJCS8vICBDVUnjgYvjgonotbfli5XjgZXjgozjgZ/loLTlkIgKCQkJLy8gIOODieOCreODpeODoeODs+ODiOODq+ODvOODiOOBjOWIpOWumuOBp+OBjeOBquOBhOOBruOBp+OAgQoJCQkvLyAg44OJ44Kt44Ol44Oh44Oz44OI44Or44O844OI55u05LiL44Gr44GC44KL44KC44Gu44Go44GZ44KL44CCCgkJCSRydG4gPSAnLyc7CgkJfQoJCSRydG4gPSBzdHJfcmVwbGFjZSgnXFwnLCcvJywkcnRuKTsKCQkkcnRuIC49ICgkcnRuIT0nLyc/Jy8nOicnKTsKCQlyZXR1cm4gJHJ0bjsKCX0KCn0KPz4=',
           "dataDotPhp" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiBkYXRhLlBIUCBIZWxwZXIKICovCmNsYXNzIGRhdGFEb3RQaHB7CgoJcHJpdmF0ZSBzdGF0aWMgJHNyY19oZWFkZXIgPSAnPCcuJz9waHAgaGVhZGVyKFwnSFRUUC8xLjEgNDA0IE5vdCBGb3VuZFwnKTsgZWNobyhcJzQwNCBOb3QgRm91bmRcJyk7ZXhpdCgpOyA/Jy4nPicuIlxuIjsKCgkvKioKCSAqIEpTT04uUEhQIOOCkuiqreOBv+i+vOOCgAoJICovCglzdGF0aWMgcHVibGljIGZ1bmN0aW9uIHJlYWRfanNvbiggJHJlYWxwYXRoICl7CgkJaWYoICFpc19maWxlKCRyZWFscGF0aCkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkanNvbkRvdFBocCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRyZWFscGF0aCk7CgkJJGpzb25Eb3RQaHAgPSBwcmVnX3JlcGxhY2UoJy9eLio/ZXhpdFwoXClcO1xzKlw/XD5ccyovaXMnLCAnJywgJGpzb25Eb3RQaHApOwoJCSRqc29uID0ganNvbl9kZWNvZGUoJGpzb25Eb3RQaHApOwoJCXJldHVybiAkanNvbjsKCX0KCgkvKioKCSAqIEpTT04uUEhQIOOCkuS/neWtmOOBmeOCiwoJICovCglzdGF0aWMgcHVibGljIGZ1bmN0aW9uIHdyaXRlX2pzb24oICRyZWFscGF0aCwgJGNvbnRlbnQgKXsKCQkkanNvblN0cmluZyA9IGpzb25fZW5jb2RlKCRjb250ZW50LCBKU09OX1BSRVRUWV9QUklOVHxKU09OX1VORVNDQVBFRF9TTEFTSEVTfEpTT05fVU5FU0NBUEVEX1VOSUNPREUpOwoJCSRqc29uRG90UGhwID0gc2VsZjo6JHNyY19oZWFkZXIuJGpzb25TdHJpbmc7CgkJJHJlc3VsdCA9IGZpbGVfcHV0X2NvbnRlbnRzKCAkcmVhbHBhdGgsICRqc29uRG90UGhwICk7CgkJcmV0dXJuICRyZXN1bHQ7Cgl9CgoJLyoqCgkgKiBkYXRhLlBIUCDjgavjg4fjg7zjgr/jgpLkv53lrZjjgZnjgosKCSAqLwoJc3RhdGljIHB1YmxpYyBmdW5jdGlvbiB3cml0ZSggJHJlYWxwYXRoLCAkdGV4dCApewoJCSRyZXN1bHQgPSBmaWxlX3B1dF9jb250ZW50cyggJHJlYWxwYXRoLCBzZWxmOjokc3JjX2hlYWRlci4kdGV4dCApOwoJCXJldHVybiAkcmVzdWx0OwoJfQoKCS8qKgoJICogZGF0YS5QSFAg44Gr44OH44O844K/44KS6L+96KiY44GZ44KLCgkgKi8KCXN0YXRpYyBwdWJsaWMgZnVuY3Rpb24gd3JpdGVfYSggJHJlYWxwYXRoLCAkdGV4dCApewoJCWlmKCAhaXNfZmlsZSgkcmVhbHBhdGgpICl7CgkJCWVycm9yX2xvZyggc2VsZjo6JHNyY19oZWFkZXIsIDMsICRyZWFscGF0aCApOwoJCX0KCQllcnJvcl9sb2coICR0ZXh0LCAzLCAkcmVhbHBhdGggKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KfQo/Pg==',
           "logger" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiDjg63jgrDnrqHnkIbmqZ/og70KICovCmNsYXNzIGxvZ2dlcnsKCgkvKiogJHJlbmNvbuOCquODluOCuOOCp+OCr+ODiCAqLwoJcHJpdmF0ZSAkcmVuY29uOwoKCS8qKiDjg63jgrDjg4fjgqPjg6zjgq/jg4jjg6ogKi8KCXByaXZhdGUgJHJlYWxwYXRoX2xvZ3M7CgoJLyoqCgkgKiBDb25zdHJ1Y3RvcgoJICoKCSAqIEBwYXJhbSBvYmplY3QgJHJlbmNvbiAkcmVuY29u44Kq44OW44K444Kn44Kv44OICgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCggJHJlbmNvbiApewoJCSR0aGlzLT5yZW5jb24gPSAkcmVuY29uOwoKCQkvLyDjg63jgrDjg4fjgqPjg6zjgq/jg4jjg6oKCQkkdGhpcy0+cmVhbHBhdGhfbG9ncyA9ICR0aGlzLT5yZW5jb24tPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIoJy9sb2dzLycpOwoJCWlmKCBzdHJsZW4oJHRoaXMtPnJlYWxwYXRoX2xvZ3MgPz8gJycpICYmICEkdGhpcy0+cmVuY29uLT5mcygpLT5pc19kaXIoJHRoaXMtPnJlYWxwYXRoX2xvZ3MpICl7CgkJCSR0aGlzLT5yZW5jb24tPmZzKCktPm1rZGlyX3IoJHRoaXMtPnJlYWxwYXRoX2xvZ3MpOwoJCX0KCX0KCgoJLyoqCgkgKiDjg6Hjg4Pjgrvjg7zjgrjjgpLoqJjpjLLjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGxvZygpewoJCSR0cmFjZSA9IGRlYnVnX2JhY2t0cmFjZShERUJVR19CQUNLVFJBQ0VfSUdOT1JFX0FSR1MsIDEpOwoJCSRhcmdfbGlzdCA9IGZ1bmNfZ2V0X2FyZ3MoKTsKCQoJCSRtZXNzYWdlID0gJyc7CgkJaWYoIGNvdW50KCRhcmdfbGlzdCkgPT0gMSAmJiBpc19zdHJpbmcoJGFyZ19saXN0WzBdKSApewoJCQkkbWVzc2FnZSA9ICRhcmdfbGlzdFswXTsKCQl9ZWxzZWlmKCBjb3VudCgkYXJnX2xpc3QpID09IDEgKXsKCQkJJG1lc3NhZ2UgPSBqc29uX2VuY29kZSgkYXJnX2xpc3RbMF0pOwoJCX1lbHNlewoJCQkkbWVzc2FnZSA9IGpzb25fZW5jb2RlKCRhcmdfbGlzdCk7CgkJfQoKCQkkcmVtb3RlX2FkZHIgPSBudWxsOwoJCWlmKCBpc3NldCgkX1NFUlZFUlsiUkVNT1RFX0FERFIiXSkgKXsKCQkJJHJlbW90ZV9hZGRyID0gJF9TRVJWRVJbIlJFTU9URV9BRERSIl07CgkJfQoKCQkkbG9nID0gYXJyYXkoCgkJCWRhdGUoJ2MnKSwgLy8g5pmC5Yi7CgkJCWdldG15cGlkKCksIC8vIOODl+ODreOCu+OCuUlECgkJCSR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfc2Vzc2lvbignVVNFUl9JRCcpLCAvLyDjg63jgrDjgqTjg7Pjg6bjg7zjgrbjg7xJRCAo5pyq44Ot44Kw44Kk44Oz5pmC44GvIG51bGwpCgkJCSRtZXNzYWdlLCAvLyDjg63jgrDjg6Hjg4Pjgrvjg7zjgrgKCQkJJHRyYWNlWzBdWydmaWxlJ10sIC8vIOWRvOOBs+WHuuOBl+OBn+OCueOCr+ODquODl+ODiOODleOCoeOCpOODqwoJCQkkdHJhY2VbMF1bJ2xpbmUnXSwgLy8g5ZG844Gz5Ye644GX44Gf6KGM55Wq5Y+3CgkJCSRyZW1vdGVfYWRkciwgLy8gSVDjgqLjg4njg6zjgrkKCQkpOwoKCQlkYXRhRG90UGhwOjp3cml0ZV9hKCAkdGhpcy0+cmVhbHBhdGhfbG9ncy4nbG9nLScuZ21kYXRlKCdZLW0tZCcpLidaLmNzdi5waHAnLCAkdGhpcy0+cmVuY29uLT5mcygpLT5ta19jc3YoIGFycmF5KCRsb2cpICkgKTsKCQlyZXR1cm47Cgl9CgoJLyoqCgkgKiDjgqjjg6njg7zjg6Hjg4Pjgrvjg7zjgrjjgpLoqJjpjLLjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGVycm9yX2xvZygpewoJCSR0cmFjZSA9IGRlYnVnX2JhY2t0cmFjZShERUJVR19CQUNLVFJBQ0VfSUdOT1JFX0FSR1MsIDEpOwoJCSRhcmdfbGlzdCA9IGZ1bmNfZ2V0X2FyZ3MoKTsKCQoJCSRtZXNzYWdlID0gJyc7CgkJaWYoIGNvdW50KCRhcmdfbGlzdCkgPT0gMSAmJiBpc19zdHJpbmcoJGFyZ19saXN0WzBdKSApewoJCQkkbWVzc2FnZSA9ICRhcmdfbGlzdFswXTsKCQl9ZWxzZWlmKCBjb3VudCgkYXJnX2xpc3QpID09IDEgKXsKCQkJJG1lc3NhZ2UgPSBqc29uX2VuY29kZSgkYXJnX2xpc3RbMF0pOwoJCX1lbHNlewoJCQkkbWVzc2FnZSA9IGpzb25fZW5jb2RlKCRhcmdfbGlzdCk7CgkJfQoKCQkkcmVtb3RlX2FkZHIgPSBudWxsOwoJCWlmKCBpc3NldCgkX1NFUlZFUlsiUkVNT1RFX0FERFIiXSkgKXsKCQkJJHJlbW90ZV9hZGRyID0gJF9TRVJWRVJbIlJFTU9URV9BRERSIl07CgkJfQoKCQkkbG9nX2RhdGV0aW1lID0gZGF0ZSgnYycpOwoJCSRsb2dfZGF0ZSA9IGdtZGF0ZSgnWS1tLWQnKS4nWic7CgoJCSRsb2cgPSBhcnJheSgKCQkJJGxvZ19kYXRldGltZSwgLy8g5pmC5Yi7CgkJCWdldG15cGlkKCksIC8vIOODl+ODreOCu+OCuUlECgkJCSR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfc2Vzc2lvbignVVNFUl9JRCcpLCAvLyDjg63jgrDjgqTjg7Pjg6bjg7zjgrbjg7xJRCAo5pyq44Ot44Kw44Kk44Oz5pmC44GvIG51bGwpCgkJCSRtZXNzYWdlLCAvLyDjg63jgrDjg6Hjg4Pjgrvjg7zjgrgKCQkJJHRyYWNlWzBdWydmaWxlJ10sIC8vIOWRvOOBs+WHuuOBl+OBn+OCueOCr+ODquODl+ODiOODleOCoeOCpOODqwoJCQkkdHJhY2VbMF1bJ2xpbmUnXSwgLy8g5ZG844Gz5Ye644GX44Gf6KGM55Wq5Y+3CgkJCSRyZW1vdGVfYWRkciwgLy8gSVDjgqLjg4njg6zjgrkKCQkpOwoJCWRhdGFEb3RQaHA6OndyaXRlX2EoICR0aGlzLT5yZWFscGF0aF9sb2dzLidlcnJvcmxvZy0nLiRsb2dfZGF0ZS4nLmNzdi5waHAnLCAkdGhpcy0+cmVuY29uLT5mcygpLT5ta19jc3YoIGFycmF5KCRsb2cpICkgKTsKCgkJJGxvZyA9IGFycmF5KAoJCQkkbG9nX2RhdGV0aW1lLCAvLyDmmYLliLsKCQkJZ2V0bXlwaWQoKSwgLy8g44OX44Ot44K744K5SUQKCQkJJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9zZXNzaW9uKCdVU0VSX0lEJyksIC8vIOODreOCsOOCpOODs+ODpuODvOOCtuODvElEICjmnKrjg63jgrDjgqTjg7PmmYLjga8gbnVsbCkKCQkJJ0Vycm9yOiAnLiRtZXNzYWdlLCAvLyDjg63jgrDjg6Hjg4Pjgrvjg7zjgrgKCQkJJHRyYWNlWzBdWydmaWxlJ10sIC8vIOWRvOOBs+WHuuOBl+OBn+OCueOCr+ODquODl+ODiOODleOCoeOCpOODqwoJCQkkdHJhY2VbMF1bJ2xpbmUnXSwgLy8g5ZG844Gz5Ye644GX44Gf6KGM55Wq5Y+3CgkJCSRyZW1vdGVfYWRkciwgLy8gSVDjgqLjg4njg6zjgrkKCQkpOwoJCWRhdGFEb3RQaHA6OndyaXRlX2EoICR0aGlzLT5yZWFscGF0aF9sb2dzLidsb2ctJy4kbG9nX2RhdGUuJy5jc3YucGhwJywgJHRoaXMtPnJlbmNvbi0+ZnMoKS0+bWtfY3N2KCBhcnJheSgkbG9nKSApICk7CgkJcmV0dXJuOwoJfQoKfQo/Pg==',
           "initializer" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiBpbml0aWFsaXplcgogKi8KY2xhc3MgaW5pdGlhbGl6ZXIgewoKCS8qKiByZW5jb27jgqrjg5bjgrjjgqfjgq/jg4ggKi8KCXByaXZhdGUgJHJlbmNvbjsKCgkvKiog566h55CG44OH44O844K/5a6a576p44OH44Kj44Os44Kv44OI44OqICovCglwcml2YXRlICRyZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyOwoKCS8qKgoJICogQ29uc3RydWN0b3IKCSAqCgkgKiBAcGFyYW0gb2JqZWN0ICRyZW5jb24gJHJlbmNvbuOCquODluOCuOOCp+OCr+ODiAoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoICRyZW5jb24gKXsKCQkkdGhpcy0+cmVuY29uID0gJHJlbmNvbjsKCQkkdGhpcy0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpciA9ICRyZW5jb24tPmNvbmYoKS0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpcjsKCX0KCgoJLyoqCgkgKiDliJ3mnJ/ljJbjg5fjg63jgrvjgrkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGluaXRpYWxpemUoKXsKCQlpZiggaXNfc3RyaW5nKCR0aGlzLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyKSAmJiBzdHJsZW4oJHRoaXMtPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIpICl7CgkJCWlmKCAhaXNfZGlyKCR0aGlzLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyKSApewoJCQkJJHRoaXMtPnJlbmNvbi0+ZnMoKS0+bWtkaXJfcigkdGhpcy0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2Rpcik7CgkJCX0KCgkJCWlmKCAhaXNfZmlsZSgkdGhpcy0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2Rpci4nLmh0YWNjZXNzJykgKXsKCQkJCW9iX3N0YXJ0KCk7ID8+ClJld3JpdGVFbmdpbmUgb2ZmCkRlbnkgZnJvbSBhbGwKPD9waHAKCQkJCSRzcmNfaHRhY2Nlc3MgPSBvYl9nZXRfY2xlYW4oKTsKCQkJCSR0aGlzLT5yZW5jb24tPmZzKCktPnNhdmVfZmlsZSggJHRoaXMtPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIuJy5odGFjY2VzcycsICRzcmNfaHRhY2Nlc3MgKTsKCQkJfQoKCQkJLy8g566h55CG44Om44O844K244O844OH44O844K/CgkJCWlmKCAhaXNfZGlyKCR0aGlzLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyLid1c2Vycy8nKSApewoJCQkJJHRoaXMtPnJlbmNvbi0+ZnMoKS0+bWtkaXJfcigkdGhpcy0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2Rpci4ndXNlcnMvJyk7CgkJCX0KCQkJaWYoICFpc19kaXIoJHRoaXMtPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIuJ3VzZXJzLycpIHx8ICFjb3VudCggJHRoaXMtPnJlbmNvbi0+ZnMoKS0+bHMoJHRoaXMtPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIuJ3VzZXJzLycpICkgKXsKCQkJCSR0aGlzLT5pbml0aWFsaXplX3VzZXJfcGFnZSgpOwoJCQkJZXhpdDsKCQkJfQoJCX0KCX0KCgkvKioKCSAqIOeuoeeQhuODpuODvOOCtuODvOODh+ODvOOCv+OCkuWIneacn+WMluOBmeOCi+eUu+mdogoJICovCglwcml2YXRlIGZ1bmN0aW9uIGluaXRpYWxpemVfdXNlcl9wYWdlKCl7CgkJJHJlc3VsdCA9IChvYmplY3QpIGFycmF5KAoJCQkicmVzdWx0IiA9PiBudWxsLAoJCQkibWVzc2FnZSIgPT4gbnVsbCwKCQkJImVycm9ycyIgPT4gKG9iamVjdCkgYXJyYXkoKSwKCQkpOwoJCWlmKCAkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X21ldGhvZCgpID09ICdwb3N0JyApewoJCQkkdXNlcl9pbmZvID0gYXJyYXkoCgkJCQknbmFtZScgPT4gJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9wYXJhbSgnVVNFUl9OQU1FJyksCgkJCQknaWQnID0+ICR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfcGFyYW0oJ1VTRVJfSUQnKSwKCQkJCSdwdycgPT4gJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9wYXJhbSgnVVNFUl9QVycpLAoJCQkJJ3B3X3JldHlwZScgPT4gJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9wYXJhbSgndXNlcl9wd19yZXR5cGUnKSwKCQkJCSdsYW5nJyA9PiAkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X3BhcmFtKCdVU0VSX0xBTkcnKSwKCQkJCSdlbWFpbCcgPT4gJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9wYXJhbSgndXNlcl9lbWFpbCcpLAoJCQkJJ3JvbGUnID0+ICdhZG1pbicsCgkJCSk7CgkJCSRyZXN1bHQgPSAkdGhpcy0+cmVuY29uLT5hdXRoKCktPmNyZWF0ZV91c2VyKCAkdXNlcl9pbmZvLCBudWxsICk7IC8vIE5PVEU6IOacgOWIneOBruODpuODvOOCtuODvOS9nOaIkOaZguOBq+OBr+OAgeePvuWcqOOBruODkeOCueODr+ODvOODieOCkueiuuiqjeOBl+OBquOBhOOAggoJCQlpZiggJHJlc3VsdC0+cmVzdWx0ICl7CgkJCQloZWFkZXIoJ0xvY2F0aW9uOicuJz9hPScpOwoJCQkJZXhpdDsKCQkJfQoJCX0KCgkJaGVhZGVyKCdDb250ZW50LXR5cGU6IHRleHQvaHRtbCcpOwoJCW9iX3N0YXJ0KCk7CgkJPz4KPCFkb2N0eXBlIGh0bWw+CjxodG1sPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+CgkJPHRpdGxlPjw/PSBodG1sc3BlY2lhbGNoYXJzKCAkdGhpcy0+YXBwX2luZm8tPm5hbWUgPz8gJycgKSA/PjwvdGl0bGU+CiAgICAgICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPgoJCTxtZXRhIG5hbWU9InJvYm90cyIgY29udGVudD0ibm9mb2xsb3csIG5vaW5kZXgsIG5vYXJjaGl2ZSIgLz4KCQk8Pz0gJHRoaXMtPm1rX2NzcygpID8+Cgk8L2hlYWQ+Cgk8Ym9keT4KCQk8ZGl2IGNsYXNzPSJ0aGVtZS1jb250YWluZXIiPgoJCQk8aDE+PD89IGh0bWxzcGVjaWFsY2hhcnMoICR0aGlzLT5hcHBfaW5mby0+bmFtZSA/PyAnJyApID8+PC9oMT4KCQkJPD9waHAgaWYoIHN0cmxlbigkcmVzdWx0LT5tZXNzYWdlID8/ICcnKSApeyA/PgoJCQkJPGRpdiBjbGFzcz0iYWxlcnQgYWxlcnQtZGFuZ2VyIiByb2xlPSJhbGVydCI+CgkJCQkJPGRpdj48Pz0gaHRtbHNwZWNpYWxjaGFycygkcmVzdWx0LT5tZXNzYWdlKSA/PjwvZGl2PgoJCQkJPC9kaXY+CgkJCTw/cGhwIH0gPz4KCgkJCTxmb3JtIGFjdGlvbj0iPyIgbWV0aG9kPSJwb3N0Ij4KPHRhYmxlPgoJPHRyPgoJCTx0aD5OYW1lOjwvdGg+CgkJPHRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJVU0VSX05BTUUiIHZhbHVlPSI8Pz0gaHRtbHNwZWNpYWxjaGFycygkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X3BhcmFtKCdVU0VSX05BTUUnKSA/PyAnJykgPz4iIC8+CgkJCTw/cGhwIGlmKCBzdHJsZW4oICRyZXN1bHQtPmVycm9ycy0+bmFtZVswXSA/PyAnJyApICl7ID8+CgkJCTxwPjw/PSBodG1sc3BlY2lhbGNoYXJzKCAkcmVzdWx0LT5lcnJvcnMtPm5hbWVbMF0gPz8gJycgKSA/PjwvcD4KCQkJPD9waHAgfSA/PgoJCTwvdGQ+Cgk8L3RyPgoJPHRyPgoJCTx0aD5JRDo8L3RoPgoJCTx0ZD48aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iVVNFUl9JRCIgdmFsdWU9Ijw/PSBodG1sc3BlY2lhbGNoYXJzKCR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfcGFyYW0oJ1VTRVJfSUQnKSA/PyAnJykgPz4iIC8+CgkJCTw/cGhwIGlmKCBzdHJsZW4oICRyZXN1bHQtPmVycm9ycy0+aWRbMF0gPz8gJycgKSApeyA/PgoJCQk8cD48Pz0gaHRtbHNwZWNpYWxjaGFycyggJHJlc3VsdC0+ZXJyb3JzLT5pZFswXSA/PyAnJyApID8+PC9wPgoJCQk8P3BocCB9ID8+CgkJPC90ZD4KCTwvdHI+Cgk8dHI+CgkJPHRoPlBhc3N3b3JkOjwvdGg+CgkJPHRkPjxpbnB1dCB0eXBlPSJwYXNzd29yZCIgbmFtZT0iVVNFUl9QVyIgdmFsdWU9IiIgLz4KCQkJPD9waHAgaWYoIHN0cmxlbiggJHJlc3VsdC0+ZXJyb3JzLT5wd1swXSA/PyAnJyApICl7ID8+CgkJCTxwPjw/PSBodG1sc3BlY2lhbGNoYXJzKCAkcmVzdWx0LT5lcnJvcnMtPnB3WzBdID8/ICcnICkgPz48L3A+CgkJCTw/cGhwIH0gPz4KCQk8L3RkPgoJPC90cj4KCTx0cj4KCQk8dGg+UGFzc3dvcmQgKHJldHlwZSk6PC90aD4KCQk8dGQ+PGlucHV0IHR5cGU9InBhc3N3b3JkIiBuYW1lPSJ1c2VyX3B3X3JldHlwZSIgdmFsdWU9IiIgLz4KCQkJPD9waHAgaWYoIHN0cmxlbiggJHJlc3VsdC0+ZXJyb3JzLT5wd1swXSA/PyAnJyApICl7ID8+CgkJCTxwPjw/PSBodG1sc3BlY2lhbGNoYXJzKCAkcmVzdWx0LT5lcnJvcnMtPnB3WzBdID8/ICcnICkgPz48L3A+CgkJCTw/cGhwIH0gPz4KCQk8L3RkPgoJPC90cj4KPC90YWJsZT4KPHA+PGJ1dHRvbiB0eXBlPSJzdWJtaXQiPkNyZWF0ZSBVc2VyPC9idXR0b24+PC9wPgo8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhIiB2YWx1ZT0iPD89IGh0bWxzcGVjaWFsY2hhcnMoJHRoaXMtPnJlbmNvbi0+cmVxKCktPmdldF9wYXJhbSgnYScpID8/ICcnKSA/PiIgLz4KCQkJPC9mb3JtPgoJCTwvZGl2PgoJPC9ib2R5Pgo8L2h0bWw+Cjw/cGhwCgkJJHJ0biA9IG9iX2dldF9jbGVhbigpOwoJCXByaW50ICRydG47CgkJZXhpdDsKCX0KCgkvKioKCSAqIENTU+OCkueUn+aIkAoJICovCglwcml2YXRlIGZ1bmN0aW9uIG1rX2NzcygpewoJCW9iX3N0YXJ0KCk7Pz4KCQk8c3R5bGU+CgkJCWh0bWwsIGJvZHkgewoJCQkJYmFja2dyb3VuZC1jb2xvcjogI2U3ZTdlNzsKCQkJCWNvbG9yOiAjMzMzOwoJCQkJZm9udC1zaXplOiAxNnB4OwoJCQkJbWFyZ2luOiAwOwoJCQkJcGFkZGluZzogMDsKCQkJfQoJCQlib2R5LGlucHV0LHRleHRhcmVhLHNlbGVjdCxvcHRpb24sYnV0dG9uewoJCQkJZm9udC1mYW1pbHk6ICJIZWx2ZXRpY2EgTmV1ZSIsIEFyaWFsLCAiSGlyYWdpbm8gS2FrdSBHb3RoaWMgUHJvTiIsICJIaXJhZ2lubyBTYW5zIiwgTWVpcnlvLCBzYW5zLXNlcmlmLCBzeXN0ZW0tdWk7CgkJCX0KCQkJLnRoZW1lLWNvbnRhaW5lciB7CgkJCQlib3gtc2l6aW5nOiBib3JkZXItYm94OwoJCQkJdGV4dC1hbGlnbjogY2VudGVyOwoJCQkJcGFkZGluZzogNGVtIDIwcHg7CgkJCQltYXJnaW46IDMwcHggYXV0bzsKCQkJCXdpZHRoOiBjYWxjKDEwMCUgLSAyMHB4KTsKCQkJCW1heC13aWR0aDogNjAwcHg7CgkJCQliYWNrZ3JvdW5kLWNvbG9yOiAjZjZmNmY2OwoJCQkJYm9yZGVyOiAxcHggc29saWQgI2JiYjsKCQkJCWJvcmRlci1yYWRpdXM6IDVweDsKCQkJCWJveC1zaGFkb3c6IDAgMnB4IDEycHggcmdiYSgwLDAsMCwwLjEpOwoJCQl9CgkJCWgxIHsKCQkJCWZvbnQtc2l6ZTogMjJweDsKCQkJfQoJCQl0YWJsZXsKCQkJCW1hcmdpbjogMCBhdXRvOwoJCQkJbWF4LXdpZHRoOiAxMDAlOwoJCQl9CgkJCXRoIHsKCQkJCXRleHQtYWxpZ246IHJpZ2h0OwoJCQkJcGFkZGluZzogM3B4OwoJCQl9CgkJCXRkIHsKCQkJCXRleHQtYWxpZ246IGxlZnQ7CgkJCQlwYWRkaW5nOiAzcHg7CgkJCX0KCQkJaW5wdXRbdHlwZT10ZXh0XSwKCQkJaW5wdXRbdHlwZT1wYXNzd29yZF17CgkJCQlkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CgkJCQlib3gtc2l6aW5nOiBib3JkZXItYm94OwoJCQkJd2lkdGg6IDE2MHB4OwoJCQkJbWluLXdpZHRoOiA1MHB4OwoJCQkJbWF4LXdpZHRoOiAxMDAlOwoJCQkJcGFkZGluZzogLjM3NXJlbSAuNzVyZW07CgkJCQlmb250LXNpemU6IDFlbTsKCQkJCWZvbnQtd2VpZ2h0OiBub3JtYWw7CgkJCQlsaW5lLWhlaWdodDogMS41OwoJCQkJY29sb3I6ICMzMzM7CgkJCQliYWNrZ3JvdW5kLWNvbG9yOiAjZjZmNmY2OwoJCQkJYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsKCQkJCWJvcmRlcjogMXB4IHNvbGlkICNjZWQ0ZGE7CgkJCQlib3JkZXItcmFkaXVzOiAuMjVyZW07CgkJCQl0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgLjE1cyBlYXNlLWluLW91dCxib3gtc2hhZG93IC4xNXMgZWFzZS1pbi1vdXQ7CgkJCX0KCQkJaW5wdXRbdHlwZT10ZXh0XTpmb2N1cywKCQkJaW5wdXRbdHlwZT1wYXNzd29yZF06Zm9jdXN7CgkJCQljb2xvcjogIzMzMzsKCQkJCWJhY2tncm91bmQtY29sb3I6ICNmZmY7CgkJCQlib3JkZXItY29sb3I6ICM4MGJkZmY7CgkJCQlvdXRsaW5lOiAwOwoJCQkJYm94LXNoYWRvdzogMCAwIDAgLjJyZW0gcmdiYSgwLDEyMywyNTUsLjI1KTsKCQkJfQoKCQkJYnV0dG9uIHsKCQkJCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCQkJCWJvcmRlci1yYWRpdXM6IDNweDsKCQkJCWJhY2tncm91bmQtY29sb3I6ICNmNWZiZmU7CgkJCQljb2xvcjogIzAwYTBlNjsKCQkJCWJvcmRlcjogMXB4IHNvbGlkICMwMGEwZTY7CgkJCQlib3gtc2hhZG93OiAwIDJweCAwcHggcmdiYSgwLDAsMCwwLjEpOwoJCQkJcGFkZGluZzogMC41ZW0gMmVtOwoJCQkJZm9udC1zaXplOjFlbTsKCQkJCWZvbnQtd2VpZ2h0OiBub3JtYWw7CgkJCQlsaW5lLWhlaWdodDogMTsKCQkJCXRleHQtZGVjb3JhdGlvbjogbm9uZTsKCQkJCXRleHQtYWxpZ246IGNlbnRlcjsKCQkJCWN1cnNvcjogcG9pbnRlcjsKCQkJCWJveC1zaXppbmc6IGJvcmRlci1ib3g7CgkJCQlhbGlnbi1pdGVtczogc3RyZXRjaDsKCQkJCXRyYW5zaXRpb246CgkJCQkJY29sb3IgMC4xcywKCQkJCQliYWNrZ3JvdW5kLWNvbG9yIDAuMXMsCgkJCQkJdHJhbnNmb3JtIDAuMXMKCQkJCTsKCQkJfQoJCQlidXR0b246Zm9jdXMsCgkJCWJ1dHRvbjpob3ZlcnsKCQkJCWJhY2tncm91bmQtY29sb3I6ICNkOWYxZmI7CgkJCX0KCQkJYnV0dG9uOmhvdmVyewoJCQkJYmFja2dyb3VuZC1jb2xvcjogI2NjZWNmYTsKCQkJfQoJCQlidXR0b246YWN0aXZlewoJCQkJYmFja2dyb3VuZC1jb2xvcjogIzAwYTBlNjsKCQkJCWNvbG9yOiAjZmZmOwoJCQl9CgoJCTwvc3R5bGU+CgoJCTw/cGhwCgkJJHNyYyA9IG9iX2dldF9jbGVhbigpOwoJCXJldHVybiAkc3JjOwoJfQoKfQo/Pg==',
           "conf" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiByZW5jb24gY29uZiBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIGNvbmYgewoJcHJpdmF0ZSAkcmVuY29uOwoJcHJpdmF0ZSAkY29uZjsKCXByaXZhdGUgJGN1c3RvbV9keW5hbWljX3Byb3BlcnR5ID0gYXJyYXkoKTsKCXB1YmxpYyAkdXNlcnM7CglwdWJsaWMgJHJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXI7CglwdWJsaWMgJGRhdGFiYXNlczsKCgkvKioKCSAqIENvbnN0cnVjdG9yCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCggJHJlbmNvbiwgJGNvbmYgKXsKCQkkdGhpcy0+cmVuY29uID0gJHJlbmNvbjsKCQkkdGhpcy0+Y29uZiA9IChvYmplY3QpICRjb25mOwoJCWZvcmVhY2goICR0aGlzLT5jb25mIGFzICRrZXk9PiR2YWwgKXsKCQkJJHRoaXMtPnska2V5fSA9ICR2YWw7CgkJfQoKCQkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCS8vICRjb25mLT51c2VycwoJCSR0aGlzLT51c2VycyA9IG51bGw7CgkJaWYoICFpc19udWxsKCAkY29uZi0+dXNlcnMgPz8gbnVsbCApICl7CgkJCSR0aGlzLT51c2VycyA9IChhcnJheSkgJGNvbmYtPnVzZXJzOwoJCX0KCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkvLyAkY29uZi0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpcgoJCSR0aGlzLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyID0gbnVsbDsKCQlpZiggaXNfc3RyaW5nKCAkY29uZi0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpciA/PyBudWxsICkgKXsKCQkJJHRoaXMtPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIgPSAkdGhpcy0+cmVuY29uLT5mcygpLT5nZXRfcmVhbHBhdGgoJGNvbmYtPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIpOwoJCX0KCgkJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCQkvLyAkY29uZi0+ZGF0YWJhc2VzCgkJJHRoaXMtPmRhdGFiYXNlcyA9IG51bGw7CgkJaWYoICFpc19udWxsKCAkY29uZi0+ZGF0YWJhc2VzID8/IG51bGwgKSApewoJCQkkdGhpcy0+ZGF0YWJhc2VzID0gKGFycmF5KSAkY29uZi0+ZGF0YWJhc2VzOwoJCX0KCX0KCgkvKioKCSAqIOWLleeahOOBquODl+ODreODkeODhuOCo+OCkueZu+mMsuOBmeOCiwoJICovCglwdWJsaWMgZnVuY3Rpb24gX19zZXQoICRuYW1lLCAkcHJvcGVydHkgKXsKCQlpZiggaXNzZXQoJHRoaXMtPmN1c3RvbV9keW5hbWljX3Byb3BlcnR5WyRuYW1lXSkgKXsKCQkJJHRoaXMtPmVycm9yKCckY29uZi0+Jy4kbmFtZS4nIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4nKTsKCQkJcmV0dXJuOwoJCX0KCQkkdGhpcy0+Y3VzdG9tX2R5bmFtaWNfcHJvcGVydHlbJG5hbWVdID0gJHByb3BlcnR5OwoJCXJldHVybjsKCX0KCgkvKioKCSAqIOWLleeahOOBq+i/veWKoOOBleOCjOOBn+ODl+ODreODkeODhuOCo+OCkuWPluOCiuWHuuOBmQoJICovCglwdWJsaWMgZnVuY3Rpb24gX19nZXQoICRuYW1lICl7CgkJcmV0dXJuICR0aGlzLT5jdXN0b21fZHluYW1pY19wcm9wZXJ0eVskbmFtZV0gPz8gbnVsbDsKCX0KCgkvKioKCSAqIOOCs+ODs+ODleOCo+OCsOWApOOCkuWPluW+l+OBmeOCiwoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0KCAka2V5ID0gbnVsbCApewoJCWlmKCBpc19udWxsKCAka2V5ICkgKXsKCQkJcmV0dXJuICR0aGlzLT5jb25mOwoJCX0KCQlpZiggcHJvcGVydHlfZXhpc3RzKCAkdGhpcy0+Y29uZiwgJGtleSApICl7CgkJCXJldHVybiAkdGhpcy0+Y29uZi0+eyRrZXl9OwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9Cn0KPz4=',
           "user" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiB1c2VyIGNsYXNzCiAqCiAqIEBhdXRob3IgVG9tb3lhIEtveWFuYWdpIDx0b21rNzlAZ21haWwuY29tPgogKi8KY2xhc3MgdXNlciB7Cglwcml2YXRlICRyZW5jb247CgoJLyoqCgkgKiBDb25zdHJ1Y3RvcgoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoICRyZW5jb24gKXsKCQkkdGhpcy0+cmVuY29uID0gJHJlbmNvbjsKCX0KCgkvKioKCSAqIOODreOCsOOCpOODs+OBl+OBpuOBhOOCi+OBiwoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNfbG9naW4oKXsKCQkkbG9naW5faWQgPSAkdGhpcy0+Z2V0X3VzZXJfaWQoKTsKCQlyZXR1cm4gISFzdHJsZW4oJGxvZ2luX2lkID8/ICcnKTsKCX0KCgkvKioKCSAqIOODpuODvOOCtuODvElE44KS5Y+W5b6XCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfdXNlcl9pZCgpewoJCSRsb2dpbl9pZCA9ICR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfc2Vzc2lvbigkdGhpcy0+cmVuY29uLT5hcHBfaWQoKS4nX3Nlc19sb2dpbl9pZCcpOwoJCXJldHVybiAkbG9naW5faWQ7Cgl9Cgp9Cj8+',
           "lang" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiByZW5jb246IExhbmd1YWdlIEhlbHBlcgogKi8KY2xhc3MgbGFuZyB7CgoJLyoqIHJlbmNvbuOCquODluOCuOOCp+OCr+ODiCAqLwoJcHJpdmF0ZSAkcmVuY29uOwoKCS8qKiDjg63jgrDjgqTjg7Pjg6bjg7zjgrbjg7zmg4XloLEgKi8KCXByaXZhdGUgJGxvZ2luVXNlckluZm87CgoJLyoqIExhbmdCYW5r44Kq44OW44K444Kn44Kv44OIICovCglwcml2YXRlICRsYjsKCgkvKioKCSAqIENvbnN0cnVjdG9yCgkgKgoJICogQHBhcmFtIG9iamVjdCAkcmVuY29uICRyZW5jb27jgqrjg5bjgrjjgqfjgq/jg4gKCSAqIEBwYXJhbSBvYmplY3QgJHB4ICRweOOCquODluOCuOOCp+OCr+ODiAoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoICRyZW5jb24gKXsKCQkkdGhpcy0+cmVuY29uID0gJHJlbmNvbjsKCQkvLyAkdGhpcy0+bG9naW5Vc2VySW5mbyA9ICR0aGlzLT5yZW5jb24tPmF1dGgoKS0+Z2V0X2xvZ2luX3VzZXJfaW5mbygpOyAvLyBUT0RPOiDoqIDoqp7oqK3lrprjgpLlj5bjgorlh7rjgZkKCQkkdGhpcy0+bGIgPSBuZXcgTGFuZ0JhbmsoKTsKCQlpZiggc3RybGVuKCR0aGlzLT5yZW5jb24tPnJlcSgpLT5nZXRfcGFyYW0oJ0xBTkcnKSA/PyAnJykgKXsKCQkJJHRoaXMtPmxiLT5zZXRMYW5nKCAkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X3BhcmFtKCdMQU5HJykgKTsKCQl9ZWxzZWlmKCBzdHJsZW4oJHRoaXMtPmxvZ2luVXNlckluZm8tPmxhbmcgPz8gJycpICl7CgkJCSR0aGlzLT5sYi0+c2V0TGFuZyggJHRoaXMtPmxvZ2luVXNlckluZm8tPmxhbmcgKTsKCQl9ZWxzZXsKCQkJJHRoaXMtPmxiLT5zZXRMYW5nKCAnamEnICk7CgkJfQoJfQoKCS8qKgoJICogZ2V0CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXQoJGtleSl7CgkJcmV0dXJuICR0aGlzLT5sYi0+Z2V0KCRrZXkpOwoJfQoKfQo/Pg==',
           "langbank" => 'PD9waHAKLyoqCiAqIGxhbmdiYW5rLnBocAogKi8KbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiBsYW5nYmFuawogKi8KY2xhc3MgTGFuZ0Jhbmt7CgoJcHJpdmF0ZSAkZnM7Cglwcml2YXRlICRwYXRoQ3N2OwoJcHJpdmF0ZSAkb3B0aW9ucyA9IGFycmF5KCk7Cglwcml2YXRlICRsYW5nRGIgPSBhcnJheSgpOwoJcHVibGljICRkZWZhdWx0TGFuZzsKCXB1YmxpYyAkbGFuZzsKCgkvKioKCSAqIGNvbnN0cnVjdG9yCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCggJG9wdGlvbnMgPSBhcnJheSgpICl7CgkJJHRoaXMtPm9wdGlvbnMgPSAkb3B0aW9uczsKCQkkdGhpcy0+ZnMgPSBuZXcgXHJlbmNvbkZyYW1ld29ya1xmaWxlc3lzdGVtKCk7CgoJCSR0aGlzLT5sYW5nRGIgPSBhcnJheSgpOwoKCQkkY3N2QXJ5ID0gYXJyYXkoLyotLSBsYW5ndWFnZS5jc3YgLS0qLyk7CgoJCSRsYW5nSWR4ID0gYXJyYXkoKTsKCgkJZm9yZWFjaCggJGNzdkFyeSBhcyAkaTE9PiRyb3cxICl7CgkJCWlmKCRpMSA9PSAwKXsKCQkJCWZvcmVhY2goICRjc3ZBcnlbJGkxXSBhcyAkaTI9PiRyb3cyICl7CgkJCQkJaWYoJGkyID09IDApewoJCQkJCQljb250aW51ZTsKCQkJCQl9CgkJCQkJaWYoJGkyID09IDEpewoJCQkJCQkkdGhpcy0+ZGVmYXVsdExhbmcgPSAkY3N2QXJ5WyRpMV1bJGkyXTsKCQkJCQkJJHRoaXMtPmxhbmcgPSAkY3N2QXJ5WyRpMV1bJGkyXTsKCQkJCQl9CgkJCQkJJGxhbmdJZHhbJGkyXSA9ICRjc3ZBcnlbJGkxXVskaTJdOwoJCQkJfQoJCQl9ZWxzZXsKCQkJCSR0aGlzLT5sYW5nRGJbJGNzdkFyeVskaTFdWzBdXSA9IGFycmF5KCk7CgkJCQlmb3JlYWNoKCAkY3N2QXJ5WyRpMV0gYXMgJGkyPT4kcm93MiApewoJCQkJCWlmKCRpMiA9PSAwKXtjb250aW51ZTt9CgkJCQkJJHRoaXMtPmxhbmdEYlskY3N2QXJ5WyRpMV1bMF1dWyRsYW5nSWR4WyRpMl1dID0gJGNzdkFyeVskaTFdWyRpMl07CgkJCQl9CgkJCX0KCQl9Cgl9CgoJLyoqCgkgKiBzZXQgTGFuZ3VhZ2UKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHNldExhbmcoJGxhbmcpewoJCSR0aGlzLT5sYW5nID0gJGxhbmc7CgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkgKiBnZXQgTGFuZ3VhZ2UKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldExhbmcoKXsKCQlyZXR1cm4gJHRoaXMtPmxhbmc7Cgl9CgoJLyoqCgkgKiBnZXQgd29yZCBieSBrZXkKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICRrZXkg44Kt44O8CgkgKiBAcGFyYW0gc3RyaW5nICRiaW5kRGF0YSDjg5DjgqTjg7Pjg4njg4fjg7zjgr8o55yB55Wl5Y+vKQoJICogQHBhcmFtIHN0cmluZyAkZGVmYXVsdFZhbHVlIOODh+ODleOCqeODq+ODiCjjgq3jg7zjgYzmnKrlrprnvqnjgaDjgaPjgZ/loLTlkIgp44Gu5oi744KK5YCkCgkgKiBAcmV0dXJuIHN0cmluZyDoqK3lrprjgZXjgozjgZ/oqIDoqp7jgavlr77lv5zjgZnjgovmloflrZfliJcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldCgka2V5KXsKCQkkYmluZERhdGEgPSBhcnJheSgpOwoJCSRkZWZhdWx0VmFsdWUgPSAnLS0tJzsKCgkJJGFyZ3MgPSBmdW5jX2dldF9hcmdzKCk7CgkJaWYoIGNvdW50KCRhcmdzKSA9PSAyICl7CgkJCWlmKCBpc19zdHJpbmcoJGFyZ3NbMV0pICl7CgkJCQkkZGVmYXVsdFZhbHVlID0gJGFyZ3NbMV07CgkJCX1lbHNlewoJCQkJJGJpbmREYXRhID0gJGFyZ3NbMV07CgkJCX0KCQl9ZWxzZWlmKCBjb3VudCgkYXJncykgPT0gMyApewoJCQkkYmluZERhdGEgPSAkYXJnc1sxXTsKCQkJJGRlZmF1bHRWYWx1ZSA9ICRhcmdzWzJdOwoJCX0KCgkJaWYoICFzdHJsZW4oJycuJGRlZmF1bHRWYWx1ZSkgKXsKCQkJJGRlZmF1bHRWYWx1ZSA9ICctLS0nOwoJCX0KCQkkbGFuZyA9ICR0aGlzLT5sYW5nOwoJCWlmKCAhaXNzZXQoJHRoaXMtPmxhbmdEYlska2V5XVskbGFuZ10pIHx8ICFzdHJsZW4oJycuJHRoaXMtPmxhbmdEYlska2V5XVskbGFuZ10pICl7CgkJCSRsYW5nID0gJHRoaXMtPmRlZmF1bHRMYW5nOwoJCX0KCQkkcnRuID0gJGRlZmF1bHRWYWx1ZTsKCQlpZiggaXNzZXQoJHRoaXMtPmxhbmdEYlska2V5XVskbGFuZ10pICYmIHN0cmxlbignJy4kdGhpcy0+bGFuZ0RiWyRrZXldWyRsYW5nXSkgKXsKCQkJJHJ0biA9ICR0aGlzLT5sYW5nRGJbJGtleV1bJGxhbmddOwoJCX0KCQkkZGF0YSA9ICR0aGlzLT5vcHRpb25zWydiaW5kJ10gPz8gYXJyYXkoKTsKCQlmb3JlYWNoKCAkYmluZERhdGEgYXMgJGJpbmREYXRhS2V5PT4kYmluZERhdGFWYWx1ZSApewoJCQkkZGF0YVskYmluZERhdGFLZXldID0gJGJpbmREYXRhVmFsdWU7CgkJfQoJCSRkYXRhWydfRU5WJ10gPSAkdGhpczsKCgkJLy8gVHdpZyDjgavjg5DjgqTjg7Pjg4njgZnjgosKCQlpZiggY2xhc3NfZXhpc3RzKCdcXFR3aWdfTG9hZGVyX0FycmF5JykgKXsKCQkJLy8gVHdpZyBeMS4zNS4zCgkJCSRsb2FkZXIgPSBuZXcgXFR3aWdfTG9hZGVyX0FycmF5KGFycmF5KAoJCQkJJ2luZGV4JyA9PiAkcnRuLAoJCQkpKTsKCQkJJHR3aWcgPSBuZXcgXFR3aWdfRW52aXJvbm1lbnQoJGxvYWRlcik7CgkJCSRydG4gPSAkdHdpZy0+cmVuZGVyKCdpbmRleCcsICRkYXRhKTsKCgkJfWVsc2VpZiggY2xhc3NfZXhpc3RzKCdcXFR3aWdcXExvYWRlclxcQXJyYXlMb2FkZXInKSApewoJCQkvLyBUd2lnIF4zLjAuMAoJCQkkbG9hZGVyID0gbmV3IFxUd2lnXExvYWRlclxBcnJheUxvYWRlcihbCgkJCQknaW5kZXgnID0+ICRydG4sCgkJCV0pOwoJCQkkdHdpZyA9IG5ldyBcVHdpZ1xFbnZpcm9ubWVudCgkbG9hZGVyKTsKCQkJJHJ0biA9ICR0d2lnLT5yZW5kZXIoJ2luZGV4JywgJGRhdGEpOwoKCQl9CgoJCXJldHVybiAkcnRuOwoJfQoKCS8qKgoJICogZ2V0IHdvcmQgbGlzdAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0TGlzdCgpewoJCXJldHVybiAkdGhpcy0+bGFuZ0RiOwoJfQoKfQo/Pg==',
           "theme" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiB0aGVtZSBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIHRoZW1lewoJcHJpdmF0ZSAkcmVuY29uOwoJcHJpdmF0ZSAkYXBwX2luZm87Cglwcml2YXRlICRjdXJyZW50X3BhZ2VfaW5mbzsKCgkvKioKCSAqIENvbnN0cnVjdG9yCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCggJHJlbmNvbiwgJGFwcF9pbmZvLCAkY3VycmVudF9wYWdlX2luZm8gPSBhcnJheSgpICl7CgkJJHRoaXMtPnJlbmNvbiA9ICRyZW5jb247CgkJJHRoaXMtPmFwcF9pbmZvID0gKG9iamVjdCkgJGFwcF9pbmZvOwoJCSR0aGlzLT5jdXJyZW50X3BhZ2VfaW5mbyA9IChvYmplY3QpICRjdXJyZW50X3BhZ2VfaW5mbzsKCX0KCgkvKioKCSAqIOODmuODvOOCuOaDheWgsQoJICovCglwdWJsaWMgZnVuY3Rpb24gc2V0X2N1cnJlbnRfcGFnZV9pbmZvKCAkcGFnZV9pbmZvICl7CgkJJHRoaXMtPmN1cnJlbnRfcGFnZV9pbmZvID0gKG9iamVjdCkgYXJyYXlfbWVyZ2UoKGFycmF5KSAkdGhpcy0+Y3VycmVudF9wYWdlX2luZm8sIChhcnJheSkgJHBhZ2VfaW5mbyk7CgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkgKiDjgqLjg5fjg6rjgrHjg7zjgrfjg6fjg7Pmg4XloLHjgpLlj5blvpcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGFwcF9pbmZvKCl7CgkJcmV0dXJuICR0aGlzLT5hcHBfaW5mbzsKCX0KCgkvKioKCSAqIOODmuODvOOCuOaDheWgseOCkuWPluW+lwoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0X2N1cnJlbnRfcGFnZV9pbmZvKCl7CgkJcmV0dXJuICR0aGlzLT5jdXJyZW50X3BhZ2VfaW5mbzsKCX0KCgkvKioKCSAqIOODhuODvOODnuOBq+OCs+ODs+ODhuODs+ODhOOCkuWMheOCk+OBp+i/lOOBmQoJICovCglwdWJsaWMgZnVuY3Rpb24gYmluZCggJGNvbnRlbnQgKXsKCQkkYWN0aW9uX2FyeSA9IGV4cGxvZGUoJy4nLCAkdGhpcy0+cmVuY29uLT5yZXEoKS0+Z2V0X3BhcmFtKCdhJykgPz8gJycpOwoJCWlmKCAhaXNfYXJyYXkoJGFjdGlvbl9hcnkpIHx8ICFjb3VudCgkYWN0aW9uX2FyeSkgKXsKCQkJJGFjdGlvbl9hcnlbMF0gPSAnJzsKCQl9CgkJJGNsYXNzX2FjdGl2ZVsnYWN0aXZlJ10gPSAkYWN0aW9uX2FyeVswXTsKCQkkcmVuY29uID0gJHRoaXMtPnJlbmNvbjsKCgkJb2Jfc3RhcnQoKTsKCQk/Pi8qIHRoZW1lIHRlbXBsYXRlICovPD9waHAKCQkkcnRuID0gb2JfZ2V0X2NsZWFuKCk7CgoJCXJldHVybiAkcnRuOwoJfQp9Cj8+',
           "auth" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiByZW5jb246IEF1dGhlbnRpY2F0aW9uCiAqCiAqIEBhdXRob3IgVG9tb3lhIEtveWFuYWdpIDx0b21rNzlAZ21haWwuY29tPgogKi8KY2xhc3MgYXV0aCB7CgoJLyoqIHJlbmNvbuOCquODluOCuOOCp+OCr+ODiCAqLwoJcHJpdmF0ZSAkcmVuY29uOwoKCS8qKiBBcHBsaWNhdGlvbiBJbmZvICovCglwcml2YXRlICRhcHBfaW5mbzsKCgkvKiogZmlsZXN5c3RlbSAqLwoJcHJpdmF0ZSAkZnM7CgoJLyoqIHJlcXVlc3QgKi8KCXByaXZhdGUgJHJlcTsKCgkvKiog566h55CG44Om44O844K244O85a6a576p44OH44Kj44Os44Kv44OI44OqICovCglwcml2YXRlICRyZWFscGF0aF91c2VyczsKCgkvKiog44Ki44Kr44Km44Oz44OI44Ot44OD44Kv5oOF5aCx5qC857SN44OH44Kj44Os44Kv44OI44OqICovCglwcml2YXRlICRyZWFscGF0aF9hY2NvdW50X2xvY2s7CgoJLyoqIENTUkbjg4jjg7zjgq/jg7Pjga7mnInlirnmnJ/pmZAgKi8KCXByaXZhdGUgJGNzcmZfdG9rZW5fZXhwaXJlID0gNjAgKiA2MDsKCgkvKiogU2Vzc2lvbiBLZXk6IGlkICovCglwcml2YXRlICRzZXNzaW9uX2tleV9pZDsKCgkvKiogU2Vzc2lvbiBLZXk6IHB3ICovCglwcml2YXRlICRzZXNzaW9uX2tleV9wdzsKCgkvKiogQVBJ44Kt44O85a6a576p44OV44Kh44Kk44OrICovCglwcml2YXRlICRyZWFscGF0aF9hcGlfa2V5X2pzb247CgoJLyoqCgkgKiBDb25zdHJ1Y3RvcgoJICoKCSAqIEBwYXJhbSBvYmplY3QgJHJlbmNvbiAkcmVuY29u44Kq44OW44K444Kn44Kv44OICgkgKiBAcGFyYW0gb2JqZWN0ICRhcHBfaW5mbyBBcHBsaWNhdGlvbiBJbmZvCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCggJHJlbmNvbiwgJGFwcF9pbmZvICl7CgkJJHRoaXMtPnJlbmNvbiA9ICRyZW5jb247CgkJJHRoaXMtPmFwcF9pbmZvID0gKG9iamVjdCkgJGFwcF9pbmZvOwoJCSR0aGlzLT5mcyA9ICR0aGlzLT5yZW5jb24tPmZzKCk7CgkJJHRoaXMtPnJlcSA9ICR0aGlzLT5yZW5jb24tPnJlcSgpOwoKCQkvLyDjgrvjg4Pjgrfjg6fjg7Pjgq3jg7wKCQkkdGhpcy0+c2Vzc2lvbl9rZXlfaWQgPSAkdGhpcy0+cmVuY29uLT5hcHBfaWQoKS4nX3Nlc19sb2dpbl9pZCc7CgkJJHRoaXMtPnNlc3Npb25fa2V5X3B3ID0gJHRoaXMtPnJlbmNvbi0+YXBwX2lkKCkuJ19zZXNfbG9naW5fcHcnOwoKCQkvLyDnrqHnkIbjg6bjg7zjgrbjg7zlrprnvqnjg4fjgqPjg6zjgq/jg4jjg6oKCQkkdGhpcy0+cmVhbHBhdGhfdXNlcnMgPSAkdGhpcy0+cmVuY29uLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyKCcvdXNlcnMvJyk7CgkJaWYoIGlzX3N0cmluZygkdGhpcy0+cmVhbHBhdGhfdXNlcnMgPz8gbnVsbCkgJiYgIWlzX2RpcigkdGhpcy0+cmVhbHBhdGhfdXNlcnMpICl7CgkJCSR0aGlzLT5mcy0+bWtkaXJfcigkdGhpcy0+cmVhbHBhdGhfdXNlcnMpOwoJCX0KCgkJLy8g44Ki44Kr44Km44Oz44OI44Ot44OD44Kv5oOF5aCx5qC857SN44OH44Kj44Os44Kv44OI44OqCgkJJHRoaXMtPnJlYWxwYXRoX2FjY291bnRfbG9jayA9ICR0aGlzLT5yZW5jb24tPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIoJy9hY2NvdW50X2xvY2svJyk7CgkJaWYoICFpc19kaXIoJHRoaXMtPnJlYWxwYXRoX2FjY291bnRfbG9jaykgKXsKCQkJJHRoaXMtPmZzLT5ta2Rpcl9yKCR0aGlzLT5yZWFscGF0aF9hY2NvdW50X2xvY2spOwoJCX0KCgkJLy8gQVBJ44Kt44O85a6a576p44OV44Kh44Kk44OrCgkJJHRoaXMtPnJlYWxwYXRoX2FwaV9rZXlfanNvbiA9ICR0aGlzLT5yZW5jb24tPnJlYWxwYXRoX3ByaXZhdGVfZGF0YV9kaXIoJy9hcGlfa2V5cy5qc29uLnBocCcpOwoJfQoKCS8qKiAkbGFuZyAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBsYW5nKCl7CgkJcmV0dXJuICR0aGlzLT5yZW5jb24tPmxhbmcoKTsKCX0KCgkvKiogJGxvZ2dlciAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBsb2dnZXIoKXsKCQlyZXR1cm4gJHRoaXMtPnJlbmNvbi0+bG9nZ2VyKCk7Cgl9CgoJLyoqCgkgKiDoqo3oqLzjg5fjg63jgrvjgrkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGF1dGgoKXsKCgkJaWYoICEkdGhpcy0+aXNfbG9naW5fcmVxdWlyZWQoKSApewoJCQkvLyDjg6bjg7zjgrbjg7zjgYzoqK3lrprjgZXjgozjgabjgYTjgarjgZHjgozjgbDjgIHjg63jgrDjgqTjg7Pjga7oqZXkvqHjgpLooYzjgo/jgarjgYTjgIIKCQkJcmV0dXJuOwoJCX0KCgkJaWYoICR0aGlzLT5pc19jc3JmX3Rva2VuX3JlcXVpcmVkKCkgJiYgISR0aGlzLT5pc192YWxpZF9jc3JmX3Rva2VuX2dpdmVuKCkgKXsKCQkJJHRoaXMtPmxvZ2luX3BhZ2UoJ2NzcmZfdG9rZW5fZXhwaXJlZCcpOwoJCQlleGl0OwoJCX0KCgkJJHVzZXJzID0gKGFycmF5KSAkdGhpcy0+cmVuY29uLT5jb25mKCktPnVzZXJzOwoKCQlpZiggJHRoaXMtPnJlcS0+Z2V0X3BhcmFtKCdVU0VSX0ZMRycpICl7CgkJCSRsb2dpbl9jaGFsbGVuZ2VyX2lkID0gJHRoaXMtPnJlcS0+Z2V0X3BhcmFtKCdVU0VSX0lEJyk7CgkJCSRsb2dpbl9jaGFsbGVuZ2VyX3B3ID0gJHRoaXMtPnJlcS0+Z2V0X3BhcmFtKCdVU0VSX1BXJyk7CgoJCQlpZiggIXN0cmxlbigkbG9naW5fY2hhbGxlbmdlcl9pZCA/PyAnJykgKXsKCQkJCS8vIFVzZXIgSUQg44GM5pyq5oyH5a6aCgkJCQkkdGhpcy0+bG9nZ2VyKCktPmVycm9yX2xvZygnRmFpbGVkIHRvIGxvZ2luLiBVc2VyIElEIGlzIG5vdCBzZXQuJyk7CgkJCQkkdGhpcy0+bG9naW5fcGFnZSgndXNlcl9pZF9pc19yZXF1aXJlZCcpOwoJCQkJZXhpdDsKCQkJfQoKCQkJaWYoICEkdGhpcy0+dmFsaWRhdGVfdXNlcl9pZCgkbG9naW5fY2hhbGxlbmdlcl9pZCkgKXsKCQkJCS8vIOS4jeato+OBquW9ouW8j+OBrklECgkJCQkkdGhpcy0+bG9nZ2VyKCktPmVycm9yX2xvZygnRmFpbGVkIHRvIGxvZ2luIGFzIHVzZXIgXCcnLiRsb2dpbl9jaGFsbGVuZ2VyX2lkLidcJy4gSW52YWxpZCB1c2VyIElEIGZvcm1hdC4nKTsKCQkJCSR0aGlzLT5sb2dpbl9wYWdlKCdpbnZhbGlkX3VzZXJfaWQnKTsKCQkJCWV4aXQ7CgkJCX0KCgkJCWlmKCAkdGhpcy0+aXNfYWNjb3VudF9sb2NrZWQoICRsb2dpbl9jaGFsbGVuZ2VyX2lkICkgKXsKCQkJCS8vIOOCouOCq+OCpuODs+ODiOOBjOODreODg+OCr+OBleOCjOOBpuOBhOOCiwoJCQkJJHRoaXMtPnVzZXJfbG9naW5fZmFpbGVkKCAkbG9naW5fY2hhbGxlbmdlcl9pZCApOwoJCQkJJHRoaXMtPmxvZ2dlcigpLT5lcnJvcl9sb2coJ0ZhaWxlZCB0byBsb2dpbiBhcyB1c2VyIFwnJy4kbG9naW5fY2hhbGxlbmdlcl9pZC4nXCcuIEFjY291bnQgaXMgTE9DS0VELicpOwoJCQkJJHRoaXMtPmxvZ2luX3BhZ2UoJ2FjY291bnRfbG9ja2VkJyk7CgkJCQlleGl0OwoJCQl9CgoJCQkkdXNlcl9pbmZvID0gJHRoaXMtPmdldF91c2VyX2luZm9fZnVsbCggJGxvZ2luX2NoYWxsZW5nZXJfaWQgKTsKCQkJaWYoICFpc19vYmplY3QoJHVzZXJfaW5mbykgKXsKCQkJCS8vIOS4jeato+OBquODpuODvOOCtuODvOODh+ODvOOCvwoJCQkJJHRoaXMtPnVzZXJfbG9naW5fZmFpbGVkKCAkbG9naW5fY2hhbGxlbmdlcl9pZCApOwoJCQkJJHRoaXMtPmxvZ2dlcigpLT5lcnJvcl9sb2coJ0ZhaWxlZCB0byBsb2dpbiBhcyB1c2VyIFwnJy4kbG9naW5fY2hhbGxlbmdlcl9pZC4nXCcuIFVzZXIgdW5kZWZpbmVkLicpOwoJCQkJJHRoaXMtPmxvZ2luX3BhZ2UoJ2ZhaWxlZCcpOwoJCQkJZXhpdDsKCQkJfQoJCQkkYWRtaW5faWQgPSAkdXNlcl9pbmZvLT5pZDsKCQkJJGFkbWluX3B3ID0gJHVzZXJfaW5mby0+cHc7CgoJCQlpZiggc3RybGVuKCRsb2dpbl9jaGFsbGVuZ2VyX2lkID8/ICcnKSAmJiBzdHJsZW4oJGxvZ2luX2NoYWxsZW5nZXJfcHcgPz8gJycpICl7CgkJCQkvLyDjg63jgrDjgqTjg7PoqZXkvqEKCQkJCWlmKCAkbG9naW5fY2hhbGxlbmdlcl9pZCA9PSAkYWRtaW5faWQgJiYgKHBhc3N3b3JkX3ZlcmlmeSgkbG9naW5fY2hhbGxlbmdlcl9wdywgJHVzZXJfaW5mby0+cHcpIHx8IHNoYTEoJGxvZ2luX2NoYWxsZW5nZXJfcHcpID09ICR1c2VyX2luZm8tPnB3KSApewoJCQkJCSR0aGlzLT5yZXEtPnNldF9zZXNzaW9uKCR0aGlzLT5zZXNzaW9uX2tleV9pZCwgJGxvZ2luX2NoYWxsZW5nZXJfaWQpOwoJCQkJCSR0aGlzLT5yZXEtPnNldF9zZXNzaW9uKCR0aGlzLT5zZXNzaW9uX2tleV9wdywgJHVzZXJfaW5mby0+cHcpOwoJCQkJCWhlYWRlcignTG9jYXRpb246ID9hPScudXJsZW5jb2RlKCR0aGlzLT5yZXEtPmdldF9wYXJhbSgnYScpID8/ICcnKSk7CgkJCQkJZXhpdDsKCQkJCX0KCQkJfQoKCgkJCSRsb2dpbl9pZCA9ICR0aGlzLT5yZXEtPmdldF9zZXNzaW9uKCR0aGlzLT5zZXNzaW9uX2tleV9pZCk7CgkJCSRsb2dpbl9wd19oYXNoID0gJHRoaXMtPnJlcS0+Z2V0X3Nlc3Npb24oJHRoaXMtPnNlc3Npb25fa2V5X3B3KTsKCQkJaWYoIHN0cmxlbigkbG9naW5faWQgPz8gJycpICYmIHN0cmxlbigkbG9naW5fcHdfaGFzaCA/PyAnJykgKXsKCQkJCS8vIOODreOCsOOCpOODs+a4iOOBv+OBi+ipleS+oQoJCQkJaWYoIGFycmF5X2tleV9leGlzdHMoJGxvZ2luX2lkLCAkdXNlcnMpICYmICR1c2Vyc1skbG9naW5faWRdID09ICRsb2dpbl9wd19oYXNoICl7CgkJCQkJcmV0dXJuOwoJCQkJfQoJCQkJJHRoaXMtPnJlcS0+ZGVsZXRlX3Nlc3Npb24oJHRoaXMtPnNlc3Npb25fa2V5X2lkKTsKCQkJCSR0aGlzLT5yZXEtPmRlbGV0ZV9zZXNzaW9uKCR0aGlzLT5zZXNzaW9uX2tleV9wdyk7CgkJCQkkdGhpcy0+cmVuY29uLT5mb3JiaWRkZW4oKTsKCQkJCWV4aXQ7CgkJCX0KCgkJCSRhY3Rpb24gPSAkdGhpcy0+cmVxLT5nZXRfcGFyYW0oJ2EnKSA/PyBudWxsOwoJCQlpZiggJGFjdGlvbiA9PSAnbG9nb3V0JyB8fCAkYWN0aW9uID09ICdsb2dpbicgKXsKCQkJCSR0aGlzLT5yZXEtPnNldF9wYXJhbSgnYScsIG51bGwpOwoJCQl9CgoJCQlpZiggISR0aGlzLT5pc19sb2dpbigpICl7CgkJCQkkdGhpcy0+dXNlcl9sb2dpbl9mYWlsZWQoICRsb2dpbl9jaGFsbGVuZ2VyX2lkICk7CgkJCQkkdGhpcy0+bG9nZ2VyKCktPmVycm9yX2xvZygnRmFpbGVkIHRvIGxvZ2luIGFzIHVzZXIgXCcnLiRsb2dpbl9jaGFsbGVuZ2VyX2lkLidcJy4nKTsKCQkJCSR0aGlzLT5sb2dpbl9wYWdlKCdmYWlsZWQnKTsKCQkJCWV4aXQ7CgkJCX0KCQl9CgoJCWlmKCAhJHRoaXMtPmlzX2xvZ2luKCkgKXsKCQkJJHRoaXMtPmxvZ2luX3BhZ2UoKTsKCQkJZXhpdDsKCQl9CgoJCXJldHVybjsKCX0KCgkvKioKCSAqIOODreOCsOOCouOCpuODiOOBl+OBpue1guS6huOBmeOCiwoJICovCglwdWJsaWMgZnVuY3Rpb24gbG9nb3V0KCl7CgkJJHRoaXMtPnJlcS0+ZGVsZXRlX3Nlc3Npb24oJHRoaXMtPnNlc3Npb25fa2V5X2lkKTsKCQkkdGhpcy0+cmVxLT5kZWxldGVfc2Vzc2lvbigkdGhpcy0+c2Vzc2lvbl9rZXlfcHcpOwoKLyogcm91dGVyOmxvZ291dCAqLwoKCQloZWFkZXIoJ0NvbnRlbnQtdHlwZTogdGV4dC9odG1sJyk7CgkJb2Jfc3RhcnQoKTsKCQk/Pgo8IWRvY3R5cGUgaHRtbD4KPGh0bWw+Cgk8aGVhZD4KCQk8bWV0YSBjaGFyc2V0PSJVVEYtOCIgLz4KCQk8dGl0bGU+PD89IGh0bWxzcGVjaWFsY2hhcnMoICR0aGlzLT5hcHBfaW5mby0+bmFtZSA/PyAnJyApID8+PC90aXRsZT4KICAgICAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiIC8+CgkJPG1ldGEgbmFtZT0icm9ib3RzIiBjb250ZW50PSJub2ZvbGxvdywgbm9pbmRleCwgbm9hcmNoaXZlIiAvPgoJCTw/PSAkdGhpcy0+bWtfY3NzKCkgPz4KCTwvaGVhZD4KCTxib2R5PgoJCTxkaXYgY2xhc3M9InRoZW1lLWNvbnRhaW5lciI+CgkJCTxoMT48Pz0gaHRtbHNwZWNpYWxjaGFycyggJHRoaXMtPmFwcF9pbmZvLT5uYW1lID8/ICcnICkgPz48L2gxPgoJCQk8cD5Mb2dnZWQgb3V0LjwvcD4KCQkJPHA+PGEgaHJlZj0iPyI+QmFjayB0byBIb21lPC9hPjwvcD4KCQk8L2Rpdj4KCTwvYm9keT4KPC9odG1sPgo8P3BocAoJCSRydG4gPSBvYl9nZXRfY2xlYW4oKTsKCQlwcmludCAkcnRuOwoJCWV4aXQ7Cgl9CgoJLyoqCgkgKiDjg63jgrDjgqTjg7PjgYzlv4XopoHjgYvvvJ8KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2xvZ2luX3JlcXVpcmVkKCl7CgkJaWYoICgKCQkJCSFpc19hcnJheSgkdGhpcy0+cmVuY29uLT5jb25mKCktPnVzZXJzID8/IG51bGwpCgkJCQkmJiAhaXNfb2JqZWN0KCR0aGlzLT5yZW5jb24tPmNvbmYoKS0+dXNlcnMgPz8gbnVsbCkKCQkJKSAmJiAoCgkJCQlpc19udWxsKCR0aGlzLT5yZW5jb24tPmNvbmYoKS0+cmVhbHBhdGhfcHJpdmF0ZV9kYXRhX2RpcikKCQkJCXx8ICFpc19kaXIoJHRoaXMtPnJlbmNvbi0+Y29uZigpLT5yZWFscGF0aF9wcml2YXRlX2RhdGFfZGlyKQoJCQkpICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkgKiDjg63jgrDjgqTjg7PjgZfjgabjgYTjgovjgYvnorroqo3jgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX2xvZ2luKCl7CgkJJFVTRVJfSUQgPSAkdGhpcy0+cmVxLT5nZXRfc2Vzc2lvbigkdGhpcy0+c2Vzc2lvbl9rZXlfaWQpOwoJCSRVU0VSX1BXID0gJHRoaXMtPnJlcS0+Z2V0X3Nlc3Npb24oJHRoaXMtPnNlc3Npb25fa2V5X3B3KTsKCQlpZiggIWlzX3N0cmluZygkVVNFUl9JRCkgfHwgIXN0cmxlbigkVVNFUl9JRCkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZiggJHRoaXMtPmlzX2NzcmZfdG9rZW5fcmVxdWlyZWQoKSAmJiAhJHRoaXMtPmlzX3ZhbGlkX2NzcmZfdG9rZW5fZ2l2ZW4oKSApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQkkdXNlcl9pbmZvID0gJHRoaXMtPmdldF91c2VyX2luZm9fZnVsbCggJFVTRVJfSUQgKTsKCQlpZiggIWlzX29iamVjdCgkdXNlcl9pbmZvKSB8fCAhaXNzZXQoJHVzZXJfaW5mby0+aWQpICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJaWYoICRVU0VSX0lEICE9JHVzZXJfaW5mby0+aWQgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZiggJFVTRVJfUFcgIT0gJHVzZXJfaW5mby0+cHcgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvKioKCSAqIOODkeOCueODr+ODvOODieOCkuODj+ODg+OCt+ODpeWMluOBmeOCiwoJICovCglwdWJsaWMgZnVuY3Rpb24gcGFzc3dvcmRfaGFzaCgkcGFzc3dvcmQpewoJCWlmKCAhaXNfc3RyaW5nKCRwYXNzd29yZCkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlyZXR1cm4gcGFzc3dvcmRfaGFzaCgkcGFzc3dvcmQsIFBBU1NXT1JEX0JDUllQVCk7Cgl9CgoJLyoqCgkgKiDjg63jgrDjgqTjg7PnlLvpnaLjgpLooajnpLrjgZfjgabntYLkuobjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGxvZ2luX3BhZ2UoICRlcnJvcl9tZXNzYWdlID0gbnVsbCApewoJCWhlYWRlcignQ29udGVudC10eXBlOiB0ZXh0L2h0bWwnKTsKCi8qIHJvdXRlcjpsb2dpbiAqLwoKCQlvYl9zdGFydCgpOwoJCT8+CjwhZG9jdHlwZSBodG1sPgo8aHRtbD4KCTxoZWFkPgoJCTxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPgoJCTx0aXRsZT48Pz0gaHRtbHNwZWNpYWxjaGFycyggJHRoaXMtPmFwcF9pbmZvLT5uYW1lID8/ICcnICkgPz48L3RpdGxlPgogICAgICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSIgLz4KCQk8bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQ9Im5vZm9sbG93LCBub2luZGV4LCBub2FyY2hpdmUiIC8+CgkJPD89ICR0aGlzLT5ta19jc3MoKSA/PgoJPC9oZWFkPgoJPGJvZHk+CgkJPGRpdiBjbGFzcz0idGhlbWUtY29udGFpbmVyIj4KCQkJPGgxPjw/PSBodG1sc3BlY2lhbGNoYXJzKCAkdGhpcy0+YXBwX2luZm8tPm5hbWUgPz8gJycgKSA/PjwvaDE+CgkJCTw/cGhwIGlmKCBzdHJsZW4oJHRoaXMtPnJlcS0+Z2V0X3BhcmFtKCdVU0VSX0ZMRycpID8/ICcnKSAmJiBzdHJsZW4oJGVycm9yX21lc3NhZ2UgPz8gJycpICl7ID8+CgkJCQk8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC1kYW5nZXIiIHJvbGU9ImFsZXJ0Ij4KCQkJCQk8ZGl2Pjw/PSBodG1sc3BlY2lhbGNoYXJzKCR0aGlzLT5sYW5nKCktPmdldCgnbG9naW5fZXJyb3IuJy4kZXJyb3JfbWVzc2FnZSkgPz8gJycpID8+PC9kaXY+CgkJCQk8L2Rpdj4KCQkJPD9waHAgfSA/PgoKCQkJPGZvcm0gYWN0aW9uPSI/IiBtZXRob2Q9InBvc3QiPgo8dGFibGU+Cgk8dHI+CgkJPHRoPklEOjwvdGg+CgkJPHRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJVU0VSX0lEIiB2YWx1ZT0iIiAvPjwvdGQ+Cgk8L3RyPgoJPHRyPgoJCTx0aD5QYXNzd29yZDo8L3RoPgoJCTx0ZD48aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9IlVTRVJfUFciIHZhbHVlPSIiIC8+PC90ZD4KCTwvdHI+CjwvdGFibGU+CjxwPjxidXR0b24gdHlwZT0ic3VibWl0Ij5Mb2dpbjwvYnV0dG9uPjwvcD4KPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iVVNFUl9GTEciIHZhbHVlPSIxIiAvPgo8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJDU1JGX1RPS0VOIiB2YWx1ZT0iPD89IGh0bWxzcGVjaWFsY2hhcnMoJHRoaXMtPmdldF9jc3JmX3Rva2VuKCkpID8+IiAvPgo8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhIiB2YWx1ZT0iPD89IGh0bWxzcGVjaWFsY2hhcnMoJHRoaXMtPnJlcS0+Z2V0X3BhcmFtKCdhJykgPz8gJycpID8+IiAvPgoJCQk8L2Zvcm0+CgkJPC9kaXY+Cgk8L2JvZHk+CjwvaHRtbD4KPD9waHAKCQkkcnRuID0gb2JfZ2V0X2NsZWFuKCk7CgkJcHJpbnQgJHJ0bjsKCQlleGl0OwoJfQoKCgkvKioKCSAqIENTU+OCkueUn+aIkAoJICovCglwcml2YXRlIGZ1bmN0aW9uIG1rX2NzcygpewoJCW9iX3N0YXJ0KCk7Pz4KCQk8c3R5bGU+CgkJCWh0bWwsIGJvZHkgewoJCQkJYmFja2dyb3VuZC1jb2xvcjogI2U3ZTdlNzsKCQkJCWNvbG9yOiAjMzMzOwoJCQkJZm9udC1zaXplOiAxNnB4OwoJCQkJbWFyZ2luOiAwOwoJCQkJcGFkZGluZzogMDsKCQkJfQoJCQlib2R5LGlucHV0LHRleHRhcmVhLHNlbGVjdCxvcHRpb24sYnV0dG9uewoJCQkJZm9udC1mYW1pbHk6ICJIZWx2ZXRpY2EgTmV1ZSIsIEFyaWFsLCAiSGlyYWdpbm8gS2FrdSBHb3RoaWMgUHJvTiIsICJIaXJhZ2lubyBTYW5zIiwgTWVpcnlvLCBzYW5zLXNlcmlmLCBzeXN0ZW0tdWk7CgkJCX0KCQkJLnRoZW1lLWNvbnRhaW5lciB7CgkJCQlib3gtc2l6aW5nOiBib3JkZXItYm94OwoJCQkJdGV4dC1hbGlnbjogY2VudGVyOwoJCQkJcGFkZGluZzogNGVtIDIwcHg7CgkJCQltYXJnaW46IDMwcHggYXV0bzsKCQkJCXdpZHRoOiBjYWxjKDEwMCUgLSAyMHB4KTsKCQkJCW1heC13aWR0aDogNjAwcHg7CgkJCQliYWNrZ3JvdW5kLWNvbG9yOiAjZjZmNmY2OwoJCQkJYm9yZGVyOiAxcHggc29saWQgI2JiYjsKCQkJCWJvcmRlci1yYWRpdXM6IDVweDsKCQkJCWJveC1zaGFkb3c6IDAgMnB4IDEycHggcmdiYSgwLDAsMCwwLjEpOwoJCQl9CgkJCWgxIHsKCQkJCWZvbnQtc2l6ZTogMjJweDsKCQkJfQoJCQl0YWJsZXsKCQkJCW1hcmdpbjogMCBhdXRvOwoJCQkJbWF4LXdpZHRoOiAxMDAlOwoJCQl9CgkJCXRoIHsKCQkJCXRleHQtYWxpZ246IHJpZ2h0OwoJCQkJcGFkZGluZzogM3B4OwoJCQl9CgkJCXRkIHsKCQkJCXRleHQtYWxpZ246IGxlZnQ7CgkJCQlwYWRkaW5nOiAzcHg7CgkJCX0KCQkJaW5wdXRbdHlwZT10ZXh0XSwKCQkJaW5wdXRbdHlwZT1wYXNzd29yZF17CgkJCQlkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CgkJCQlib3gtc2l6aW5nOiBib3JkZXItYm94OwoJCQkJd2lkdGg6IDE2MHB4OwoJCQkJbWluLXdpZHRoOiA1MHB4OwoJCQkJbWF4LXdpZHRoOiAxMDAlOwoJCQkJcGFkZGluZzogLjM3NXJlbSAuNzVyZW07CgkJCQlmb250LXNpemU6IDFlbTsKCQkJCWZvbnQtd2VpZ2h0OiBub3JtYWw7CgkJCQlsaW5lLWhlaWdodDogMS41OwoJCQkJY29sb3I6ICMzMzM7CgkJCQliYWNrZ3JvdW5kLWNvbG9yOiAjZjZmNmY2OwoJCQkJYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsKCQkJCWJvcmRlcjogMXB4IHNvbGlkICNjZWQ0ZGE7CgkJCQlib3JkZXItcmFkaXVzOiAuMjVyZW07CgkJCQl0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgLjE1cyBlYXNlLWluLW91dCxib3gtc2hhZG93IC4xNXMgZWFzZS1pbi1vdXQ7CgkJCX0KCQkJaW5wdXRbdHlwZT10ZXh0XTpmb2N1cywKCQkJaW5wdXRbdHlwZT1wYXNzd29yZF06Zm9jdXN7CgkJCQljb2xvcjogIzMzMzsKCQkJCWJhY2tncm91bmQtY29sb3I6ICNmZmY7CgkJCQlib3JkZXItY29sb3I6ICM4MGJkZmY7CgkJCQlvdXRsaW5lOiAwOwoJCQkJYm94LXNoYWRvdzogMCAwIDAgLjJyZW0gcmdiYSgwLDEyMywyNTUsLjI1KTsKCQkJfQoKCQkJYnV0dG9uIHsKCQkJCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCQkJCWJvcmRlci1yYWRpdXM6IDNweDsKCQkJCWJhY2tncm91bmQtY29sb3I6ICNmNWZiZmU7CgkJCQljb2xvcjogIzAwYTBlNjsKCQkJCWJvcmRlcjogMXB4IHNvbGlkICMwMGEwZTY7CgkJCQlib3gtc2hhZG93OiAwIDJweCAwcHggcmdiYSgwLDAsMCwwLjEpOwoJCQkJcGFkZGluZzogMC41ZW0gMmVtOwoJCQkJZm9udC1zaXplOjFlbTsKCQkJCWZvbnQtd2VpZ2h0OiBub3JtYWw7CgkJCQlsaW5lLWhlaWdodDogMTsKCQkJCXRleHQtZGVjb3JhdGlvbjogbm9uZTsKCQkJCXRleHQtYWxpZ246IGNlbnRlcjsKCQkJCWN1cnNvcjogcG9pbnRlcjsKCQkJCWJveC1zaXppbmc6IGJvcmRlci1ib3g7CgkJCQlhbGlnbi1pdGVtczogc3RyZXRjaDsKCQkJCXRyYW5zaXRpb246CgkJCQkJY29sb3IgMC4xcywKCQkJCQliYWNrZ3JvdW5kLWNvbG9yIDAuMXMsCgkJCQkJdHJhbnNmb3JtIDAuMXMKCQkJCTsKCQkJfQoJCQlidXR0b246Zm9jdXMsCgkJCWJ1dHRvbjpob3ZlcnsKCQkJCWJhY2tncm91bmQtY29sb3I6ICNkOWYxZmI7CgkJCX0KCQkJYnV0dG9uOmhvdmVyewoJCQkJYmFja2dyb3VuZC1jb2xvcjogI2NjZWNmYTsKCQkJfQoJCQlidXR0b246YWN0aXZlewoJCQkJYmFja2dyb3VuZC1jb2xvcjogIzAwYTBlNjsKCQkJCWNvbG9yOiAjZmZmOwoJCQl9CgoJCTwvc3R5bGU+CgoJCTw/cGhwCgkJJHNyYyA9IG9iX2dldF9jbGVhbigpOwoJCXJldHVybiAkc3JjOwoJfQoKCgkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJLy8g44Ki44Kr44Km44Oz44OI44Ot44OD44Kv5Yi25b6hCgoJLyoqCgkgKiDnrqHnkIbjg6bjg7zjgrbjg7zjgqLjgqvjgqbjg7Pjg4jjgYzjg63jg4Pjgq/jgZXjgozjgabjgYTjgovjgYvnorroqo3jgZnjgosKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBpc19hY2NvdW50X2xvY2tlZCggJHVzZXJfaWQgKXsKCQkkcmVhbHBhdGhfanNvbl9waHAgPSAkdGhpcy0+cmVhbHBhdGhfYWNjb3VudF9sb2NrLnVybGVuY29kZSgkdXNlcl9pZCkuJy5qc29uLnBocCc7CgkJJGRhdGEgPSBuZXcgXHN0ZENsYXNzOwoJCWlmKCBpc19maWxlKCRyZWFscGF0aF9qc29uX3BocCkgKXsKCQkJJGRhdGEgPSBkYXRhRG90UGhwOjpyZWFkX2pzb24oJHJlYWxwYXRoX2pzb25fcGhwKTsKCQl9CgoJCWlmKCAhaXNfYXJyYXkoJGRhdGEtPmZhaWxlZF9sb2cgPz8gbnVsbCkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJJGNvdW50ZXIgPSAwOwoJCWZvcmVhY2goICRkYXRhLT5mYWlsZWRfbG9nIGFzICRsb2cgKXsKCQkJJHRpbWUgPSBzdHJ0b3RpbWUoICRsb2ctPmF0ICk7CgkJCWlmKCAkdGltZSA+IHRpbWUoKSAtICg2MCAqIDYwKSApewoJCQkJLy8gNjDliIbku6XlhoXjga7lpLHmlZfjg63jgrDjgYzjgYLjgozjgbDjgqvjgqbjg7Pjg4jjgZnjgosKCQkJCSRjb3VudGVyICsrOwoJCQl9CgkJCWlmKCAkY291bnRlciA+PSA1ICl7CgkJCQkvLyDlpLHmlZfjg63jgrAgNeWbniDjgafjg63jg4Pjgq/jgZnjgosKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJfQoKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJLyoqCgkgKiDnrqHnkIbjg6bjg7zjgrbjg7zjgYzjg63jgrDjgqTjg7PjgavlpLHmlZfjgZfjgZ/jgZPjgajjgpLoqJjpjLLjgZnjgosKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiB1c2VyX2xvZ2luX2ZhaWxlZCggJHVzZXJfaWQgKXsKCQkkcmVhbHBhdGhfanNvbl9waHAgPSAkdGhpcy0+cmVhbHBhdGhfYWNjb3VudF9sb2NrLnVybGVuY29kZSgkdXNlcl9pZCkuJy5qc29uLnBocCc7CgkJJGRhdGEgPSBuZXcgXHN0ZENsYXNzOwoJCWlmKCBpc19maWxlKCRyZWFscGF0aF9qc29uX3BocCkgKXsKCQkJJGRhdGEgPSBkYXRhRG90UGhwOjpyZWFkX2pzb24oJHJlYWxwYXRoX2pzb25fcGhwKTsKCQl9CgoJCWlmKCAhaXNfYXJyYXkoJGRhdGEtPmZhaWxlZF9sb2cgPz8gbnVsbCkgKXsKCQkJJGRhdGEtPmxhc3RfZmFpbGVkID0gbnVsbDsKCQkJJGRhdGEtPmZhaWxlZF9sb2cgPSBhcnJheSgpOwoJCX0KCQkkZmFpbGVkX2RhdGUgPSBkYXRlKCdjJyk7CgkJJGRhdGEtPmxhc3RfZmFpbGVkID0gJGZhaWxlZF9kYXRlOwoJCWFycmF5X3B1c2goJGRhdGEtPmZhaWxlZF9sb2csIChvYmplY3QpIGFycmF5KAoJCQkiYXQiID0+ICRmYWlsZWRfZGF0ZSwKCQkJImNsaWVudF9pcCIgPT4gJF9TRVJWRVJbJ1JFTU9URV9BRERSJ10gPz8gbnVsbCwKCQkpKTsKCgkJJHJlc3VsdCA9IGRhdGFEb3RQaHA6OndyaXRlX2pzb24oJHJlYWxwYXRoX2pzb25fcGhwLCAkZGF0YSk7CgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkgKiDnrqHnkIbjg6bjg7zjgrbjg7zjgYzjg63jgrDjgqTjg7PjgavmiJDlip/jgZfjgZ/jgZPjgajjgpLoqJjpjLLjgZnjgosKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiB1c2VyX2xvZ2luX3N1Y2Nlc3NmdWwoICR1c2VyX2lkICl7CgkJJHJlYWxwYXRoX2pzb25fcGhwID0gJHRoaXMtPnJlYWxwYXRoX2FjY291bnRfbG9jay51cmxlbmNvZGUoJHVzZXJfaWQpLicuanNvbi5waHAnOwoJCSR0aGlzLT5mcy0+cm0oICRyZWFscGF0aF9qc29uX3BocCApOwoJCXJldHVybiB0cnVlOwoJfQoKCgkvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJLy8g566h55CG44Om44O844K244O85oOF5aCx5pON5L2cCgoJLyoqCgkgKiDnrqHnkIbjg6bjg7zjgrbjg7zjgpLkvZzmiJDjgZnjgosKCSAqCgkgKiBAcGFyYW0gYXJyYXl8b2JqZWN0ICRuZXdfcHJvZmlsZSDkvZzmiJDjgZnjgovjg6bjg7zjgrbjg7zmg4XloLEKCSAqIEBwYXJhbSBzdHJpbmcgJGxvZ2luX3Bhc3N3b3JkIOODreOCsOOCpOODs+OBl+OBpuOBhOOCi+ODpuODvOOCtuODvOOBruePvuWcqOOBruODkeOCueODr+ODvOODiQoJICovCglwdWJsaWMgZnVuY3Rpb24gY3JlYXRlX3VzZXIoICRuZXdfcHJvZmlsZSwgJGxvZ2luX3Bhc3N3b3JkICl7CgkJJHJlc3VsdCA9IChvYmplY3QpIGFycmF5KAoJCQkncmVzdWx0JyA9PiB0cnVlLAoJCQknbWVzc2FnZScgPT4gJ09LJywKCQkJJ2Vycm9ycycgPT4gKG9iamVjdCkgYXJyYXkoKSwKCQkpOwoKCQkkdXNlcl9saXN0ID0gJHRoaXMtPmdldF91c2VyX2xpc3QoKTsKCQkkbmV3X3Byb2ZpbGUgPSBqc29uX2RlY29kZShqc29uX2VuY29kZSgkbmV3X3Byb2ZpbGUpKTsKCQkkY3VycmVudF91c2VyX2luZm8gPSAkdGhpcy0+Z2V0X3VzZXJfaW5mb19mdWxsKCAkdGhpcy0+cmVxLT5nZXRfc2Vzc2lvbigkdGhpcy0+c2Vzc2lvbl9rZXlfaWQpICk7CgkJaWYoIGNvdW50KCR1c2VyX2xpc3QpICl7CgkJCS8vIE5PVEU6IOWni+OCgeOBpuOBruODpuODvOOCtuODvOOCkuS9nOaIkOOBmeOCi+OBqOOBjeOBr+OAgeePvuWcqOOBruODkeOCueODr+ODvOODieOCkuaxguOCgeOBquOBhOOAguODreOCsOOCpOODs+OBl+OBpuOBhOOCi+OBk+OBqOOCkuWJjeaPkOOBq+OBl+OBquOBhOOAggoJCQlpZiggIWlzX3N0cmluZygkbG9naW5fcGFzc3dvcmQpIHx8ICFzdHJsZW4oJGxvZ2luX3Bhc3N3b3JkKSB8fCAhcGFzc3dvcmRfdmVyaWZ5KCRsb2dpbl9wYXNzd29yZCwgJGN1cnJlbnRfdXNlcl9pbmZvLT5wdykgKXsKCQkJCS8vIOePvuWcqOOBruODkeOCueODr+ODvOODieOCkueiuuiqjQoJCQkJcmV0dXJuIChvYmplY3QpIGFycmF5KAoJCQkJCSdyZXN1bHQnID0+IGZhbHNlLAoJCQkJCSdtZXNzYWdlJyA9PiAnQXV0aGVudGljYXRpb24gRmFpbGVkLicsCgkJCQkJJ2Vycm9ycycgPT4gKG9iamVjdCkgYXJyYXkoCgkJCQkJCSdjdXJyZW50X3B3JyA9PiBhcnJheSgn54++5Zyo44Gu44Ot44Kw44Kk44Oz44OR44K544Ov44O844OJ44KS5q2j44GX44GP5YWl5Yqb44GX44Gm44GP44Gg44GV44GE44CCJyksCgkJCQkJKSwKCQkJCSk7CgkJCX0KCQl9CgoJCWlmKCAkdGhpcy0+dXNlcl9kYXRhX2V4aXN0cyggJG5ld19wcm9maWxlLT5pZCApICl7CgkJCXJldHVybiAob2JqZWN0KSBhcnJheSgKCQkJCSdyZXN1bHQnID0+IGZhbHNlLAoJCQkJJ21lc3NhZ2UnID0+ICfjgZ3jga7jg6bjg7zjgrbjg7xJROOBr+OBmeOBp+OBq+WtmOWcqOOBl+OBvuOBmeOAgicsCgkJCQknZXJyb3JzJyA9PiAob2JqZWN0KSBhcnJheSgKCQkJCQknaWQnID0+IGFycmF5KCfjgZ3jga7jg6bjg7zjgrbjg7xJROOBr+OBmeOBp+OBq+WtmOWcqOOBl+OBvuOBmeOAgicpCgkJCQkpLAoJCQkpOwoJCX0KCgkJaWYoIChzdHJsZW4oJG5ld19wcm9maWxlLT5wdyA/PyAnJykgfHwgc3RybGVuKCRuZXdfcHJvZmlsZS0+cHdfcmV0eXBlID8/ICcnKSkgJiYgJG5ld19wcm9maWxlLT5wdyAhPT0gJG5ld19wcm9maWxlLT5wd19yZXR5cGUgKXsKCQkJcmV0dXJuIChvYmplY3QpIGFycmF5KAoJCQkJJ3Jlc3VsdCcgPT4gZmFsc2UsCgkJCQknbWVzc2FnZScgPT4gJ1Bhc3N3b3JkIG5vdCBtYXRjaGVkLicsCgkJCQknZXJyb3JzJyA9PiAob2JqZWN0KSBhcnJheSgKCQkJCQkncHdfcmV0eXBlJyA9PiBhcnJheSgn44OR44K544Ov44O844OJ44GM5LiA6Ie044GX44G+44Gb44KT44CCJyksCgkJCQkpLAoJCQkpOwoJCX0KCgkJJHVzZXJfaW5mb192YWxpZGF0ZWQgPSAkdGhpcy0+dmFsaWRhdGVfdXNlcl9pbmZvKCRuZXdfcHJvZmlsZSk7CgkJaWYoICEkdXNlcl9pbmZvX3ZhbGlkYXRlZC0+aXNfdmFsaWQgKXsKCQkJLy8g5LiN5q2j44Gq5b2i5byP44Gu44Om44O844K244O85oOF5aCxCgkJCXJldHVybiAob2JqZWN0KSBhcnJheSgKCQkJCSdyZXN1bHQnID0+IGZhbHNlLAoJCQkJJ21lc3NhZ2UnID0+ICR1c2VyX2luZm9fdmFsaWRhdGVkLT5tZXNzYWdlLAoJCQkJJ2Vycm9ycycgPT4gJHVzZXJfaW5mb192YWxpZGF0ZWQtPmVycm9ycywKCQkJKTsKCQl9CgoJCSRuZXdfcHJvZmlsZS0+cHcgPSAkdGhpcy0+cGFzc3dvcmRfaGFzaCgkbmV3X3Byb2ZpbGUtPnB3KTsKCQlpZiggISR0aGlzLT53cml0ZV91c2VyX2RhdGEoJG5ld19wcm9maWxlLT5pZCwgJG5ld19wcm9maWxlKSApewoJCQlyZXR1cm4gKG9iamVjdCkgYXJyYXkoCgkJCQkncmVzdWx0JyA9PiBmYWxzZSwKCQkJCSdtZXNzYWdlJyA9PiAn44Om44O844K244O85oOF5aCx44Gu5L+d5a2Y44Gr5aSx5pWX44GX44G+44GX44Gf44CCJywKCQkJCSdlcnJvcnMnID0+IChvYmplY3QpIGFycmF5KCksCgkJCSk7CgkJfQoJCXJldHVybiAkcmVzdWx0OwoJfQoKCS8qKgoJICog54++5Zyo44Gu44Ot44Kw44Kk44Oz44Om44O844K244O844Gu5oOF5aCx44KS5Y+W5b6X44GZ44KLCgkgKgoJICogTk9URTog44GT44Gu44Oh44K944OD44OJ44Gv44CB44Om44O844K244O844OR44K544Ov44O844OJ44Gu44OP44OD44K344Ol5oOF5aCx44KS5ZCr44G+44Gq44GE5oOF5aCx44KS6L+U44GX44G+44GZ44CCCgkgKgoJICogQHJldHVybiBvYmplY3Qg54++5Zyo44Gu44Om44O844K244O844Gu5oOF5aCxICjjgZ/jgaDjgZfjg5Hjgrnjg6/jg7zjg4njg4/jg4Pjgrfjg6XjgpLlkKvjgb7jgarjgYQpCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfbG9naW5fdXNlcl9pbmZvKCl7CgkJJGxvZ2luX3VzZXJfaWQgPSAkdGhpcy0+cmVxLT5nZXRfc2Vzc2lvbigkdGhpcy0+c2Vzc2lvbl9rZXlfaWQpOwoJCWlmKCAhaXNfc3RyaW5nKCRsb2dpbl91c2VyX2lkKSB8fCAhc3RybGVuKCRsb2dpbl91c2VyX2lkKSApewoJCQkvLyDjg63jgrDjgqTjg7PjgZfjgabjgYTjgarjgYQKCQkJcmV0dXJuIG51bGw7CgkJfQoKCQlpZiggISR0aGlzLT52YWxpZGF0ZV91c2VyX2lkKCRsb2dpbl91c2VyX2lkKSApewoJCQkvLyDkuI3mraPjgarlvaLlvI/jga5JRAoJCQlyZXR1cm4gbnVsbDsKCQl9CgoJCSR1c2VyX2luZm8gPSAkdGhpcy0+Z2V0X3VzZXJfaW5mbyggJGxvZ2luX3VzZXJfaWQgKTsKCQlpZiggIWlzX29iamVjdCgkdXNlcl9pbmZvKSApewoJCQlyZXR1cm4gbnVsbDsKCQl9CgkJdW5zZXQoICR1c2VyX2luZm8tPnB3ICk7IC8vIOODkeOCueODr+ODvOODieODj+ODg+OCt+ODpeOBr+WHuuOBleOBquOBhAoJCXVuc2V0KCAkdXNlcl9pbmZvLT5wd19yZXR5cGUgKTsgdW5zZXQoICR1c2VyX2luZm8tPmN1cnJlbnRfcHcgKTsgLy8g5a2Y5Zyo44GX44Gq44GE44Gv44Ga44Gg44GM44CB5LiN5YW35ZCI44GM44GC44Gj44Gf44Go44GN44Gu5L+d6Zm6CgkJcmV0dXJuICR1c2VyX2luZm87Cgl9CgoJLyoqCgkgKiDnrqHnkIbogIXjg6bjg7zjgrbjg7zjga7kuIDopqfjgpLlj5blvpfjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF91c2VyX2xpc3QoKXsKCQlpZiggIWlzX2RpcigkdGhpcy0+cmVhbHBhdGhfdXNlcnMpICl7CgkJCXJldHVybiBhcnJheSgpOwoJCX0KCQkkZmlsZWxpc3QgPSAkdGhpcy0+ZnMtPmxzKCR0aGlzLT5yZWFscGF0aF91c2Vycyk7CgkJJHJ0biA9IGFycmF5KCk7CgkJZm9yZWFjaCggJGZpbGVsaXN0IGFzICRiYXNlbmFtZSApewoJCQkkdXNlcl9pZCA9IHByZWdfcmVwbGFjZSggJy9cLmpzb24oPzpcLnBocCk/JC9zaScsICcnLCAkYmFzZW5hbWUgKTsKCQkJJGpzb24gPSAoYXJyYXkpICR0aGlzLT5yZWFkX3VzZXJfZGF0YSggJHVzZXJfaWQgKTsKCQkJdW5zZXQoJGpzb25bJ3B3J10pOyAvLyDjg5Hjgrnjg6/jg7zjg4njg4/jg4Pjgrfjg6Xjga/jgq/jg6njgqTjgqLjg7Pjg4jjgavpgIHlh7rjgZfjgarjgYQKCQkJdW5zZXQoJGpzb25bJ3B3X3JldHlwZSddLCAkanNvblsnY3VycmVudF9wdyddKTsgLy8g5a2Y5Zyo44GX44Gq44GE44Gv44Ga44Gg44GM44CB5LiN5YW35ZCI44GM44GC44Gj44Gf44Go44GN44Gu5L+d6Zm6CgkJCWFycmF5X3B1c2goJHJ0biwgJGpzb24pOwoJCX0KCQlyZXR1cm4gJHJ0bjsKCX0KCgoJLyoqCgkgKiDnrqHnkIbogIXjg6bjg7zjgrbjg7zjga7mg4XloLHjgpLlj5blvpfjgZnjgosKCSAqCgkgKiBOT1RFOiDjgZPjga7jg6Hjgr3jg4Pjg4njga/jgIHjg6bjg7zjgrbjg7zjg5Hjgrnjg6/jg7zjg4njga7jg4/jg4Pjgrfjg6Xmg4XloLHjgpLlkKvjgb7jgarjgYTmg4XloLHjgpLov5TjgZfjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICR1c2VyX2lkIOWvvuixoeOBruODpuODvOOCtuODvElECgkgKiBAcmV0dXJuIG9iamVjdCDlr77osaHjga7jg6bjg7zjgrbjg7zmg4XloLEgKOODkeOCueODr+ODvOODieODj+ODg+OCt+ODpeOCkuWQq+OBvuOBquOBhCkKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBnZXRfdXNlcl9pbmZvKCR1c2VyX2lkKXsKCQkkdXNlcl9pbmZvID0gJHRoaXMtPmdldF91c2VyX2luZm9fZnVsbCgkdXNlcl9pZCk7CgkJaWYoICEkdXNlcl9pbmZvICl7CgkJCXJldHVybiBudWxsOwoJCX0KCQl1bnNldCggJHVzZXJfaW5mby0+cHcgKTsgLy8g44OR44K544Ov44O844OJ44OP44OD44K344Ol44Gv5Ye644GV44Gq44GECgkJdW5zZXQoICR1c2VyX2luZm8tPnB3X3JldHlwZSApOyB1bnNldCggJHVzZXJfaW5mby0+Y3VycmVudF9wdyApOyAvLyDlrZjlnKjjgZfjgarjgYTjga/jgZrjgaDjgYzjgIHkuI3lhbflkIjjgYzjgYLjgaPjgZ/jgajjgY3jga7kv53pmboKCQlyZXR1cm4gJHVzZXJfaW5mbzsKCX0KCgkvKioKCSAqIOeuoeeQhuiAheODpuODvOOCtuODvOOBruaDheWgseOCkuWPluW+l+OBmeOCiwoJICoKCSAqICpBdHRlbnRpb24qOiDjgZPjga7jg6Hjgr3jg4Pjg4njga7miLvjgorlgKTjgavjga/jgIHjg5Hjgrnjg6/jg7zjg4njg4/jg4Pjgrfjg6XjgYzlkKvjgb7jgozjgb7jgZnjgIIKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICR1c2VyX2lkIOWvvuixoeOBruODpuODvOOCtuODvElECgkgKiBAcmV0dXJuIG9iamVjdCDlr77osaHjga7jg6bjg7zjgrbjg7zmg4XloLEgKOODkeOCueODr+ODvOODieODj+ODg+OCt+ODpeOCkuWQq+OCgCkKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBnZXRfdXNlcl9pbmZvX2Z1bGwoJHVzZXJfaWQpewoJCWlmKCAhJHRoaXMtPnZhbGlkYXRlX3VzZXJfaWQoJHVzZXJfaWQpICl7CgkJCS8vIOS4jeato+OBquW9ouW8j+OBrklECgkJCXJldHVybiBudWxsOwoJCX0KCgkJLy8gY29uZmlnIOOBq+Wumue+qeOBleOCjOOBn+ODpuODvOOCtuODvOOBp+ODreOCsOOCpOODs+OCkuippuOBv+OCiwoJCSR1c2VycyA9IChhcnJheSkgJHRoaXMtPnJlbmNvbi0+Y29uZigpLT51c2VyczsKCQlpZiggaXNfc3RyaW5nKCR1c2Vyc1skdXNlcl9pZF0gPz8gbnVsbCkgKXsKCQkJcmV0dXJuIChvYmplY3QpIGFycmF5KAoJCQkJIm5hbWUiID0+ICR1c2VyX2lkLAoJCQkJImlkIiA9PiAkdXNlcl9pZCwKCQkJCSJwdyIgPT4gJHVzZXJzWyR1c2VyX2lkXSwKCQkJCSJsYW5nIiA9PiBudWxsLAoJCQkJImVtYWlsIiA9PiBudWxsLAoJCQkJInJvbGUiID0+ICJhZG1pbiIsCgkJCSk7CgkJfWVsc2VpZiggaXNfYXJyYXkoJHVzZXJzWyR1c2VyX2lkXSA/PyBudWxsKSB8fCBpc19vYmplY3QoJHVzZXJzWyR1c2VyX2lkXSA/PyBudWxsKSApewoJCQlyZXR1cm4gKG9iamVjdCkgJHVzZXJzWyR1c2VyX2lkXTsKCQl9CgoJCS8vIOODpuODvOOCtuODvOODh+OCo+ODrOOCr+ODiOODquOBq+OCu+ODg+ODiOOBleOCjOOBn+ODpuODvOOCtuODvOOBp+ippuOBv+OCiwoJCSR1c2VyX2luZm8gPSBudWxsOwoJCWlmKCBzdHJsZW4oJHRoaXMtPnJlYWxwYXRoX3VzZXJzID8/ICcnKSAmJiBpc19kaXIoJHRoaXMtPnJlYWxwYXRoX3VzZXJzKSAmJiAkdGhpcy0+ZnMtPmxzKCR0aGlzLT5yZWFscGF0aF91c2VycykgKXsKCQkJaWYoICR0aGlzLT51c2VyX2RhdGFfZXhpc3RzKCAkdXNlcl9pZCApICl7CgkJCQkkdXNlcl9pbmZvID0gJHRoaXMtPnJlYWRfdXNlcl9kYXRhKCAkdXNlcl9pZCApOwoJCQkJaWYoICFpc3NldCgkdXNlcl9pbmZvLT5pZCkgfHwgJHVzZXJfaW5mby0+aWQgIT0gJHVzZXJfaWQgKXsKCQkJCQkvLyBJROWApOOBjOS4jeS4gOiHtOOBoOOBo+OBn+OCiQoJCQkJCXJldHVybiBudWxsOwoJCQkJfQoJCQl9CgkJfQoJCXJldHVybiBpc19udWxsKCR1c2VyX2luZm8pID8gJHVzZXJfaW5mbyA6IChvYmplY3QpICR1c2VyX2luZm87Cgl9CgoJLyoqCgkgKiDnj77lnKjjga7jg63jgrDjgqTjg7Pjg6bjg7zjgrbjg7zoh6rouqvjga7mg4XloLHjgpLmm7TmlrDjgZnjgosKCSAqCgkgKiBAcGFyYW0gYXJyYXl8b2JqZWN0ICRuZXdfcHJvZmlsZSDlpInmm7TjgZnjgovmlrDjgZfjgYTjg6bjg7zjgrbjg7zmg4XloLEKCSAqIEBwYXJhbSBzdHJpbmcgJGxvZ2luX3Bhc3N3b3JkIOODreOCsOOCpOODs+OBl+OBpuOBhOOCi+ODpuODvOOCtuODvOOBruePvuWcqOOBruODkeOCueODr+ODvOODiQoJICovCglwdWJsaWMgZnVuY3Rpb24gdXBkYXRlX2xvZ2luX3VzZXJfaW5mbyggJG5ld19wcm9maWxlLCAkbG9naW5fcGFzc3dvcmQgKXsKCQkkbmV3X3Byb2ZpbGUgPSBqc29uX2RlY29kZShqc29uX2VuY29kZSgkbmV3X3Byb2ZpbGUpKTsKCQkkbG9naW5fdXNlcl9pZCA9ICR0aGlzLT5yZXEtPmdldF9zZXNzaW9uKCR0aGlzLT5zZXNzaW9uX2tleV9pZCk7CgkJaWYoICFpc19zdHJpbmcoJGxvZ2luX3VzZXJfaWQpIHx8ICFzdHJsZW4oJGxvZ2luX3VzZXJfaWQpICl7CgkJCS8vIOODreOCsOOCpOODs+OBl+OBpuOBhOOBquOBhAoJCQlyZXR1cm4gKG9iamVjdCkgYXJyYXkoCgkJCQkncmVzdWx0JyA9PiBmYWxzZSwKCQkJCSdtZXNzYWdlJyA9PiAnQXV0aGVudGljYXRpb24gZmFpbGVkLicsCgkJCQknZXJyb3JzJyA9PiAob2JqZWN0KSBhcnJheSgpLAoJCQkpOwoJCX0KCgkJJGFsbG93X3Byb2ZpbGVfa2V5cyA9IGFycmF5KAoJCQknaWQnLAoJCQknbmFtZScsCgkJCSdsYW5nJywKCQkJJ3B3JywKCQkJJ3B3X3JldHlwZScsCgkJCSdlbWFpbCcsCgkJCS8vICdyb2xlJywgLy8g6Ieq5YiG44Gu44Ot44O844Or44Gv5aSJ5pu044Gn44GN44Gq44GECgkJKTsKCQlmb3JlYWNoKCAkbmV3X3Byb2ZpbGUgYXMgJGtleT0+JHZhbCApewoJCQlpZiggYXJyYXlfc2VhcmNoKCRrZXksICRhbGxvd19wcm9maWxlX2tleXMpID09PSBmYWxzZSApewoJCQkJdW5zZXQoJG5ld19wcm9maWxlLT57JGtleX0pOyAvLyDlpInmm7TjgafjgY3jgarjgYTjgq3jg7zjgpLliYrpmaTjgZnjgosKCQkJfQoJCX0KCQlpZiggIXN0cmxlbigkbmV3X3Byb2ZpbGUtPnB3IHx8ICcnKSAmJiAhc3RybGVuKCRuZXdfcHJvZmlsZS0+cHdfcmV0eXBlIHx8ICcnKSApewoJCQl1bnNldCgkbmV3X3Byb2ZpbGUtPnB3KTsKCQkJdW5zZXQoJG5ld19wcm9maWxlLT5wd19yZXR5cGUpOwoJCX0KCQkkcnRuID0gJHRoaXMtPnVwZGF0ZV91c2VyX2luZm8oICRsb2dpbl91c2VyX2lkLCAkbmV3X3Byb2ZpbGUsICRsb2dpbl9wYXNzd29yZCApOwoKCQlpZiggJHJ0bi0+cmVzdWx0ICl7CgkJCS8vIOODreOCsOOCpOODs+ODpuODvOOCtuODvOOBruaDheWgseOCkuabtOaWsAoJCQkkbmV3X2xvZ2luX3VzZXJfaWQgPSAkbG9naW5fdXNlcl9pZDsKCQkJaWYoIGlzc2V0KCRuZXdfcHJvZmlsZS0+aWQpICYmIGlzX3N0cmluZygkbmV3X3Byb2ZpbGUtPmlkKSApewoJCQkJJG5ld19sb2dpbl91c2VyX2lkID0gJG5ld19wcm9maWxlLT5pZDsKCQkJfQoJCQkkdGhpcy0+cmVxLT5zZXRfc2Vzc2lvbigkdGhpcy0+c2Vzc2lvbl9rZXlfaWQsICRuZXdfbG9naW5fdXNlcl9pZCk7CgkJCWlmKCBpc3NldCgkbmV3X3Byb2ZpbGUtPnB3KSAmJiBpc19zdHJpbmcoJG5ld19wcm9maWxlLT5wdykgJiYgc3RybGVuKCRuZXdfcHJvZmlsZS0+cHcpICl7CgkJCQkkbmV3X3VzZXJfaW5mbyA9ICR0aGlzLT5nZXRfdXNlcl9pbmZvX2Z1bGwoJG5ld19sb2dpbl91c2VyX2lkKTsKCQkJCSR0aGlzLT5yZXEtPnNldF9zZXNzaW9uKCR0aGlzLT5zZXNzaW9uX2tleV9wdywgJG5ld191c2VyX2luZm8tPnB3KTsKCQkJfQoJCX0KCgkJcmV0dXJuICRydG47Cgl9CgoJLyoqCgkgKiDnrqHnkIbogIXjg6bjg7zjgrbjg7zjga7mg4XloLHjgpLmm7TmlrDjgZnjgosKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICR0YXJnZXRfdXNlcl9pZCDlpInmm7Tlr77osaHjga7jg6bjg7zjgrbjg7xJRAoJICogQHBhcmFtIGFycmF5fG9iamVjdCAkbmV3X3Byb2ZpbGUg5aSJ5pu044GZ44KL5paw44GX44GE44Om44O844K244O85oOF5aCxCgkgKiBAcGFyYW0gc3RyaW5nICRsb2dpbl9wYXNzd29yZCDjg63jgrDjgqTjg7PjgZfjgabjgYTjgovjg6bjg7zjgrbjg7zjga7nj77lnKjjga7jg5Hjgrnjg6/jg7zjg4kKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHVwZGF0ZV91c2VyX2luZm8oICR0YXJnZXRfdXNlcl9pZCwgJG5ld19wcm9maWxlLCAkbG9naW5fcGFzc3dvcmQgKXsKCQkkbmV3X3Byb2ZpbGUgPSBqc29uX2RlY29kZShqc29uX2VuY29kZSgkbmV3X3Byb2ZpbGUpKTsKCQkkcmVzdWx0ID0gKG9iamVjdCkgYXJyYXkoCgkJCSdyZXN1bHQnID0+IHRydWUsCgkJCSdtZXNzYWdlJyA9PiAnT0snLAoJCQknZXJyb3JzJyA9PiAob2JqZWN0KSBhcnJheSgpLAoJCSk7CgoJCSRjdXJyZW50X3VzZXJfaW5mbyA9ICR0aGlzLT5nZXRfdXNlcl9pbmZvX2Z1bGwoICR0aGlzLT5yZXEtPmdldF9zZXNzaW9uKCR0aGlzLT5zZXNzaW9uX2tleV9pZCkgKTsKCQlpZiggIWlzX3N0cmluZygkbG9naW5fcGFzc3dvcmQpIHx8ICFzdHJsZW4oJGxvZ2luX3Bhc3N3b3JkKSB8fCAhcGFzc3dvcmRfdmVyaWZ5KCRsb2dpbl9wYXNzd29yZCwgJGN1cnJlbnRfdXNlcl9pbmZvLT5wdykgKXsKCQkJLy8g54++5Zyo44Gu44OR44K544Ov44O844OJ44KS56K66KqNCgkJCXJldHVybiAob2JqZWN0KSBhcnJheSgKCQkJCSdyZXN1bHQnID0+IGZhbHNlLAoJCQkJJ21lc3NhZ2UnID0+ICdBdXRoZW50aWNhdGlvbiBGYWlsZWQuJywKCQkJCSdlcnJvcnMnID0+IChvYmplY3QpIGFycmF5KAoJCQkJCSdjdXJyZW50X3B3JyA9PiBhcnJheSgn54++5Zyo44Gu44Ot44Kw44Kk44Oz44OR44K544Ov44O844OJ44KS5q2j44GX44GP5YWl5Yqb44GX44Gm44GP44Gg44GV44GE44CCJyksCgkJCQkpLAoJCQkpOwoJCX0KCgkJaWYoICFpc19zdHJpbmcoJHRhcmdldF91c2VyX2lkKSB8fCAhc3RybGVuKCR0YXJnZXRfdXNlcl9pZCkgKXsKCQkJLy8g5pu05paw5a++6LGh44GM5pyq5oyH5a6aCgkJCXJldHVybiAob2JqZWN0KSBhcnJheSgKCQkJCSdyZXN1bHQnID0+IGZhbHNlLAoJCQkJJ21lc3NhZ2UnID0+ICdUYXJnZXQgbm90IHNldC4nLAoJCQkJJ2Vycm9ycycgPT4gKG9iamVjdCkgYXJyYXkoKSwKCQkJKTsKCQl9CgoJCWlmKCAhJHRoaXMtPnZhbGlkYXRlX3VzZXJfaWQoJHRhcmdldF91c2VyX2lkKSApewoJCQkvLyDkuI3mraPjgarlvaLlvI/jga5JRAoJCQlyZXR1cm4gKG9iamVjdCkgYXJyYXkoCgkJCQkncmVzdWx0JyA9PiBmYWxzZSwKCQkJCSdtZXNzYWdlJyA9PiAnSW52YWxpZCBMb2dpbiBVc2VyIElELicsCgkJCQknZXJyb3JzJyA9PiAob2JqZWN0KSBhcnJheSgpLAoJCQkpOwoJCX0KCgkJJHVzZXJfaW5mbyA9ICR0aGlzLT5nZXRfdXNlcl9pbmZvX2Z1bGwoICR0YXJnZXRfdXNlcl9pZCApOwoJCWlmKCAhaXNfb2JqZWN0KCR1c2VyX2luZm8pICl7CgkJCXJldHVybiAob2JqZWN0KSBhcnJheSgKCQkJCSdyZXN1bHQnID0+IGZhbHNlLAoJCQkJJ21lc3NhZ2UnID0+ICdGYWlsZWQgdG8gZ2V0IHVzZXIgaW5mb3JtYXRpb24uJywKCQkJCSdlcnJvcnMnID0+IChvYmplY3QpIGFycmF5KCksCgkJCSk7CgkJfQoKCQlpZiggKHN0cmxlbigkbmV3X3Byb2ZpbGUtPnB3ID8/ICcnKSB8fCBzdHJsZW4oJG5ld19wcm9maWxlLT5wd19yZXR5cGUgPz8gJycpKSAmJiAkbmV3X3Byb2ZpbGUtPnB3ICE9PSAkbmV3X3Byb2ZpbGUtPnB3X3JldHlwZSApewoJCQlyZXR1cm4gKG9iamVjdCkgYXJyYXkoCgkJCQkncmVzdWx0JyA9PiBmYWxzZSwKCQkJCSdtZXNzYWdlJyA9PiAnUGFzc3dvcmQgbm90IG1hdGNoZWQuJywKCQkJCSdlcnJvcnMnID0+IChvYmplY3QpIGFycmF5KAoJCQkJCSdwd19yZXR5cGUnID0+IGFycmF5KCfjg5Hjgrnjg6/jg7zjg4njgYzkuIDoh7TjgZfjgb7jgZvjgpPjgIInKSwKCQkJCSksCgkJCSk7CgkJfQoKCQkkcHJvZmlsZV9rZXlzID0gYXJyYXkoCgkJCSdpZCcsCgkJCSduYW1lJywKCQkJJ2xhbmcnLAoJCQkncHcnLAoJCQknZW1haWwnLAoJCQkncm9sZScsCgkJKTsKCQlmb3JlYWNoKCAkcHJvZmlsZV9rZXlzIGFzICRrZXkgKXsKCQkJLy8g5aSJ5pu06aCF55uu44Gu5pW055CGCgkJCWlmKCAhcHJvcGVydHlfZXhpc3RzKCRuZXdfcHJvZmlsZSwgJGtleSkgKXsKCQkJCWNvbnRpbnVlOwoJCQl9CgkJCSR2YWwgPSAkbmV3X3Byb2ZpbGUtPnska2V5fSA/PyBudWxsOwoJCQlpZiggJGtleSA9PSAncHcnICl7CgkJCQlpZiggIWlzX3N0cmluZygkdmFsKSB8fCAhc3RybGVuKCR2YWwpICl7CgkJCQkJY29udGludWU7CgkJCQl9CgkJCQkkdXNlcl9pbmZvLT57JGtleX0gPSAkdGhpcy0+cGFzc3dvcmRfaGFzaCgkdmFsKTsKCQkJCWNvbnRpbnVlOwoJCQl9CgoJCQkkdXNlcl9pbmZvLT57JGtleX0gPSAkdmFsOwoJCX0KCgkJJHVzZXJfaW5mb192YWxpZGF0ZWQgPSAkdGhpcy0+dmFsaWRhdGVfdXNlcl9pbmZvKCR1c2VyX2luZm8pOwoJCWlmKCAhJHVzZXJfaW5mb192YWxpZGF0ZWQtPmlzX3ZhbGlkICl7CgkJCS8vIOS4jeato+OBquW9ouW8j+OBruODpuODvOOCtuODvOaDheWgsQoJCQlyZXR1cm4gKG9iamVjdCkgYXJyYXkoCgkJCQkncmVzdWx0JyA9PiBmYWxzZSwKCQkJCSdtZXNzYWdlJyA9PiAkdXNlcl9pbmZvX3ZhbGlkYXRlZC0+bWVzc2FnZSwKCQkJCSdlcnJvcnMnID0+ICR1c2VyX2luZm9fdmFsaWRhdGVkLT5lcnJvcnMsCgkJCSk7CgkJfQoKCgkJaWYoICR0YXJnZXRfdXNlcl9pZCAhPSAkdXNlcl9pbmZvLT5pZCAmJiAkdGhpcy0+dXNlcl9kYXRhX2V4aXN0cygkdXNlcl9pbmZvLT5pZCkgKXsKCQkJLy8g5pei44Gr5a2Y5Zyo44GX44G+44GZ44CCCgkJCXJldHVybiAob2JqZWN0KSBhcnJheSgKCQkJCSdyZXN1bHQnID0+IGZhbHNlLAoJCQkJJ21lc3NhZ2UnID0+ICfmlrDjgZfjgYTjg6bjg7zjgrbjg7xJROOBr+aXouOBq+WtmOWcqOOBl+OBvuOBmeOAgicsCgkJCQknZXJyb3JzJyA9PiAob2JqZWN0KSBhcnJheSgKCQkJCQknaWQnID0+IGFycmF5KCfmlrDjgZfjgYTjg6bjg7zjgrbjg7xJROOBr+aXouOBq+WtmOWcqOOBl+OBvuOBmeOAgicpLAoJCQkJKSwKCQkJKTsKCQl9CgoJCS8vIOaWsOOBl+OBhElE44Gu44Gf44KB44Gr44OV44Kh44Kk44Or5ZCN44KS5aSJ5pu0CgkJJHJlc19yZW5hbWUgPSAkdGhpcy0+cmVuYW1lX3VzZXJfZGF0YSgkdGFyZ2V0X3VzZXJfaWQsICR1c2VyX2luZm8tPmlkKTsKCQlpZiggISRyZXNfcmVuYW1lICl7CgkJCXJldHVybiAob2JqZWN0KSBhcnJheSgKCQkJCSdyZXN1bHQnID0+IGZhbHNlLAoJCQkJJ21lc3NhZ2UnID0+ICfjg6bjg7zjgrbjg7xJROOBruWkieabtOOBq+WkseaVl+OBl+OBvuOBl+OBn+OAgicsCgkJCQknZXJyb3JzJyA9PiAob2JqZWN0KSBhcnJheSgpLAoJCQkpOwoJCX0KCgkJaWYoICEkdGhpcy0+d3JpdGVfdXNlcl9kYXRhKCR1c2VyX2luZm8tPmlkLCAkdXNlcl9pbmZvKSApewoJCQlyZXR1cm4gKG9iamVjdCkgYXJyYXkoCgkJCQkncmVzdWx0JyA9PiBmYWxzZSwKCQkJCSdtZXNzYWdlJyA9PiAn44Om44O844K244O85oOF5aCx44Gu5L+d5a2Y44Gr5aSx5pWX44GX44G+44GX44Gf44CCJywKCQkJCSdlcnJvcnMnID0+IChvYmplY3QpIGFycmF5KCksCgkJCSk7CgkJfQoKCQkkbG9nX21lc3NhZ2UgPSAnQWRtaW4gdXNlciBcJycuJHVzZXJfaW5mby0+aWQuJ1wnIGluZm8gdXBkYXRlZC4nOwoJCWlmKCR0YXJnZXRfdXNlcl9pZCAhPSAkdXNlcl9pbmZvLT5pZCl7CgkJCSRsb2dfbWVzc2FnZSAuPSAnOyBJRCBjaGFuZ2VkIFwnJy4kdGFyZ2V0X3VzZXJfaWQuJ1wnIHRvIFwnJy4kdXNlcl9pbmZvLT5pZC4nXCcnOwoJCX0KCQlpZihpc3NldCgkbmV3X3Byb2ZpbGUtPnB3KSAmJiBpc19zdHJpbmcoJG5ld19wcm9maWxlLT5wdykgJiYgc3RybGVuKCRuZXdfcHJvZmlsZS0+cHcpKXsKCQkJJGxvZ19tZXNzYWdlIC49ICc7IFBhc3N3b3JkIGNoYW5nZWQnOwoJCX0KCQkkdGhpcy0+bG9nZ2VyKCktPmxvZygkbG9nX21lc3NhZ2UpOwoKCQlyZXR1cm4gJHJlc3VsdDsKCX0KCgoJLyoqCgkgKiDnrqHnkIbogIXjg6bjg7zjgrbjg7zjga7mg4XloLHjgpLliYrpmaTjgZnjgosKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICR0YXJnZXRfdXNlcl9pZCDliYrpmaTlr77osaHjga7jg6bjg7zjgrbjg7xJRAoJICogQHBhcmFtIHN0cmluZyAkbG9naW5fcGFzc3dvcmQg44Ot44Kw44Kk44Oz44GX44Gm44GE44KL44Om44O844K244O844Gu54++5Zyo44Gu44OR44K544Ov44O844OJCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkZWxldGVfdXNlcl9pbmZvKCAkdGFyZ2V0X3VzZXJfaWQsICRsb2dpbl9wYXNzd29yZCApewoJCSRjdXJyZW50X3VzZXJfaW5mbyA9ICR0aGlzLT5nZXRfdXNlcl9pbmZvX2Z1bGwoICR0aGlzLT5yZXEtPmdldF9zZXNzaW9uKCR0aGlzLT5zZXNzaW9uX2tleV9pZCkgKTsKCQlpZiggIWlzX3N0cmluZygkbG9naW5fcGFzc3dvcmQpIHx8ICFzdHJsZW4oJGxvZ2luX3Bhc3N3b3JkKSB8fCAhcGFzc3dvcmRfdmVyaWZ5KCRsb2dpbl9wYXNzd29yZCwgJGN1cnJlbnRfdXNlcl9pbmZvLT5wdykgKXsKCQkJLy8g54++5Zyo44Gu44OR44K544Ov44O844OJ44KS56K66KqNCgkJCXJldHVybiAob2JqZWN0KSBhcnJheSgKCQkJCSdyZXN1bHQnID0+IGZhbHNlLAoJCQkJJ21lc3NhZ2UnID0+ICdBdXRoZW50aWNhdGlvbiBGYWlsZWQuJywKCQkJCSdlcnJvcnMnID0+IChvYmplY3QpIGFycmF5KAoJCQkJCSdjdXJyZW50X3B3JyA9PiBhcnJheSgn54++5Zyo44Gu44Ot44Kw44Kk44Oz44OR44K544Ov44O844OJ44KS5q2j44GX44GP5YWl5Yqb44GX44Gm44GP44Gg44GV44GE44CCJyksCgkJCQkpLAoJCQkpOwoJCX0KCgkJJHJlc3VsdCA9IChvYmplY3QpIGFycmF5KAoJCQkncmVzdWx0JyA9PiB0cnVlLAoJCQknbWVzc2FnZScgPT4gJ09LJywKCQkJJ2Vycm9ycycgPT4gKG9iamVjdCkgYXJyYXkoKSwKCQkpOwoJCWlmKCAhaXNfc3RyaW5nKCR0YXJnZXRfdXNlcl9pZCkgfHwgIXN0cmxlbigkdGFyZ2V0X3VzZXJfaWQpICl7CgkJCS8vIOWJiumZpOWvvuixoeOBjOacquaMh+WumgoJCQlyZXR1cm4gKG9iamVjdCkgYXJyYXkoCgkJCQkncmVzdWx0JyA9PiBmYWxzZSwKCQkJCSdtZXNzYWdlJyA9PiAn5YmK6Zmk5a++6LGh44KS5oyH5a6a44GX44Gm44GP44Gg44GV44GE44CCJywKCQkJCSdlcnJvcnMnID0+IChvYmplY3QpIGFycmF5KCksCgkJCSk7CgkJfQoKCQlpZiggISR0aGlzLT52YWxpZGF0ZV91c2VyX2lkKCR0YXJnZXRfdXNlcl9pZCkgKXsKCQkJLy8g5LiN5q2j44Gq5b2i5byP44GuSUQKCQkJcmV0dXJuIChvYmplY3QpIGFycmF5KAoJCQkJJ3Jlc3VsdCcgPT4gZmFsc2UsCgkJCQknbWVzc2FnZScgPT4gJ+ODreOCsOOCpOODs+ODpuODvOOCtuODvOOBrklE44GM5LiN5q2j44Gn44GZ44CCJywKCQkJCSdlcnJvcnMnID0+IChvYmplY3QpIGFycmF5KCksCgkJCSk7CgkJfQoKCQkkdXNlcl9pbmZvID0gJHRoaXMtPmdldF91c2VyX2luZm9fZnVsbCggJHRhcmdldF91c2VyX2lkICk7CgkJaWYoICFpc19vYmplY3QoJHVzZXJfaW5mbykgKXsKCQkJcmV0dXJuIChvYmplY3QpIGFycmF5KAoJCQkJJ3Jlc3VsdCcgPT4gZmFsc2UsCgkJCQknbWVzc2FnZScgPT4gJ+ODpuODvOOCtuODvOaDheWgseOBruWPluW+l+OBq+WkseaVl+OBl+OBvuOBl+OBn+OAgicsCgkJCQknZXJyb3JzJyA9PiAob2JqZWN0KSBhcnJheSgpLAoJCQkpOwoJCX0KCgkJaWYoICEkdGhpcy0+cmVtb3ZlX3VzZXJfZGF0YSgkdXNlcl9pbmZvLT5pZCkgKXsKCQkJcmV0dXJuIChvYmplY3QpIGFycmF5KAoJCQkJJ3Jlc3VsdCcgPT4gZmFsc2UsCgkJCQknbWVzc2FnZScgPT4gJ+ODpuODvOOCtuODvOaDheWgseOBruWJiumZpOOBq+WkseaVl+OBl+OBvuOBl+OBn+OAgicsCgkJCQknZXJyb3JzJyA9PiAob2JqZWN0KSBhcnJheSgpLAoJCQkpOwoJCX0KCgkJcmV0dXJuICRyZXN1bHQ7Cgl9CgoKCgkvKioKCSAqIFZhbGlkYXRpb246IOODpuODvOOCtuODvElECgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gdmFsaWRhdGVfdXNlcl9pZCggJHVzZXJfaWQgKXsKCQlpZiggIWlzX3N0cmluZygkdXNlcl9pZCkgfHwgIXN0cmxlbigkdXNlcl9pZCkgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZiggIXByZWdfbWF0Y2goJy9eW2EtekEtWjAtOVxfXC1dKyQvJywgJHVzZXJfaWQpICl7CgkJCS8vIOS4jeato+OBquW9ouW8jwoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCXJldHVybiB0cnVlOwoJfQoKCS8qKgoJICogVmFsaWRhdGlvbjog44Om44O844K244O85oOF5aCxCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiB2YWxpZGF0ZV91c2VyX2luZm8oICR1c2VyX2luZm8gKXsKCQkkcnRuID0gKG9iamVjdCkgYXJyYXkoCgkJCSdpc192YWxpZCcgPT4gdHJ1ZSwKCQkJJ21lc3NhZ2UnID0+IG51bGwsCgkJCSdlcnJvcnMnID0+IChvYmplY3QpIGFycmF5KCksCgkJKTsKCQkkdXNlcl9pbmZvID0gKG9iamVjdCkgJHVzZXJfaW5mbzsKCgkJaWYoICFzdHJsZW4oJHVzZXJfaW5mby0+aWQgPz8gJycpICl7CgkJCS8vIElE44GM5pyq5oyH5a6aCgkJCSRydG4tPmlzX3ZhbGlkID0gZmFsc2U7CgkJCSRydG4tPmVycm9ycy0+aWQgPSBhcnJheSgkdGhpcy0+bGFuZygpLT5nZXQoJ2Vycm9yX21lc3NhZ2UucmVxdWlyZWRfdXNlcl9pZCcpKTsKCQl9ZWxzZWlmKCAhJHRoaXMtPnZhbGlkYXRlX3VzZXJfaWQoJHVzZXJfaW5mby0+aWQpICl7CgkJCS8vIOS4jeato+OBquW9ouW8j+OBrklECgkJCSRydG4tPmlzX3ZhbGlkID0gZmFsc2U7CgkJCSRydG4tPmVycm9ycy0+aWQgPSBhcnJheSgkdGhpcy0+bGFuZygpLT5nZXQoJ2Vycm9yX21lc3NhZ2UuaW52YWxpZF91c2VyX2lkJykpOwoJCX0KCQlpZiggIWlzc2V0KCR1c2VyX2luZm8tPm5hbWUpIHx8ICFzdHJsZW4oJHVzZXJfaW5mby0+bmFtZSkgKXsKCQkJJHJ0bi0+aXNfdmFsaWQgPSBmYWxzZTsKCQkJJHJ0bi0+ZXJyb3JzLT5uYW1lID0gYXJyYXkoJHRoaXMtPmxhbmcoKS0+Z2V0KCdlcnJvcl9tZXNzYWdlLnJlcXVpcmVkJykpOwoJCX0KCQlpZiggIWlzc2V0KCR1c2VyX2luZm8tPnB3KSB8fCAhc3RybGVuKCR1c2VyX2luZm8tPnB3KSApewoJCQkkcnRuLT5pc192YWxpZCA9IGZhbHNlOwoJCQkkcnRuLT5lcnJvcnMtPnB3ID0gYXJyYXkoJHRoaXMtPmxhbmcoKS0+Z2V0KCdlcnJvcl9tZXNzYWdlLnJlcXVpcmVkJykpOwoJCX0KCQlpZiggIWlzc2V0KCR1c2VyX2luZm8tPmxhbmcpIHx8ICFzdHJsZW4oJHVzZXJfaW5mby0+bGFuZykgKXsKCQkJJHJ0bi0+aXNfdmFsaWQgPSBmYWxzZTsKCQkJJHJ0bi0+ZXJyb3JzLT5sYW5nID0gYXJyYXkoJHRoaXMtPmxhbmcoKS0+Z2V0KCdlcnJvcl9tZXNzYWdlLnJlcXVpcmVkX3NlbGVjdCcpKTsKCQl9CgkJaWYoIGlzc2V0KCR1c2VyX2luZm8tPmVtYWlsKSAmJiBpc19zdHJpbmcoJHVzZXJfaW5mby0+ZW1haWwpICYmIHN0cmxlbigkdXNlcl9pbmZvLT5lbWFpbCkgKXsKCQkJaWYoICFwcmVnX21hdGNoKCcvXlteQFwvXFxcXF0rXEBbXkBcL1xcXFxdKyQvJywgJHVzZXJfaW5mby0+ZW1haWwpICl7CgkJCQkkcnRuLT5pc192YWxpZCA9IGZhbHNlOwoJCQkJJHJ0bi0+ZXJyb3JzLT5lbWFpbCA9IGFycmF5KCR0aGlzLT5sYW5nKCktPmdldCgnZXJyb3JfbWVzc2FnZS5pbnZhbGlkX2VtYWlsJykpOwoJCQl9CgkJfQoJCWlmKCAhaXNzZXQoJHVzZXJfaW5mby0+cm9sZSkgfHwgIXN0cmxlbigkdXNlcl9pbmZvLT5yb2xlKSApewoJCQkkcnRuLT5pc192YWxpZCA9IGZhbHNlOwoJCQkkcnRuLT5lcnJvcnMtPnJvbGUgPSBhcnJheSgkdGhpcy0+bGFuZygpLT5nZXQoJ2Vycm9yX21lc3NhZ2UucmVxdWlyZWRfc2VsZWN0JykpOwoJCX0KCQlzd2l0Y2goICR1c2VyX2luZm8tPnJvbGUgKXsKCQkJY2FzZSAnYWRtaW4nOgoJCQljYXNlICdzcGVjaWFsaXN0JzoKCQkJY2FzZSAnbWVtYmVyJzoKCQkJCWJyZWFrOwoJCQlkZWZhdWx0OgoJCQkJJHJ0bi0+aXNfdmFsaWQgPSBmYWxzZTsKCQkJCSRydG4tPmVycm9ycy0+cm9sZSA9IGFycmF5KCR0aGlzLT5sYW5nKCktPmdldCgnZXJyb3JfbWVzc2FnZS5pbnZhbGlkX3JvbGUnKSk7CgkJCQlicmVhazsKCQl9CgkJaWYoICRydG4tPmlzX3ZhbGlkICl7CgkJCSRydG4tPm1lc3NhZ2UgPSAnT0snOwoJCX1lbHNlewoJCQkkcnRuLT5tZXNzYWdlID0gJHRoaXMtPmxhbmcoKS0+Z2V0KCdlcnJvcl9tZXNzYWdlLmludmFsaWQnKTsKCQl9CgkJcmV0dXJuICRydG47Cgl9CgoKCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyDnrqHnkIbjg6bjg7zjgrbjg7zjg4fjg7zjgr/jg5XjgqHjgqTjg6vjga7oqq3jgb/mm7jjgY0KCgkvKioKCSAqIOeuoeeQhuODpuODvOOCtuODvOODh+ODvOOCv+ODleOCoeOCpOODq+OBruiqreOBv+i+vOOBvwoJICovCglwcml2YXRlIGZ1bmN0aW9uIHJlYWRfdXNlcl9kYXRhKCAkdXNlcl9pZCApewoJCSRyZWFscGF0aF9qc29uID0gJHRoaXMtPnJlYWxwYXRoX3VzZXJzLnVybGVuY29kZSgkdXNlcl9pZCkuJy5qc29uJzsKCQkkcmVhbHBhdGhfanNvbl9waHAgPSAkcmVhbHBhdGhfanNvbi4nLnBocCc7CgkJaWYoIGlzX2ZpbGUoJHJlYWxwYXRoX2pzb25fcGhwKSApewoJCQkkZGF0YSA9IGRhdGFEb3RQaHA6OnJlYWRfanNvbigkcmVhbHBhdGhfanNvbl9waHApOwoJCQlyZXR1cm4gJGRhdGE7CgkJfQoJCWlmKCBpc19maWxlKCRyZWFscGF0aF9qc29uKSApewoJCQkkZGF0YSA9IGpzb25fZGVjb2RlKGZpbGVfZ2V0X2NvbnRlbnRzKCRyZWFscGF0aF9qc29uKSk7CgkJCXJldHVybiAkZGF0YTsKCQl9CgkJcmV0dXJuIGZhbHNlOwoJfQoKCS8qKgoJICog566h55CG44Om44O844K244O844OH44O844K/44OV44Kh44Kk44Or44GM5a2Y5Zyo44GZ44KL44GL56K66KqN44GZ44KLCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gdXNlcl9kYXRhX2V4aXN0cyggJHVzZXJfaWQgKXsKCQkkcmVhbHBhdGhfanNvbiA9ICR0aGlzLT5yZWFscGF0aF91c2Vycy51cmxlbmNvZGUoJHVzZXJfaWQpLicuanNvbic7CgkJJHJlYWxwYXRoX2pzb25fcGhwID0gJHJlYWxwYXRoX2pzb24uJy5waHAnOwoJCWlmKCBpc19maWxlKCAkcmVhbHBhdGhfanNvbiApIHx8IGlzX2ZpbGUoJHJlYWxwYXRoX2pzb25fcGhwKSApewoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJcmV0dXJuIGZhbHNlOwoJfQoKCS8qKgoJICog566h55CG44Om44O844K244O844OH44O844K/44OV44Kh44Kk44Or44Gu5pu444GN6L6844G/CgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gd3JpdGVfdXNlcl9kYXRhKCAkdXNlcl9pZCwgJG5ld19wcm9maWxlICl7CgkJLy8gZGVlcGNvcHkKCQkkbmV3X3Byb2ZpbGUgPSBqc29uX2RlY29kZSgganNvbl9lbmNvZGUoJG5ld19wcm9maWxlKSApOwoKCQlpZiggIWlzX3N0cmluZygkdXNlcl9pZCkgfHwgIXN0cmxlbigkdXNlcl9pZCA/PyAnJykgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlpZiggIWlzX29iamVjdCgkbmV3X3Byb2ZpbGUpICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJaWYoICRuZXdfcHJvZmlsZS0+aWQgIT09ICR1c2VyX2lkICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCSR3cml0ZV9kYXRhID0gKG9iamVjdCkgYXJyYXkoKTsKCQkkd3JpdGVfZGF0YS0+bmFtZSA9ICRuZXdfcHJvZmlsZS0+bmFtZSA/PyBudWxsOwoJCSR3cml0ZV9kYXRhLT5pZCA9ICRuZXdfcHJvZmlsZS0+aWQgPz8gbnVsbDsKCQkkd3JpdGVfZGF0YS0+cHcgPSAkbmV3X3Byb2ZpbGUtPnB3ID8/IG51bGw7CgkJJHdyaXRlX2RhdGEtPmxhbmcgPSAkbmV3X3Byb2ZpbGUtPmxhbmcgPz8gbnVsbDsKCQkkd3JpdGVfZGF0YS0+ZW1haWwgPSAkbmV3X3Byb2ZpbGUtPmVtYWlsID8/IG51bGw7CgkJJHdyaXRlX2RhdGEtPnJvbGUgPSAkbmV3X3Byb2ZpbGUtPnJvbGUgPz8gbnVsbDsKCgkJJHJlYWxwYXRoX2pzb24gPSAkdGhpcy0+cmVhbHBhdGhfdXNlcnMudXJsZW5jb2RlKCR1c2VyX2lkKS4nLmpzb24nOwoJCSRyZWFscGF0aF9qc29uX3BocCA9ICRyZWFscGF0aF9qc29uLicucGhwJzsKCQkkcmVzdWx0ID0gZGF0YURvdFBocDo6d3JpdGVfanNvbigkcmVhbHBhdGhfanNvbl9waHAsICR3cml0ZV9kYXRhKTsKCQlpZiggISRyZXN1bHQgKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkdGhpcy0+ZnMtPmNobW9kX3IoJHRoaXMtPnJlYWxwYXRoX3VzZXJzLCAwNzAwLCAwNzAwKTsKCgkJaWYoIGlzX2ZpbGUoJHJlYWxwYXRoX2pzb24pICl7CgkJCXVubGluaygkcmVhbHBhdGhfanNvbik7IC8vIOe0oOOBrkpTT07jgYzjgYLjgaPjgZ/jgonliYrpmaTjgZnjgosKCQl9CgkJcmV0dXJuICRyZXN1bHQ7Cgl9CgoJLyoqCgkgKiDnrqHnkIbjg6bjg7zjgrbjg7zjg4fjg7zjgr/jg5XjgqHjgqTjg6vjgpLmlLnlkI0KCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiByZW5hbWVfdXNlcl9kYXRhKCAkdXNlcl9pZCwgJG5ld191c2VyX2lkICl7CgkJJHJlYWxwYXRoX2pzb24gPSAkdGhpcy0+cmVhbHBhdGhfdXNlcnMudXJsZW5jb2RlKCR1c2VyX2lkKS4nLmpzb24nOwoJCSRyZWFscGF0aF9qc29uX3BocCA9ICRyZWFscGF0aF9qc29uLicucGhwJzsKCgkJJHJlYWxwYXRoX25ld19qc29uID0gJHRoaXMtPnJlYWxwYXRoX3VzZXJzLnVybGVuY29kZSgkbmV3X3VzZXJfaWQpLicuanNvbic7CgkJJHJlYWxwYXRoX25ld19qc29uX3BocCA9ICRyZWFscGF0aF9uZXdfanNvbi4nLnBocCc7CgoJCSRyZXN1bHQgPSB0cnVlOwoKCQlpZiggaXNfZmlsZSggJHJlYWxwYXRoX2pzb24gKSApewoJCQkkcmVzX3JlbmFtZSA9ICR0aGlzLT5mcy0+cmVuYW1lKAoJCQkJJHJlYWxwYXRoX2pzb24sCgkJCQkkcmVhbHBhdGhfbmV3X2pzb24KCQkJKTsKCQkJaWYoICEkcmVzX3JlbmFtZSApewoJCQkJJHJlc3VsdCA9IGZhbHNlOwoJCQl9CgkJfQoKCQlpZiggaXNfZmlsZSggJHJlYWxwYXRoX2pzb25fcGhwICkgKXsKCQkJJHJlc19yZW5hbWUgPSAkdGhpcy0+ZnMtPnJlbmFtZSgKCQkJCSRyZWFscGF0aF9qc29uX3BocCwKCQkJCSRyZWFscGF0aF9uZXdfanNvbl9waHAKCQkJKTsKCQkJaWYoICEkcmVzX3JlbmFtZSApewoJCQkJJHJlc3VsdCA9IGZhbHNlOwoJCQl9CgkJfQoKCQlyZXR1cm4gJHJlc3VsdDsKCX0KCgkvKioKCSAqIOeuoeeQhuODpuODvOOCtuODvOODh+ODvOOCv+ODleOCoeOCpOODq+OCkuWJiumZpAoJICovCglwcml2YXRlIGZ1bmN0aW9uIHJlbW92ZV91c2VyX2RhdGEoICR1c2VyX2lkICl7CgkJJHJlYWxwYXRoX2pzb24gPSAkdGhpcy0+cmVhbHBhdGhfdXNlcnMudXJsZW5jb2RlKCR1c2VyX2lkKS4nLmpzb24nOwoJCSRyZWFscGF0aF9qc29uX3BocCA9ICRyZWFscGF0aF9qc29uLicucGhwJzsKCQkkcmVzdWx0ID0gdHJ1ZTsKCQlpZiggaXNfZmlsZSgkcmVhbHBhdGhfanNvbikgKXsKCQkJaWYoIXVubGluaygkcmVhbHBhdGhfanNvbikpewoJCQkJJHJlc3VsdCA9IGZhbHNlOwoJCQl9CgkJfQoJCWlmKCBpc19maWxlKCRyZWFscGF0aF9qc29uX3BocCkgKXsKCQkJaWYoIXVubGluaygkcmVhbHBhdGhfanNvbl9waHApKXsKCQkJCSRyZXN1bHQgPSBmYWxzZTsKCQkJfQoJCX0KCQlyZXR1cm4gJHJlc3VsdDsKCX0KCgoJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCS8vIEFQSeOCreODvAoKCS8qKgoJICogQVBJ44Kt44O844GM5pyJ5Yq544GL77yfCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc192YWxpZF9hcGlfa2V5KCAkYXBpX2tleSApewoJCSRhcGlfa2V5X2F0dHJpYnV0ZSA9ICR0aGlzLT5nZXRfYXBpX2tleV9hdHRyaWJ1dGVzKCAkYXBpX2tleSApOwoJCWlmKCAkYXBpX2tleV9hdHRyaWJ1dGUgPT09IGZhbHNlICl7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkgKiBBUEnjgq3jg7zjgavkuI7jgYjjgonjgozjgZ/lsZ7mgKfmg4XloLHjgpLlj5blvpfjgZnjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9hcGlfa2V5X2F0dHJpYnV0ZXMoICRhcGlfa2V5ICl7CgoJCSRhcGlfa2V5X2luaXRpYWwxMCA9IHN1YnN0cigkYXBpX2tleSwgMCwgMTApOwoKCQkvLyBjb25maWcg44Gr5a6a576p44GV44KM44GfQVBJ44Kt44O844Gn44Ot44Kw44Kk44Oz44KS6Kmm44G/44KLCgkJJGFwaV9rZXlzID0gKGFycmF5KSAkdGhpcy0+cmVuY29uLT5jb25mKCktPmFwaV9rZXlzOwoJCWlmKCBpc19hcnJheSgkYXBpX2tleXNbJGFwaV9rZXlfaW5pdGlhbDEwXSA/PyBudWxsKSB8fCBpc19vYmplY3QoJGFwaV9rZXlzWyRhcGlfa2V5X2luaXRpYWwxMF0gPz8gbnVsbCkgKXsKCQkJaWYoIHBhc3N3b3JkX3ZlcmlmeSgkYXBpX2tleSwgJGFwaV9rZXlzWyRhcGlfa2V5X2luaXRpYWwxMF1bJ2tleSddKSApewoJCQkJcmV0dXJuIChvYmplY3QpICRhcGlfa2V5c1skYXBpX2tleV9pbml0aWFsMTBdOwoJCQl9CgkJfQoKCQkvLyDjg6bjg7zjgrbjg7zjg4fjgqPjg6zjgq/jg4jjg6rjgavjgrvjg4Pjg4jjgZXjgozjgZ/jg6bjg7zjgrbjg7zjgafoqabjgb/jgosKCQlpZiggc3RybGVuKCR0aGlzLT5yZWFscGF0aF9hcGlfa2V5X2pzb24gPz8gJycpICYmIGlzX2ZpbGUoJHRoaXMtPnJlYWxwYXRoX2FwaV9rZXlfanNvbikgKXsKCQkJJGFwaV9rZXlzID0gZGF0YURvdFBocDo6cmVhZF9qc29uKCR0aGlzLT5yZWFscGF0aF9hcGlfa2V5X2pzb24pOwoJCQlpZiggaXNfb2JqZWN0KCRhcGlfa2V5cy0+eyRhcGlfa2V5X2luaXRpYWwxMH0gPz8gbnVsbCkgKXsKCQkJCWlmKCBwYXNzd29yZF92ZXJpZnkoJGFwaV9rZXksICRhcGlfa2V5cy0+eyRhcGlfa2V5X2luaXRpYWwxMH0tPmtleSkgKXsKCQkJCQlyZXR1cm4gKG9iamVjdCkgJGFwaV9rZXlzLT57JGFwaV9rZXlfaW5pdGlhbDEwfTsKCQkJCX0KCQkJfQoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgoKCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyBDU1JG44OI44O844Kv44OzCgoJLyoqCgkgKiBDU1JG44OI44O844Kv44Oz44KS5Y+W5b6X44GZ44KLCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRfY3NyZl90b2tlbigpewoJCSRDU1JGX1RPS0VOID0gJHRoaXMtPnJlcS0+Z2V0X3Nlc3Npb24oJ0NTUkZfVE9LRU4nKTsKCQlpZiggIWlzX2FycmF5KCRDU1JGX1RPS0VOKSApewoJCQkkQ1NSRl9UT0tFTiA9IGFycmF5KCk7CgkJfQoJCWlmKCAhY291bnQoJENTUkZfVE9LRU4pICl7CgkJCXJldHVybiAkdGhpcy0+Y3JlYXRlX2NzcmZfdG9rZW4oKTsKCQl9CgkJZm9yZWFjaCggJENTUkZfVE9LRU4gYXMgJHRva2VuICl7CgkJCWlmKCAkdG9rZW5bJ2NyZWF0ZWRfYXQnXSA8IHRpbWUoKSAtICgkdGhpcy0+Y3NyZl90b2tlbl9leHBpcmUgLyAyKSApewoJCQkJY29udGludWU7IC8vIOacieWKueacn+mZkOOBjOWIh+OCjOOBpuOBhOOBn+OCieipleS+oeOBp+OBjeOBquOBhAoJCQl9CgkJCXJldHVybiAkdG9rZW5bJ2hhc2gnXTsKCQl9CgkJcmV0dXJuICR0aGlzLT5jcmVhdGVfY3NyZl90b2tlbigpOwoJfQoKCS8qKgoJICog5paw44GX44GEQ1NSRuODiOODvOOCr+ODs+OCkueZuuihjOOBmeOCiwoJICovCglwcml2YXRlIGZ1bmN0aW9uIGNyZWF0ZV9jc3JmX3Rva2VuKCl7CgkJJENTUkZfVE9LRU4gPSAkdGhpcy0+cmVxLT5nZXRfc2Vzc2lvbignQ1NSRl9UT0tFTicpOwoJCWlmKCAhaXNfYXJyYXkoJENTUkZfVE9LRU4pICl7CgkJCSRDU1JGX1RPS0VOID0gYXJyYXkoKTsKCQl9CgoJCSRoYXNoID0gYmluMmhleChyYW5kb21fYnl0ZXMoMzIpKTsKCQlhcnJheV9wdXNoKCRDU1JGX1RPS0VOLCBhcnJheSgKCQkJJ2hhc2gnID0+ICRoYXNoLAoJCQknY3JlYXRlZF9hdCcgPT4gdGltZSgpLAoJCSkpOwoJCSR0aGlzLT5yZXEtPnNldF9zZXNzaW9uKCdDU1JGX1RPS0VOJywgJENTUkZfVE9LRU4pOwoJCXJldHVybiAkaGFzaDsKCX0KCgkvKioKCSAqIENTUkbjg4jjg7zjgq/jg7Pjga7mpJzoqLzjgpLooYzjgo/jgarjgYTmnaHku7bjgpLoqr/mn7sKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBpc19jc3JmX3Rva2VuX3JlcXVpcmVkKCl7CgkJaWYoIHN0cnRvdXBwZXIoJF9TRVJWRVJbJ1JFUVVFU1RfTUVUSE9EJ10gPz8gJycpID09ICdHRVQnICl7CgkJCS8vIEdFVOOBruODquOCr+OCqOOCueODiOOBp+OBr+OAgUNTUkbjg4jjg7zjgq/jg7PjgpLopoHmsYLjgZfjgarjgYQKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvKioKCSAqIOacieWKueOBqkNTUkbjg4jjg7zjgq/jg7PjgpLlj5fkv6HjgZfjgZ/jgYsKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzX3ZhbGlkX2NzcmZfdG9rZW5fZ2l2ZW4oKXsKCgkJJENTUkZfVE9LRU4gPSAkdGhpcy0+cmVxLT5nZXRfcGFyYW0oJ0NTUkZfVE9LRU4nKTsKCQlpZiggISRDU1JGX1RPS0VOICl7CgkJCSRoZWFkZXJzID0gZ2V0YWxsaGVhZGVycygpOwoJCQlmb3JlYWNoKCRoZWFkZXJzIGFzICRoZWFkZXJfbmFtZT0+JGhlYWRlcl92YWwpewoJCQkJaWYoIHN0cnRvbG93ZXIoJGhlYWRlcl9uYW1lKSA9PSAneC1yZW5jb24tYWRtaW4tY3NyZi10b2tlbicgKXsKCQkJCQkkQ1NSRl9UT0tFTiA9ICRoZWFkZXJfdmFsOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQl9CgkJfQoJCWlmKCAhJENTUkZfVE9LRU4gKXsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJJENTUkZfVE9LRU5fTElTVCA9ICR0aGlzLT5yZXEtPmdldF9zZXNzaW9uKCdDU1JGX1RPS0VOJyk7CgkJaWYoICFpc19hcnJheSgkQ1NSRl9UT0tFTl9MSVNUKSApewoJCQkkQ1NSRl9UT0tFTl9MSVNUID0gYXJyYXkoKTsKCQl9CgkJZm9yZWFjaCggJENTUkZfVE9LRU5fTElTVCBhcyAkaWR4ID0+ICR0b2tlbiApewoJCQlpZiggJHRva2VuWydjcmVhdGVkX2F0J10gPCB0aW1lKCkgLSAkdGhpcy0+Y3NyZl90b2tlbl9leHBpcmUgKXsKCQkJCS8vIOacieWKueacn+mZkOOBjOWIh+OCjOOBpuOBhOOBn+OCieipleS+oeOBp+OBjeOBquOBhOOAggoJCQkJLy8g6YWN5YiX44GL44KJ5YmK6Zmk44GZ44KL44CCCgkJCQl1bnNldCgkQ1NSRl9UT0tFTl9MSVNUWyRpZHhdKTsKCQkJCSR0aGlzLT5yZXEtPnNldF9zZXNzaW9uKCdDU1JGX1RPS0VOJywgJENTUkZfVE9LRU5fTElTVCk7CgkJCQljb250aW51ZTsKCQkJfQoJCQlpZiggJHRva2VuWydoYXNoJ10gPT0gJENTUkZfVE9LRU4gKXsKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJfQoKCQlyZXR1cm4gZmFsc2U7Cgl9Cn0KPz4=',
           "resources" => 'PD9waHAKbmFtZXNwYWNlIHJlbmNvbkZyYW1ld29yazsKCi8qKgogKiByZXNvdXJjZU1nciBjbGFzcwogKgogKiBAYXV0aG9yIFRvbW95YSBLb3lhbmFnaSA8dG9tazc5QGdtYWlsLmNvbT4KICovCmNsYXNzIHJlc291cmNlc3sKCXByaXZhdGUgJG1haW47CgoJLyoqCgkgKiBDb25zdHJ1Y3RvcgoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoICRtYWluICl7CgkJJHRoaXMtPm1haW4gPSAkbWFpbjsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZWNob19yZXNvdXJjZSggJHBhdGggKXsKCQkkZXh0ID0gbnVsbDsKCQlpZiggcHJlZ19tYXRjaCgnL1wuKFthLXpBLVowLTlcX1wtXSopJC8nLCAkcGF0aCwgJG1hdGNoZWQpICl7CgkJCSRleHQgPSAkbWF0Y2hlZFsxXTsKCQkJJGV4dCA9IHN0cnRvbG93ZXIoJGV4dCk7CgkJCSRtaW1lID0gJHRoaXMtPmdldF9taW1lX3R5cGUoJGV4dCk7CgkJCWlmKCAhJG1pbWUgKXsgJG1pbWUgPSAndGV4dC9odG1sJzsgfQoJCQloZWFkZXIoJ0NvbnRlbnQtdHlwZTogJy4kbWltZSk7CgkJfQoJCWVjaG8gJHRoaXMtPmdldCgkcGF0aCk7CgkJZXhpdDsKCX0KCgkvKioKCSAqIOODquOCveODvOOCueOCkuWPluW+lwoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0KCAkcGF0aCApewoJCSRwYXRoID0gcHJlZ19yZXBsYWNlKCAnLyQoPzpcLyp8XC5cLj9cLykqLycsICcnLCAkcGF0aCApOwoKCQkkcmVzb3VyY2VzID0gYXJyYXkoCgovKiBmdW5jdGlvbiByZXNvdXJjZSgpICovCgoJCSk7CgoJCWlmKCAhYXJyYXlfa2V5X2V4aXN0cygkcGF0aCwgJHJlc291cmNlcykgKXsgcmV0dXJuIGZhbHNlOyB9CgkJcmV0dXJuIGJhc2U2NF9kZWNvZGUoJHJlc291cmNlc1skcGF0aF0pOwoJfQoKCS8qKgoJICog5ouh5by15a2Q44GL44KJIG1pbWUtdHlwZSDjgpLlvpfjgosKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldF9taW1lX3R5cGUoJGV4dCl7CgkJc3dpdGNoKCAkZXh0ICl7CgkJCWNhc2UgJ2h0bWwnOgoJCQljYXNlICdodG0nOgoJCQkJcmV0dXJuICd0ZXh0L2h0bWwnOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ2pzJzoKCQkJCXJldHVybiAndGV4dC9qYXZhc2NyaXB0JzsKCQkJCWJyZWFrOwoJCQljYXNlICdjc3MnOgoJCQljYXNlICdzY3NzJzoKCQkJCXJldHVybiAndGV4dC9jc3MnOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ2dpZic6CgkJCQlyZXR1cm4gJ2ltYWdlL2dpZic7CgkJCQlicmVhazsKCQkJY2FzZSAncG5nJzoKCQkJCXJldHVybiAnaW1hZ2UvcG5nJzsKCQkJCWJyZWFrOwoJCQljYXNlICdqcGcnOgoJCQljYXNlICdqcGVnJzoKCQkJY2FzZSAnanBlJzoKCQkJCXJldHVybiAnaW1hZ2UvanBlZyc7CgkJCQlicmVhazsKCQkJY2FzZSAnc3ZnJzoKCQkJCXJldHVybiAnaW1hZ2Uvc3ZnK3htbCAnOwoJCQkJYnJlYWs7CgkJCWNhc2UgJ3RleHQnOgoJCQljYXNlICd0eHQnOgoJCQljYXNlICdsb2cnOgoJCQljYXNlICdzaCc6CgkJCWNhc2UgJ2JhdCc6CgkJCWNhc2UgJ3BocCc6CgkJCWNhc2UgJ2pzb24nOgoJCQljYXNlICd5bWwnOgoJCQljYXNlICd5bWwnOgoJCQljYXNlICdodGFjY2Vzcyc6CgkJCQlyZXR1cm4gJ3RleHQvcGxhaW4nOwoJCQkJYnJlYWs7CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCn0KPz4=',
           "language.csv" => 'YXJyYXkgKAogIDAgPT4gCiAgYXJyYXkgKAogICAgMCA9PiAnJywKICAgIDEgPT4gJ2VuJywKICAgIDIgPT4gJ2phJywKICAgIDMgPT4gJ3poJywKICAgIDQgPT4gJ3poLVRXJywKICApLAogIDEgPT4gCiAgYXJyYXkgKAogICAgMCA9PiAncGFnZV90aXRsZS5sb2dvdXQnLAogICAgMSA9PiAnTG9nb3V0JywKICAgIDIgPT4gJ+ODreOCsOOCouOCpuODiCcsCiAgICAzID0+ICcnLAogICAgNCA9PiAnJywKICApLAogIDIgPT4gCiAgYXJyYXkgKAogICAgMCA9PiAndWlfbGFiZWwub2snLAogICAgMSA9PiAnT0snLAogICAgMiA9PiAnT0snLAogICAgMyA9PiAnT0snLAogICAgNCA9PiAnT0snLAogICksCiAgMyA9PiAKICBhcnJheSAoCiAgICAwID0+ICd1aV9sYWJlbC5zYXZlJywKICAgIDEgPT4gJ1NhdmUnLAogICAgMiA9PiAn5L+d5a2Y44GZ44KLJywKICAgIDMgPT4gJ+S/neWtmCcsCiAgICA0ID0+ICfkv53lrZgnLAogICksCiAgNCA9PiAKICBhcnJheSAoCiAgICAwID0+ICd1aV9sYWJlbC5jYW5jZWwnLAogICAgMSA9PiAnQ2FuY2VsJywKICAgIDIgPT4gJ+OCreODo+ODs+OCu+ODqycsCiAgICAzID0+ICflj5bmtognLAogICAgNCA9PiAn5Y+W5raIJywKICApLAogIDUgPT4gCiAgYXJyYXkgKAogICAgMCA9PiAndWlfbGFiZWwuY2xvc2UnLAogICAgMSA9PiAnQ2xvc2UnLAogICAgMiA9PiAn6ZaJ44GY44KLJywKICAgIDMgPT4gJ+WFs+mXrScsCiAgICA0ID0+ICfpl5zploknLAogICksCiAgNiA9PiAKICBhcnJheSAoCiAgICAwID0+ICd1aV9sYWJlbC5jcmVhdGUnLAogICAgMSA9PiAnQ3JlYXRlJywKICAgIDIgPT4gJ+S9nOaIkOOBmeOCiycsCiAgICAzID0+ICcnLAogICAgNCA9PiAnJywKICApLAogIDcgPT4gCiAgYXJyYXkgKAogICAgMCA9PiAndWlfbGFiZWwuZmluaXNoZWQnLAogICAgMSA9PiAnRmluaXNoZWQnLAogICAgMiA9PiAn5a6M5LqGJywKICAgIDMgPT4gJycsCiAgICA0ID0+ICcnLAogICksCiAgOCA9PiAKICBhcnJheSAoCiAgICAwID0+ICd1aV9sYWJlbC5hbmNob3InLAogICAgMSA9PiAnQW5jaG9yJywKICAgIDIgPT4gJ+OCouODs+OCq+ODvCcsCiAgICAzID0+ICcnLAogICAgNCA9PiAnJywKICApLAogIDkgPT4gCiAgYXJyYXkgKAogICAgMCA9PiAndWlfbGFiZWwuc2VhcmNoJywKICAgIDEgPT4gJ1NlYXJjaCcsCiAgICAyID0+ICfmpJzntKInLAogICAgMyA9PiAnJywKICAgIDQgPT4gJycsCiAgKSwKICAxMCA9PiAKICBhcnJheSAoCiAgICAwID0+ICd1aV9sYWJlbC5iYWNrJywKICAgIDEgPT4gJ0JhY2snLAogICAgMiA9PiAn5oi744KLJywKICAgIDMgPT4gJycsCiAgICA0ID0+ICcnLAogICksCiAgMTEgPT4gCiAgYXJyYXkgKAogICAgMCA9PiAndWlfbGFiZWwubG9naW4nLAogICAgMSA9PiAnTG9naW4nLAogICAgMiA9PiAn44Ot44Kw44Kk44OzJywKICAgIDMgPT4gJycsCiAgICA0ID0+ICcnLAogICksCiAgMTIgPT4gCiAgYXJyYXkgKAogICAgMCA9PiAndWlfbGFiZWwucmVtb3ZlX3RoaXNfbW9kdWxlJywKICAgIDEgPT4gJ1JlbW92ZScsCiAgICAyID0+ICfliYrpmaTjgZnjgosnLAogICAgMyA9PiAnJywKICAgIDQgPT4gJycsCiAgKSwKICAxMyA9PiAKICBhcnJheSAoCiAgICAwID0+ICd1aV9sYWJlbC51c2VyX25hbWUnLAogICAgMSA9PiAnTmFtZScsCiAgICAyID0+ICfjgYrlkI3liY0nLAogICAgMyA9PiAnJywKICAgIDQgPT4gJycsCiAgKSwKICAxNCA9PiAKICBhcnJheSAoCiAgICAwID0+ICd1aV9sYWJlbC51c2VyX2lkJywKICAgIDEgPT4gJ1VzZXIgSUQnLAogICAgMiA9PiAn44Om44O844K244O8SUQnLAogICAgMyA9PiAnJywKICAgIDQgPT4gJycsCiAgKSwKICAxNSA9PiAKICBhcnJheSAoCiAgICAwID0+ICd1aV9sYWJlbC51c2VyX3B3JywKICAgIDEgPT4gJ1Bhc3N3b3JkJywKICAgIDIgPT4gJ+ODkeOCueODr+ODvOODiScsCiAgICAzID0+ICcnLAogICAgNCA9PiAnJywKICApLAogIDE2ID0+IAogIGFycmF5ICgKICAgIDAgPT4gJ3VpX2xhYmVsLnVzZXJfZW1haWwnLAogICAgMSA9PiAnRS1tYWlsJywKICAgIDIgPT4gJ+ODoeODvOODq+OCouODieODrOOCuScsCiAgICAzID0+ICcnLAogICAgNCA9PiAnJywKICApLAogIDE3ID0+IAogIGFycmF5ICgKICAgIDAgPT4gJ3VpX2xhYmVsLnVzZXJfcm9sZScsCiAgICAxID0+ICdSb2xlJywKICAgIDIgPT4gJ+ODreODvOODqycsCiAgICAzID0+ICcnLAogICAgNCA9PiAnJywKICApLAogIDE4ID0+IAogIGFycmF5ICgKICAgIDAgPT4gJ3VpX21lc3NhZ2UuZmlyc3RfcmVnaXN0ZXJfYW5fYWRtaW5pc3RyYXRvcl9hY2NvdW50JywKICAgIDEgPT4gJ0ZpcnN0LCByZWdpc3RlciBhbiBhZG1pbmlzdHJhdG9yIGFjY291bnQuJywKICAgIDIgPT4gJ+OBr+OBmOOCgeOBq+OAgeeuoeeQhuiAheOCouOCq+OCpuODs+ODiOOCkueZu+mMsuOBl+OBpuOBj+OBoOOBleOBhOOAgicsCiAgICAzID0+ICcnLAogICAgNCA9PiAnJywKICApLAogIDE5ID0+IAogIGFycmF5ICgKICAgIDAgPT4gJ3VpX21lc3NhZ2UudXNlcl9pZF9lbmFibGVfY2hhcicsCiAgICAxID0+ICdTaW5nbGUtYnl0ZSBhbHBoYW51bWVyaWMgY2hhcmFjdGVycywgaHlwaGVucywgYW5kIHVuZGVyc2NvcmVzIGNhbiBiZSB1c2VkLicsCiAgICAyID0+ICfljYrop5Loi7HmlbDlrZfjgIHjg4/jgqTjg5Xjg7PjgIHjgqLjg7Pjg4Djg7zjgrnjgrPjgqIg44GM5L2/44GI44G+44GZ44CCJywKICAgIDMgPT4gJycsCiAgICA0ID0+ICcnLAogICksCiAgMjAgPT4gCiAgYXJyYXkgKAogICAgMCA9PiAndWlfbWVzc2FnZS50aGlzX21vZHVsZV9oYXNfbm9fb3B0aW9ucycsCiAgICAxID0+ICdUaGlzIG1vZHVsZSBoYXMgbm8gb3B0aW9ucy4nLAogICAgMiA9PiAn44GT44Gu44Oi44K444Ol44O844Or44Gr44Gv44Kq44OX44K344On44Oz44GM5a6a576p44GV44KM44Gm44GE44G+44Gb44KT44CCJywKICAgIDMgPT4gJycsCiAgICA0ID0+ICcnLAogICksCiAgMjEgPT4gCiAgYXJyYXkgKAogICAgMCA9PiAndWlfbWVzc2FnZS5zZW5kaW5nX2RhdGEnLAogICAgMSA9PiAnU2VuZGluZyBkYXRhLi4uJywKICAgIDIgPT4gJ+ODh+ODvOOCv+OCkumAgeS/oeOBl+OBpuOBhOOBvuOBmS4uLicsCiAgICAzID0+ICcnLAogICAgNCA9PiAnJywKICApLAogIDIyID0+IAogIGFycmF5ICgKICAgIDAgPT4gJ3VpX21lc3NhZ2UuY29uZmlybV9lcnJvcicsCiAgICAxID0+ICdUaGVyZSBpcyBhbnkgaW5wdXQgZXJyb3JzLiBQbGVhc2UgY29uZmlybS4nLAogICAgMiA9PiAn5YWl5Yqb44Ko44Op44O844GM44GC44KK44G+44GZ44CC56K66KqN44GX44Gm44GP44Gg44GV44GE44CCJywKICAgIDMgPT4gJycsCiAgICA0ID0+ICcnLAogICksCiAgMjMgPT4gCiAgYXJyYXkgKAogICAgMCA9PiAndWlfbWVzc2FnZS5lbnRlcl9vbmx5X3doZW5fY2hhbmdpbmdfdGhlX3Bhc3N3b3JkJywKICAgIDEgPT4gJ0VudGVyIG9ubHkgd2hlbiBjaGFuZ2luZyB0aGUgcGFzc3dvcmQuJywKICAgIDIgPT4gJ+ODkeOCueODr+ODvOODieOCkuWkieabtOOBmeOCi+WgtOWQiOOBruOBv+WFpeWKm+OBl+OBpuOBj+OBoOOBleOBhOOAgicsCiAgICAzID0+ICcnLAogICAgNCA9PiAnJywKICApLAogIDI0ID0+IAogIGFycmF5ICgKICAgIDAgPT4gJ3VpX21lc3NhZ2Uuc2F2ZV9jb21wbGV0ZWQnLAogICAgMSA9PiAnU2F2aW5nIGlzIGNvbXBsZXRlLicsCiAgICAyID0+ICfkv53lrZjjgpLlrozkuobjgZfjgb7jgZfjgZ/jgIInLAogICAgMyA9PiAnJywKICAgIDQgPT4gJycsCiAgKSwKICAyNSA9PiAKICBhcnJheSAoCiAgICAwID0+ICd1aV9tZXNzYWdlLmxvZ2dlZF9vdXQnLAogICAgMSA9PiAnTG9nZ2VkIG91dC4nLAogICAgMiA9PiAn44Ot44Kw44Ki44Km44OI44GX44G+44GX44Gf44CCJywKICAgIDMgPT4gJycsCiAgICA0ID0+ICcnLAogICksCiAgMjYgPT4gCiAgYXJyYXkgKAogICAgMCA9PiAnbG9naW5fZXJyb3IuY3NyZl90b2tlbl9leHBpcmVkJywKICAgIDEgPT4gJ1Rva2VuIEV4cGlyZWQuJywKICAgIDIgPT4gJ+iqjeiovOODiOODvOOCr+ODs+OBjOeEoeWKueOBi+OAgeacn+mZkOOBjOWIh+OCjOOBpuOBhOOBvuOBmeOAgicsCiAgKSwKICAyNyA9PiAKICBhcnJheSAoCiAgICAwID0+ICdsb2dpbl9lcnJvci51c2VyX2lkX2lzX3JlcXVpcmVkJywKICAgIDEgPT4gJ1VzZXIgSUQgaXMgcmVxdWlyZWQuJywKICAgIDIgPT4gJ+ODpuODvOOCtuODvElE44KS5YWl5Yqb44GX44Gm44GP44Gg44GV44GE44CCJywKICApLAogIDI4ID0+IAogIGFycmF5ICgKICAgIDAgPT4gJ2xvZ2luX2Vycm9yLmludmFsaWRfdXNlcl9pZCcsCiAgICAxID0+ICdJbnZhbGlkIFVzZXIgSUQuJywKICAgIDIgPT4gJ+ODpuODvOOCtuODvElE44Gu5b2i5byP44GM5LiN5q2j44Gn44GZ44CCJywKICApLAogIDI5ID0+IAogIGFycmF5ICgKICAgIDAgPT4gJ2xvZ2luX2Vycm9yLmZhaWxlZCcsCiAgICAxID0+ICdGYWlsZWQgdG8gbG9naW4uIEluY29ycmVjdCBjcmVkZW50aWFscy4nLAogICAgMiA9PiAn44Ot44Kw44Kk44Oz44Gr5aSx5pWX44GX44G+44GX44Gf44CCIOiqjeiovOaDheWgseOBjOato+OBl+OBj+OBguOCiuOBvuOBm+OCk+OAgicsCiAgKSwKICAzMCA9PiAKICBhcnJheSAoCiAgICAwID0+ICdsb2dpbl9lcnJvci5hY2NvdW50X2xvY2tlZCcsCiAgICAxID0+ICdBY2NvdW50IGlzIGxvY2tlZC4gUGxlYXNlIHRyeSBhZ2FpbiBhZnRlciBhIHdoaWxlLicsCiAgICAyID0+ICfjgqLjgqvjgqbjg7Pjg4jjgYzjg63jg4Pjgq/jgZXjgozjgabjgYTjgb7jgZnjgILjgZfjgbDjgonjgY/mmYLplpPjgpLjgYrjgYTjgabjgYroqabjgZfjgY/jgaDjgZXjgYTjgIInLAogICksCiAgMzEgPT4gCiAgYXJyYXkgKAogICAgMCA9PiAnZXJyb3JfbWVzc2FnZS5pbnZhbGlkJywKICAgIDEgPT4gJ1RoZXJlIGlzIGEgcHJvYmxlbSB3aXRoIHRoZSBpbnB1dCBjb250ZW50LicsCiAgICAyID0+ICflhaXlipvlhoXlrrnjgavkuI3lgpnjgYzjgYLjgorjgb7jgZnjgIInLAogICAgMyA9PiAnJywKICAgIDQgPT4gJycsCiAgKSwKICAzMiA9PiAKICBhcnJheSAoCiAgICAwID0+ICdlcnJvcl9tZXNzYWdlLmludmFsaWRfdXNlcl9pZCcsCiAgICAxID0+ICdNYWxmb3JtZWQgVXNlciBJRC4nLAogICAgMiA9PiAn5LiN5q2j44Gq5b2i5byP44Gu44Om44O844K244O8SUTjgafjgZnjgIInLAogICAgMyA9PiAnJywKICAgIDQgPT4gJycsCiAgKSwKICAzMyA9PiAKICBhcnJheSAoCiAgICAwID0+ICdlcnJvcl9tZXNzYWdlLmludmFsaWRfZW1haWwnLAogICAgMSA9PiAnTWFsZm9ybWVkIEUtbWFpbCBhZGRyZXNzLicsCiAgICAyID0+ICfkuI3mraPjgarlvaLlvI/jga7jg6Hjg7zjg6vjgqLjg4njg6zjgrnjgafjgZnjgIInLAogICAgMyA9PiAnJywKICAgIDQgPT4gJycsCiAgKSwKICAzNCA9PiAKICBhcnJheSAoCiAgICAwID0+ICdlcnJvcl9tZXNzYWdlLnJlcXVpcmVkJywKICAgIDEgPT4gJ1RoaXMgaXMgcmVxdWlyZWQuJywKICAgIDIgPT4gJ+W/heOBmuWFpeWKm+OBl+OBpuOBj+OBoOOBleOBhOOAgicsCiAgICAzID0+ICcnLAogICAgNCA9PiAnJywKICApLAogIDM1ID0+IAogIGFycmF5ICgKICAgIDAgPT4gJ2Vycm9yX21lc3NhZ2UucmVxdWlyZWRfc2VsZWN0JywKICAgIDEgPT4gJ1RoaXMgaXMgcmVxdWlyZWQuJywKICAgIDIgPT4gJ+W/heOBmumBuOaKnuOBl+OBpuOBj+OBoOOBleOBhOOAgicsCiAgICAzID0+ICcnLAogICAgNCA9PiAnJywKICApLAogIDM2ID0+IAogIGFycmF5ICgKICAgIDAgPT4gJ2Vycm9yX21lc3NhZ2UucmVxdWlyZWRfdXNlcl9pZCcsCiAgICAxID0+ICdVc2VyIElEIGlzIHJlcXVpcmVkLicsCiAgICAyID0+ICfjg6bjg7zjgrbjg7xJROOCkuWFpeWKm+OBl+OBpuOBj+OBoOOBleOBhOOAgicsCiAgICAzID0+ICcnLAogICAgNCA9PiAnJywKICApLAop',
       );
       return base64_decode($files[$className]);
   }
}
